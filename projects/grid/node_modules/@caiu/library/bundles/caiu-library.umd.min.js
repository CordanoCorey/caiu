!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/animations"),require("@angular/common"),require("@angular/flex-layout"),require("@angular/router"),require("hammerjs"),require("@angular/forms"),require("@angular/material"),require("rxjs"),require("@progress/kendo-data-query"),require("@progress/kendo-angular-excel-export"),require("@progress/kendo-angular-grid"),require("@angular/material/icon"),require("@ngrx/effects"),require("rxjs/operators"),require("@ngrx/store"),require("@angular/common/http"),require("rxjs/internal/Observable")):"function"==typeof define&&define.amd?define("@caiu/library",["exports","@angular/core","@angular/animations","@angular/common","@angular/flex-layout","@angular/router","hammerjs","@angular/forms","@angular/material","rxjs","@progress/kendo-data-query","@progress/kendo-angular-excel-export","@progress/kendo-angular-grid","@angular/material/icon","@ngrx/effects","rxjs/operators","@ngrx/store","@angular/common/http","rxjs/internal/Observable"],e):e((t.caiu=t.caiu||{},t.caiu.library={}),t.ng.core,t.ng.animations,t.ng.common,t.ng["flex-layout"],t.ng.router,null,t.ng.forms,t.ng.material,t.rxjs,null,null,null,t.ng.material.icon,null,t.rxjs.operators,null,t.ng.common.http,t.rxjs["internal/Observable"])}(this,function(t,i,e,n,r,a,u,s,c,p,l,d,f,h,g,y,m,b,v){"use strict";var E=function(){function t(){}return t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),O=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:i.Component,args:[{selector:"iu-library",template:"\n    <p>\n      library works!\n    </p>\n  ",styles:[]}]}],t.ctorParameters=function(){return[]},t}(),S=function(){function t(){this.active=!0,this.opened=!0,this.showArrow=!1,this.closeStart=new i.EventEmitter,this.closeDone=new i.EventEmitter,this.openStart=new i.EventEmitter,this.openDone=new i.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.toggle=function(){this.opened=!this.opened},t.prototype.open=function(){this.opened=!0},t.prototype.close=function(){this.opened=!1},t.prototype.onStart=function(t){this.opened?this.openStart.emit():this.closeStart.emit()},t.prototype.onDone=function(t){this.opened?this.openDone.emit():this.closeDone.emit()},t.prototype.onClickTrigger=function(){this.active&&this.toggle()},t.decorators=[{type:i.Component,args:[{selector:"iu-accordion",template:'<div class="accordion">\n  <div class="trigger-wrapper" (click)="onClickTrigger()" [class.active]="active">\n    <ng-content select=".accordion-trigger"></ng-content>\n  </div>\n  <div class="content-wrapper" [@toggle]="opened ? \'show\' : \'hide\'" (@toggle.start)="onStart($event)" (@toggle.done)="onDone($event)">\n    <ng-content select=".accordion-content"></ng-content>\n  </div>\n</div>',styles:[".trigger-wrapper{position:relative;padding:0}.trigger-wrapper.active{cursor:pointer}.content-wrapper{overflow:hidden;clear:both}.mat-icon{position:absolute;right:2%;top:25%;color:#fff;font-size:32px;height:50%;font-weight:700}"],animations:[e.trigger("toggle",[e.state("*",e.style({height:"0px"})),e.state("show",e.style({height:"*"})),e.state("hide",e.style({height:"0px"})),e.transition("show <=> hide",[e.animate("300ms ease-out")])])]}]}],t.ctorParameters=function(){return[]},t.propDecorators={active:[{type:i.Input}],opened:[{type:i.Input}],showArrow:[{type:i.Input}],closeStart:[{type:i.Output}],closeDone:[{type:i.Output}],openStart:[{type:i.Output}],openDone:[{type:i.Output}]},t}(),I=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[n.CommonModule,a.RouterModule,r.FlexLayoutModule],declarations:[],exports:[n.CommonModule,a.RouterModule,r.FlexLayoutModule]}]}],t}(),w=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I],declarations:[S],exports:[S]}]}],t}(),T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function R(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function P(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a}function A(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function C(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(C(arguments[e]));return t}var x=function(){function t(){this.firstName="",this.lastName="",this.streetAddress="",this.address2="",this.city="",this.state="",this.stateId=45,this.zipCode=0,this.metadata={streetAddress:{},address2:{},city:{},stateId:{},zipCode:{}}}return Object.defineProperty(t.prototype,"cityStateZip",{get:function(){return this.hasCityStateZip?this.city+", "+this.state+" "+this.zipCode+" ":""},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullName",{get:function(){return this.firstName&&this.lastName?this.firstName+" "+this.lastName:""},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAddress",{get:function(){return this.hasStreetAddress&&this.hasCityStateZip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCityStateZip",{get:function(){return""!==this.city&&(""!==this.state||0!==this.stateId)&&0!==this.zipCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasStreetAddress",{get:function(){return""!==this.streetAddress},enumerable:!0,configurable:!0}),t}(),j=function(){this.message=""},_=function(){this.row=0,this.column=0},N=function(){function t(){this.height=0,this.width=0,this.rows=0,this.columns=0}return Object.defineProperty(t.prototype,"approxRatio",{get:function(){return this.rows/this.columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.height/this.width},enumerable:!0,configurable:!0}),t}(),k=function(){this.id=0,this.bcc="",this.body="",this.cc="",this.failed="",this.from="",this.sent=!1,this.sentDate=new Date,this.subject="",this.to="",this.createdById=null,this.createdDate=new Date,this.attachments=[]},M=function(){this.skip=0,this.sortBy="",this.take=0},U=function(){function t(){this.src="",this.height=0,this.width=0}return Object.defineProperty(t.prototype,"horizontal",{get:function(){return"h"===this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return"v"===this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colspan",{get:function(){return this.vertical,1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowspan",{get:function(){return this.vertical?2:1},enumerable:!0,configurable:!0}),t}(),L=function(){this.controls=[],this.ignore=[],this.label="",this.name=""},F={CLASS:0,METHOD:1,PROPERTY:2,PARAMETER:3,STATIC_METHOD:4,STATIC_PROPERTY:5};F[F.CLASS]="CLASS",F[F.METHOD]="METHOD",F[F.PROPERTY]="PROPERTY",F[F.PARAMETER]="PARAMETER",F[F.STATIC_METHOD]="STATIC_METHOD",F[F.STATIC_PROPERTY]="STATIC_PROPERTY";var H=function(){this.ignore=[],this.label="",this.name=""},V=function(){this.label=""},G=function(){function o(){this.userId=0,this.accountId=0,this.fields=[],this.filters=[],this.groups=[],this.params={},this.skip=0,this.sort=[],this.take=0,this.term=""}return Object.defineProperty(o.prototype,"hasParams",{get:function(){return 0<this.totalParams},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"keys",{get:function(){return Object.keys(new o)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"totalParams",{get:function(){return Object.keys(this.params).length},enumerable:!0,configurable:!0}),o.AppendQueryString=function(t){var r=o.BuildQueryObject(t);return Object.keys(r).reduce(function(t,e){var n=r[e];return n?o.AppendToQueryString(t,n):t},"")},o.AppendToQueryString=function(t,e){return t?t+"&"+e:e},o.BuildQueryString=function(t){var e=o.AppendQueryString(t);return e?"?"+e:""},o.BuildQueryObject=function(t){return Object.assign({skip:o.QuerySkip(t),take:o.QueryTake(t),term:o.QueryTerm(t)},o.QueryParams(t))},o.FormatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),r=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[o,n,r].join("-")},o.ParseQuery=function(t){for(var e={},n=("?"===t[0]?t.substr(1):t).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return e},o.QueryParams=function(r){return Object.keys(r.params).reduce(function(t,e){return Object.assign({},t,((n={})[e]=e+"="+r.params[e],n));var n},{})},o.QuerySkip=function(t){return t.skip?"skip="+t.skip:""},o.QueryTake=function(t){return t.take?"take="+t.take:""},o.QueryTerm=function(t){return t.term?"term="+t.term:""},Object.defineProperty(o.prototype,"queryParams",{get:function(){return o.QueryParams(this)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"queryString",{get:function(){return o.BuildQueryString(this)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"queryObject",{get:function(){return o.BuildQueryObject(this)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"querySkip",{get:function(){return this.skip?"skip="+this.skip:""},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"queryTake",{get:function(){return this.take?"take="+this.take:""},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"queryTerm",{get:function(){return this.term?"term="+this.term:""},enumerable:!0,configurable:!0}),o}(),B=function(){this.query=new G,this.results=[],this.total=0},Y=function(){function t(){}return Object.defineProperty(t.prototype,"styles",{get:function(){var t={};return this.backgroundColor&&(t.backgroundColor=this.backgroundColor),this.border&&(t.border=this.border),this.borderRadius&&(t["borderRadius.px"]=this.borderRadius),this.color&&(t.color=this.color),this.cursor&&(t.color=this.cursor),this.display&&(t.display=this.display),this.fontSize&&(t.fontSize=this.fontSize),this.height&&(t["height.px"]=this.height),this.lineHeight&&(t["line-height.px"]=this.lineHeight),this.padding&&(t["padding.px"]=this.padding),this.paddingTop&&(t["padding-top.px"]=this.paddingTop),this.paddingBottom&&(t["padding-bottom.px"]=this.paddingBottom),this.paddingLeft&&(t["padding-left.px"]=this.paddingLeft),this.paddingRight&&(t["padding-right.px"]=this.paddingRight),this.textDecoration&&(t.textDecoration=this.textDecoration),this.width&&(t["width.px"]=this.width),t},enumerable:!0,configurable:!0}),t}(),$=function(){function t(){this.id=0,this.cellHeight=0,this.cellWidth=0,this.color="#fff",this.name="",this.src="",this.text="",this._coordinates=new _,this._dimensions=new N,this._image=new U}return Object.defineProperty(t.prototype,"coordinates",{get:function(){return this._coordinates||new _},set:function(t){this._coordinates=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._dimensions||new N},set:function(t){this._dimensions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image||new U},set:function(t){this._image=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rows*this.cellHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.columns*this.cellWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSrc",{get:function(){return this.image.src},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.image.height*this.scale},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.image.width*this.scale},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.dimensions.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.dimensions.columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positionTop",{get:function(){return this.startRow*this.cellHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positionLeft",{get:function(){return this.startColumn*this.cellWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"approxRatio",{get:function(){return this.rows*this.cellHeight/this.columns*this.cellWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.dimensions.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.heightScale>=this.widthScale?this.heightScale:this.widthScale},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightScale",{get:function(){return this.rows*this.cellHeight/this.image.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthScale",{get:function(){return this.columns*this.cellWidth/this.image.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startRow",{get:function(){return this.coordinates.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startColumn",{get:function(){return this.coordinates.column},enumerable:!0,configurable:!0}),t}();function z(t,e){for(var n=D(t,e),r=0;r<n.length;++r)for(var o=r+1;o<n.length;++o)n[r]===n[o]&&n.splice(o--,1);return n}function W(e,n){Object.keys(n).forEach(function(t){e[t]&&(e[t]=n[t])})}function Q(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=new t;return e.reduce(function(t,e){var n;try{n=Object.assign(t,e)}catch(r){console.warn(r),n=t}finally{return n}},r)}function K(t,e){return t-e}function q(e,n){return typeof e==typeof n&&(null===e&&null===n||e===undefined&&n===undefined||(null!==e&&e!==undefined||null===n||n===undefined)&&(null!==n&&n!==undefined||null===e||e===undefined)&&(Array.isArray(e)&&Array.isArray(n)&&e.length===n.length?-1===e.findIndex(function(t,e){return!q(t,n[e])}):e&&"object"==typeof e&&"object"==typeof n&&Object.keys(e).length===Object.keys(n).length&&Object.keys(n).length===z(Object.keys(e),Object.keys(n)).length?-1===Object.keys(e).findIndex(function(t){return!q(e[t],n[t])}):e===n))}function Z(t){return null===t||0===t||""===t||t===undefined}function X(t){return pt(lt(t))}function J(t){return void 0===t&&(t="0000000"),t.substring(0,3)+" -"+t.substring(3,7)+" "}function tt(t){return void 0===t&&(t="0000000000"),t.substring(0,3)+" -"+J(t.substring(3,10))+" "}function et(r){var e=r.metadata&&r.metadata.include&&Array.isArray(r.metadata.include)?r.metadata.include.reduce(function(t,e){return Object.assign({},t,((n={})[e]=r[e],n));var n},{}):r;return r.metadata&&r.metadata.exclude&&Array.isArray(r.metadata.exclude)&&r.metadata.exclude.forEach(function(t){delete e[t]}),D(Object.keys(e),nt(e))}function nt(e){return Object.keys(e.constructor.prototype).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e.constructor.prototype,t).get})}function rt(n){return null===n||"string"==typeof n||"string"==typeof n||n instanceof Date?n:et(n).filter(function(t){return"metadata"!==t&&!it(n,t)}).map(function(t){var e={};return e[t]=n[t]&&"object"==typeof n[t]?Array.isArray(n[t])?0<n[t].length?n[t].map(function(t){return"object"==typeof t?rt(t):t}):[]:rt(n[t]):n[t],e}).reduce(function(t,e){return Object.assign({},t,e)},{})}function ot(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function it(t,e){return!(!t.metadata||!t.metadata.ignore)&&at(t.metadata.ignore,e)}function at(t,e){return 0<t.filter(function(t){return t===e}).length}function ut(t){return Array.from(Array(t).keys())}function st(t){var n=[],r=function(t){if(t&&"object"==typeof t){if(-1!==n.indexOf(t))return!0;for(var e in n.push(t),t)if(t.hasOwnProperty(e)&&r(t[e]))return!0}return!1};return r(t)}function ct(t){return ut(t).map(function(t){return t+1})}function pt(t){if(t&&"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&st(t[e])&&delete t[e];return t}function lt(t){return t}function dt(o){if(Array.isArray(o))return o.map(function(t){return dt(t)});if(o.serialize&&"function"==typeof o.serialize)return dt(o.serialize());if(null===o||"number"==typeof o||"string"==typeof o||o instanceof Date)return o;var t=et(o);return 0===t.length?o:t.reduce(function(t,e){var n,r=null;return r=null===o[e]||"object"!=typeof o[e]||o[e]instanceof Date?o[e]:o[e].serialize&&"function"==typeof o[e].serialize?o[e].serialize():dt(o[e]),Object.assign({},t,((n={})[e]=r,n))},{})}function ft(t){return t.charCodeAt(0)}function ht(t){return bt(t?t.split("").reduce(function(t,e){return""+t+ft(e)},""):"")}function gt(t){return parseInt(t,10)}function yt(t,e){throw{name:t,level:"Show Stopper",message:e,htmlMessage:"Error detected. Please contact the <a href='mailto:agendamanager@caiu.com'>system administrator</a>.",toString:function(){return t+": "+e}}}function mt(t){return t?Array.isArray(t)?t:[t]:[]}function bt(t){return t&&t.toString?gt(t.toString()):0}function vt(t){return t?t.payload:null}function Et(t){return t+"px"}function Ot(t){return!Z(t)}var St=function(){function c(){this.canvasHeight=0,this.canvasWidth=0,this.maxColumns=4,this.maxRows=4,this.totalColumns=0,this.totalRows=0,this._images=[],this._tiles=[]}return c.AvailableColumns=function(e,n,r,o){var i=o[0].length;return Math.max.apply(Math,D(ct(r).map(function(t){return t<=r&&n+t<=i&&o[e]&&o[e][n+t]?t:1})))},c.AvailableRows=function(e,n,r,o){var i=o[0].length;return Math.max.apply(Math,D(ct(r).map(function(t){return t<=r&&e+t<=i&&o[e+t]&&o[e+t][n]?t:1})))},c.AvailableDimensions=function(t,e,n,r,o,i){var a=c.AvailableRows(e,n,r,i),u=c.AvailableColumns(e,n,o,i);return t.filter(function(t){return t.rows<=a&&t.columns<=u})},c.Build=function(t,e,n,r,o,i,a){void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0);var u=Object.assign(new c,{canvasHeight:e,canvasWidth:n,totalRows:r,totalColumns:o,maxRows:i,maxColumns:a});return u.images=t,u},c.BuildEmptyCells=function(t,e){return ut(t).map(function(t){return ut(e).map(function(t){return!0})})},c.BuildTiles=function(r){return r.images.map(function(t,e){var n=c.FindDimensions(t.height,t.width,r.tileDimensions,r.cellHeight,r.cellWidth);return Object.assign(new $,{image:t,dimensions:n,id:e+1,cellHeight:r.cellHeight,cellWidth:r.cellWidth})})},c.ChooseTileId=function(e,t){return D(t.filter(function(t){return t!==e}),[e])},c.FindCoordinates=function(t,e,n){var r=(t+n)%n;return{row:(t-r)/n,column:r}},c.FindCoordinatesNested=function(t,e,n,r,o){var i=c.FindCoordinates(t,e,n);return i.column+=o,i.row+=r,i},c.FindDimensions=function(n,r,t,e,o){var i=t.filter(function(t){return t.rows*e<=n&&t.columns*o<=r}).sort(function(t,e){return Math.abs(n/r-t.ratio)-Math.abs(n/r-e.ratio)})[0],a=i&&i.rows?i.rows:[],u=i&&i.columns?i.columns:[];return Object.assign(new N,{rows:a,columns:u,height:n,width:r})},c.FindNextTileId=function(t,e,n){return c.FindNextMatchId(t,e,n)||c.FindBestMatchId(t,e,n)},c.FindBestMatchId=function(r,t,o){var i=999;return t.reduce(function(t,e){var n=r.find(function(t){return t.id===e});return i=Math.abs(n.ratio-o.ratio),0===t||i<t?e:t},0)},c.FindNextMatchId=function(r,t,o){return t.reduce(function(t,e){if(0!==t)return t;var n=r.find(function(t){return t.id===e});return n&&n.rows===o.rows&&n.columns===o.columns?n.id:0},0)},c.FindBestMatch=function(t,e,n){var r=c.FindBestMatchId(t,e,n);return t.find(function(t){return t.id===r})},c.FindNextTile=function(o,t,i){return t.reduce(function(t,e){if(null===t||0===t.id){var n=o.find(function(t){return t.id===e}),r=i.find(function(t){return n.rows===t.rows&&n.columns===t.columns});return r?Object.assign(new $,n,{dimensions:Object.assign(new N,n.dimensions,{rows:r.rows,columns:r.columns})}):null}return t},new $)||c.FindBestMatch(o,t,i[0])},c.GetTileDimensions=function(n,r,t,o){return ct(t).reduce(function(t,e){return D(t,ct(o).map(function(t){return Object.assign(new N,{rows:e,columns:t,height:e*n,width:t*r})}))},[])},c.MarkCellsAsFilled=function(r,t,o,e,n){var i=c.FindCoordinates(t,e,n);return ut(o.rows*o.columns).reduce(function(t,e){var n=c.FindCoordinatesNested(e,o.rows,o.columns,i.row,i.column);return r[n.row][n.column]=!1,r},r)},c.PositionTiles=function(i,a){var u=c.BuildEmptyCells(a.totalRows,a.totalColumns),s=i.map(function(t){return t.id});return ut(a.totalCells).reduce(function(t,e){var n=c.FindCoordinates(e,a.totalRows,a.totalColumns);if(!u[n.row][n.column])return t;var r=c.AvailableDimensions(a.tileDimensions,n.row,n.column,a.maxRows,a.maxColumns,u),o=c.FindNextTile(i,s,r);return o.coordinates=n,u=c.MarkCellsAsFilled(u,e,o.dimensions,a.totalRows,a.totalColumns),s=c.ChooseTileId(o.id,s),D(t,[o])},[])},Object.defineProperty(c.prototype,"cellHeight",{get:function(){return this.canvasHeight/this.totalRows},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cellWidth",{get:function(){return this.canvasWidth/this.totalColumns},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"emptyCells",{get:function(){return c.BuildEmptyCells(this.totalRows,this.totalColumns)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"images",{get:function(){return this._images},set:function(t){this._images=t,this.tiles=c.BuildTiles(this)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tileDimensions",{get:function(){return c.GetTileDimensions(this.cellHeight,this.cellWidth,this.maxRows,this.maxColumns)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tiles",{get:function(){return this._tiles},set:function(t){this._tiles=c.PositionTiles(t,this)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"totalCells",{get:function(){return this.totalRows*this.totalColumns},enumerable:!0,configurable:!0}),c}(),It=function(){function t(){this.images=[],this.canvasHeight=0,this.canvasWidth=0,this.totalRows=0,this.totalColumns=0,this.maxRows=0,this.maxColumns=0}return Object.defineProperty(t.prototype,"collage",{get:function(){return 0<this.canvasHeight&&0<this.canvasWidth?St.Build(this.images,this.canvasHeight,this.canvasWidth,this.totalRows,this.totalColumns,this.maxRows,this.maxColumns):new St},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tiles",{get:function(){return this.collage.tiles},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.decorators=[{type:i.Component,args:[{selector:"iu-collage",template:'<iu-tile *ngFor="let tile of tiles" [tile]="tile"></iu-tile>',styles:[""],changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[]},t.propDecorators={images:[{type:i.Input}],canvasHeight:[{type:i.Input}],canvasWidth:[{type:i.Input}],totalRows:[{type:i.Input}],totalColumns:[{type:i.Input}],maxRows:[{type:i.Input}],maxColumns:[{type:i.Input}]},t}(),wt=function(){function t(){this.tile=new $}return Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.tile.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.tile.imageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSrc",{get:function(){return this.tile.image.src},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.tile.imageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return"absolute"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positionLeft",{get:function(){return this.tile.positionLeft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positionTop",{get:function(){return this.tile.positionTop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.tile.width},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.decorators=[{type:i.Component,args:[{selector:"iu-tile",template:'<div fxLayout fxLayoutAlign="center center" class="tile" [style.position]="position" [style.top.px]="positionTop" [style.left.px]="positionLeft"\n  [style.background-color]="backgroundColor" [style.height.px]="height" [style.width.px]="width">\n  <img [src]="imageSrc" [style.height.px]="imageHeight" [style.width.px]="imageWidth">\n</div>\n',styles:[""],changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[]},t.propDecorators={tile:[{type:i.Input}]},t}(),Tt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I],declarations:[wt],exports:[wt]}]}],t}(),Rt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,Tt],declarations:[It],exports:[It]}]}],t}(),Pt=function(){this.startDate=new Date,this.endDate=new Date},At=function(){function o(){}return o.BuildStartTime=function(t,e,n,r){var o=new Date(t),i="AM"===r?e:e+12;return o.setHours(i),o.setMinutes(n),o},o.BuildEndTime=function(t,e,n){var r=new Date(t);return r.setHours(r.getHours()+e),r.setMinutes(r.getMinutes()+n),r},o.FormatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),r=""+e.getDate(),o=e.getFullYear();return n&&r&&o?[n,r,o].join("/"):null},o.FormatDateDashes=function(t){var e=new Date(t),n=""+(e.getMonth()+1),r=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[o,n,r].join("-")},o.FormatDateSlashes=function(t){var e=new Date(t),n=""+(e.getMonth()+1),r=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[n,r,o].join("/")},o.TimeAgo=function(t){if(!t)return"";var e=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3),n=Math.floor(e/31536e3);return 1<n?n+" years":1<(n=Math.floor(e/2592e3))?n+" months":1<(n=Math.floor(e/86400))?n+" days":1<(n=Math.floor(e/3600))?n+" hours":1<(n=Math.floor(e/60))?n+" minutes":Math.floor(e)+" seconds"},o.ToMonthName=function(t){var e=new Date(t);return o.MonthNames[e.getMonth()]},o.ToMonthNumber=function(t){return new Date(t).getMonth()+1},o.ToMonthNumberFromMonthYear=function(t){return bt(t.substr(t.length-2))-1},o.ToMonthNumberFromMonthYearName=function(t){var e=t.split(/\s*,\s*/);return o.MonthNumbers[e[0]]},o.ToMonthYear=function(t){var e=new Date(t),n=o.ToMonthNumber(e),r=n<10?"0"+n:n;return e.getFullYear()+"-"+r},o.ToMonthYearName=function(t){var e=new Date(t),n=o.ToMonthName(e),r=e.getFullYear();return n&&r?n+" "+r:""},o.ToYearNumberFromMonthYear=function(t){return bt(t.substring(0,4))},o.FromMonthYear=function(t){var e=o.ToYearNumberFromMonthYear(t),n=o.ToMonthNumberFromMonthYear(t);return e&&n?new Date(e,n):new Date},o.IsDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},o.IsValidDate=function(t){var e=new Date(t);return!isNaN(e.getDate())},Object.defineProperty(o,"Today",{get:function(){return new Date},enumerable:!0,configurable:!0}),Object.defineProperty(o,"Month",{get:function(){return o.Today.getMonth()},enumerable:!0,configurable:!0}),Object.defineProperty(o,"MonthNumbers",{get:function(){return o.MonthNames.reduce(function(t,e,n){return Object.assign({},t,((r={})[e]=n,r));var r})},enumerable:!0,configurable:!0}),Object.defineProperty(o,"Year",{get:function(){return o.Today.getFullYear()},enumerable:!0,configurable:!0}),Object.defineProperty(o,"NextSchoolYear",{get:function(){return o.Month<7?o.Year:o.Year+1},enumerable:!0,configurable:!0}),Object.defineProperty(o,"NextSchoolYearStartDate",{get:function(){return new Date(o.SchoolYearStart(o.NextSchoolYear))},enumerable:!0,configurable:!0}),Object.defineProperty(o,"PreviousSchoolYear",{get:function(){return o.Month<7?o.Year:o.Year+1},enumerable:!0,configurable:!0}),Object.defineProperty(o,"PreviousSchoolYearEndDate",{get:function(){return new Date(o.SchoolYearEnd(o.PreviousSchoolYear))},enumerable:!0,configurable:!0}),Object.defineProperty(o,"FutureDate",{get:function(){return o.AddDays(o.Today,1e5)},enumerable:!0,configurable:!0}),Object.defineProperty(o,"PastDate",{get:function(){return o.SubtractDays(o.Today,1e5)},enumerable:!0,configurable:!0}),o.AddDays=function(t,e){var n=new Date(t);return n.setDate(n.getDate()+e),n},o.SubtractDays=function(t,e){var n=new Date(t);return n.setDate(n.getDate()-e),n},o.BuildDate=function(t,e,n){var r=new Date;return r.setFullYear(t),r.setMonth(e),r.setDate(n),r},o.DateChanged=function(t,e){var n=new Date(t),r=new Date(e);return n.getDate()!==r.getDate()||n.getMonth()!==r.getMonth()||n.getFullYear()!==r.getFullYear()},o.IsSameDay=function(t,e){return!o.DateChanged(t,e)},Object.defineProperty(o,"YearStartDate",{get:function(){return o.BuildDate(o.Month<7?o.Year-1:o.Year,6,1)},enumerable:!0,configurable:!0}),Object.defineProperty(o,"PreviousYearStartDate",{get:function(){return o.BuildDate(o.Month<7?o.Year-2:o.Year-1,6,1)},enumerable:!0,configurable:!0}),o.SchoolYearStart=function(t){return o.BuildDate(t,6,1)},Object.defineProperty(o,"YearEndDate",{get:function(){return o.BuildDate(o.Month<7?o.Year:o.Year+1,5,30)},enumerable:!0,configurable:!0}),Object.defineProperty(o,"PreviousYearEndDate",{get:function(){return o.BuildDate(o.Month<7?o.Year-1:o.Year,5,30)},enumerable:!0,configurable:!0}),o.SchoolYearEnd=function(t){return o.BuildDate(t-1,5,30)},o.BuildDateRange=function(t){var e,n;switch(t){case 0:case 1:break;case 2:n=e=o.Today;break;case 3:n=o.AddDays(e=o.Today,15);break;case 4:n=o.AddDays(e=o.Today,30);break;case 5:n=o.AddDays(e=o.Today,60);break;case 6:e=o.SubtractDays(n=o.Today,15);break;case 7:e=o.SubtractDays(n=o.Today,30);break;case 8:e=o.SubtractDays(n=o.Today,60);break;case 9:e=o.YearStartDate,n=o.YearEndDate;break;case 10:e=o.Today,n=o.FutureDate;break;case 11:e=o.PreviousYearStartDate,n=o.PreviousYearEndDate}return Q(Pt,{startDate:e,endDate:n})},o.MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],o}(),Ct={provide:s.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return Dt}),multi:!0},Dt=function(){function t(){this.placeholder="Choose a date",this.startView="month",this.selectedChanged=new i.EventEmitter}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onTouch=t},t.prototype.writeValue=function(t){this.value=t},t.prototype.onChange=function(t){this.value=t,this.onModelChange&&this.onModelChange(t)},t.prototype.onBlur=function(t){var e=new Date(t.value);At.IsValidDate(e)?this.changeSelected(e):t.value=At.FormatDate(this.value)},Object.defineProperty(t.prototype,"id",{get:function(){return this.datepicker.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opened",{get:function(){return this.datepicker.opened},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.startAt=this.value},t.prototype.changeSelected=function(t){this.onChange(t),this.selectedChanged.emit(t)},t.prototype.close=function(){this.datepicker.close()},t.prototype.open=function(){this.datepicker.open()},t.decorators=[{type:i.Component,args:[{selector:"iu-datepicker",template:'<mat-form-field>\n  <input matInput [placeholder]="placeholder" [matDatepicker]="picker" (blur)="onBlur(pickerInput)" (change)="onChange(value)"\n    [min]="min" [max]="max" [value]="value" #pickerInput>\n  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n  <mat-datepicker #picker [startAt]="startAt" [startView]="startView" [touchUi]="touchUi" (selectedChanged)="changeSelected($event)"></mat-datepicker>\n</mat-form-field>',styles:[".mat-input-container{float:left}"],changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[Ct]}]}],t.ctorParameters=function(){return[]},t.propDecorators={min:[{type:i.Input}],max:[{type:i.Input}],placeholder:[{type:i.Input}],startAt:[{type:i.Input}],startView:[{type:i.Input}],touchUi:[{type:i.Input}],selectedChanged:[{type:i.Output}],datepicker:[{type:i.ViewChild,args:["picker"]}],value:[{type:i.Input}]},t}(),xt={provide:s.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return jt}),multi:!0},jt=function(){function t(t){this.changeDetectorRef=t,this.inline=!1,this.startLabel="Start Date",this.endLabel="End Date",this.startDateChanged=new i.EventEmitter,this.endDateChanged=new i.EventEmitter,this._value=new Pt,this.focused=new Pt}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this&&this.changeDetectorRef&&!this.changeDetectorRef.destroyed&&this.changeDetectorRef.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDateId",{get:function(){return this.startDatepicker.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDateOpened",{get:function(){return this.startDatepicker.opened},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDateId",{get:function(){return this.endDatepicker.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDateOpened",{get:function(){return this.endDatepicker.opened},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDateValue",{get:function(){return this.value.startDate},set:function(t){this.changeStartDate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDateValue",{get:function(){return this.value.endDate},set:function(t){this.changeEndDate(t)},enumerable:!0,configurable:!0}),t.prototype.changeStartDate=function(t){this.onChange(Q(Pt,{endDate:this.value.endDate,startDate:t})),this.startDateChanged.emit(t)},t.prototype.closeStartDate=function(){this.startDatepicker.close()},t.prototype.openStateDate=function(){this.startDatepicker.open()},t.prototype.changeEndDate=function(t){this.onChange(Q(Pt,{endDate:t,startDate:this.value.startDate})),this.endDateChanged.emit(t)},t.prototype.closeEndDate=function(){this.endDatepicker.close()},t.prototype.openEndDate=function(){this.endDatepicker.open()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onTouch=t},t.prototype.writeValue=function(t){this.value=t},t.prototype.onChange=function(t){this.value=t,this.onModelChange&&this.onModelChange(t)},t.prototype.onBlur=function(t){},t.prototype.onFocus=function(t){this.focused=t,this.onTouch&&this.onTouch()},t.decorators=[{type:i.Component,args:[{selector:"iu-daterange",template:'<div class="daterange">\n  <div class="start-date" [class.date]="!inline" [class.inline-date]="inline">\n    <label class="lbl-date iu-primary">{{ startLabel }}:</label>\n    <iu-datepicker #startDate (selectedChanged)="changeStartDate($event)" [value]="startDateValue"></iu-datepicker>\n  </div>\n  <div class="end-date" [class.date]="!inline" [class.inline-date]="inline">\n    <label class="lbl-date iu-primary">{{ endLabel }}:</label>\n    <iu-datepicker #endDate (selectedChanged)="changeEndDate($event)" [value]="endDateValue"></iu-datepicker>\n  </div>\n</div>\n',styles:[".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{width:76px;display:inline-block;font-size:14px;padding-top:22px}"],changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[xt]}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},t.propDecorators={inline:[{type:i.Input}],min:[{type:i.Input}],max:[{type:i.Input}],startAt:[{type:i.Input}],startLabel:[{type:i.Input}],endLabel:[{type:i.Input}],startView:[{type:i.Input}],touchUi:[{type:i.Input}],startDateChanged:[{type:i.Output}],endDateChanged:[{type:i.Output}],startDatepicker:[{type:i.ViewChild,args:["startDate"]}],endDatepicker:[{type:i.ViewChild,args:["endDate"]}],value:[{type:i.Input}]},t}(),_t=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,c.MatDatepickerModule,c.MatNativeDateModule,c.MatInputModule],declarations:[Dt,jt],exports:[Dt,jt]}]}],t}(),Nt=function(){function t(){this.title=" ",this.actions=[],this.hasBackdrop=!0,this.disableClose=!1}return Object.defineProperty(t.prototype,"config",{get:function(){return{viewContainerRef:this.viewContainerRef,role:this.role,panelClass:this.panelClass,hasBackdrop:this.hasBackdrop,backdropClass:this.backdropClass,disableClose:this.disableClose,width:this.width,height:this.height,position:this.position,data:this.data,direction:this.direction}},enumerable:!0,configurable:!0}),t}(),kt=function(){this.value=null,this.label="",this.color="accent"},Mt=function(){function t(){this.model=new Nt,this.showActions=!0,this.showCloseAction=!1,this.showCloseIcon=!0,this.defaultActionColor="accent"}return Object.defineProperty(t.prototype,"actions",{get:function(){return this.model.actions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionWidth",{get:function(){return 100/Math.max(this.actions.length,1)+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.model.title},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Component,args:[{selector:"iu-dialog",template:'<mat-toolbar color="primary" mat-dialog-title>\n  <span class="dialog-title">\n    {{ title }}\n    <button *ngIf="showCloseIcon" mat-button [mat-dialog-close]="null">\n      <mat-icon>close</mat-icon>\n    </button>\n  </span>\n</mat-toolbar>\n<mat-dialog-content class="scrollable">\n  <ng-content></ng-content>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf="showActions && actions.length > 0">\n  <button *ngFor="let action of actions" mat-raised-button [mat-dialog-close]="action.value" [style.width]="actionWidth" [style.color]="action.color">{{ action.label }}</button>\n</mat-dialog-actions>\n<mat-dialog-actions *ngIf="showCloseAction && actions.length === 0">\n  <button mat-raised-button mat-dialog-close="close" [style.width]="actionWidth" [style.color]="defaultActionColor">Close</button>\n</mat-dialog-actions>\n',styles:["iu-dialog .mat-toolbar{margin:-24px -24px 0;width:calc(100% + 48px);min-height:32px}iu-dialog .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}iu-dialog .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}iu-dialog .mat-toolbar .dialog-title button:hover,iu-dialog .mat-toolbar .dialog-title button:hover mat-icon{font-weight:700}iu-dialog .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}iu-dialog .mat-toolbar-row{height:48px}iu-dialog .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}iu-dialog .mat-dialog-actions button{padding:12px 0}iu-dialog .mat-dialog-actions .mat-accent{color:#fff!important}"],encapsulation:i.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[]},t.propDecorators={model:[{type:i.Input}],showActions:[{type:i.Input}],showCloseAction:[{type:i.Input}],showCloseIcon:[{type:i.Input}],defaultActionColor:[{type:i.Input}]},t}(),Ut=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,c.MatDialogModule,c.MatIconModule,c.MatToolbarModule],declarations:[Mt],exports:[Mt]}]}],t}(),Lt=function(){function e(){this.lastModified=0,this.lastModifiedDate=new Date,this.name="",this.size=0,this.type="",this.webkitRelativePath="",this.order=0,this.readyState="EMPTY",this.src=""}return e.BuildFromFile=function(t){return Q(e,{name:t.fileName,size:t.fileSize,type:t.mimeType,src:t.src,order:t.order})},e.GetReadyState=function(t){switch(t.readyState){case 0:return"EMPTY";case 1:return"LOADING";case 2:return"DONE";default:return"EMPTY"}},Object.defineProperty(e.prototype,"extension",{get:function(){return this.name.split(".").pop()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isImage",{get:function(){return"image"===this.type.split("/")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return"LOADING"===this.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"file",{get:function(){return Ft.BuildFromFileUpload(this)},enumerable:!0,configurable:!0}),e}();var Ft=function(){function e(){this.id=0,this.fileBinary=[],this.fileExtension="",this.fileName="",this.fileSize=0,this.mimeType="",this.order=0}return e.BuildFromFileUpload=function(t){return Q(e,{fileBinary:t.src.replace(e.GetSrcPrefix(t.type),""),fileExtension:t.extension,fileName:t.name,fileSize:t.size,mimeType:t.type,order:t.order})},e.GetImageBinarySrc=function(t,e){return void 0===e&&(e=""),Array.isArray(t)?0<t.length?"data:"+t[0].mimeType+";base64,"+t[0].fileBinary:e:t&&t.mimeType&&t.fileBinary?"data:"+t.mimeType+";base64,"+t.fileBinary:e},e.GetSrcPrefix=function(t){return"data:"+t+";base64,"},Object.defineProperty(e.prototype,"src",{get:function(){return e.GetImageBinarySrc(this)},enumerable:!0,configurable:!0}),e}(),Ht=function(){function t(t){this.order=t,this._timestamp=new Date}return Object.defineProperty(t.prototype,"ranks",{get:function(){return this.order.sort(function(t,e){return t.order-e.order}).map(function(t,e){return Object.assign({},t,{rank:e+1})})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timestamp",{get:function(){return this._timestamp},enumerable:!0,configurable:!0}),t}(),Vt=function(t){this.item=t},Gt=function(){function t(t,e,n,r){void 0===r&&(r="id"),this._items=t,this.ctor=e,this.orderKey=n,this.idKey=r,this._history=[]}return Object.defineProperty(t.prototype,"count",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return new this.ctor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var n=this;return this._items.sort(function(t,e){return n.getItemOrder(t)-n.getItemOrder(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxIndex",{get:function(){return 0===this.count?0:Math.max.apply(Math,D(this.order.map(function(t){return t.order})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this.permutation.ranks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"permutation",{get:function(){var e=this;return new Ht(this.items.map(function(t){return{id:e.getItemId(t),order:e.getItemOrder(t)}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextPosition",{get:function(){return this.maxIndex+1},enumerable:!0,configurable:!0}),t.prototype.addItem=function(t){return this.addItemAtPosition(t,this.nextPosition)},t.prototype.addItemAtPosition=function(t,r){var o=this,i=this.getItemId(t);return D(this.items,[Q(this.ctor,t,{order:r})]).map(function(t){var e=o.getItemOrder(t),n=o.getItemId(t);return e<=r||n===i?t:Q(o.ctor,t,{order:e+1})})},t.prototype.archive=function(t){var e=t?this.getPermutation(t):this.permutation;this._history=D(this._history,[e])},t.prototype.getItemId=function(t){return t[this.idKey]},t.prototype.getItemOrder=function(t){return t[this.orderKey]},t.prototype.getPermutation=function(t){var e=this;return new Ht(t.map(function(t){return{id:e.getItemId(t),order:e.getItemOrder(t)}}))},t.prototype.move=function(t,n){var r=this,o=this.getItemOrder(t),i=this.getItemId(t);return n===o?D(this.items):n<o?this.items.map(function(t){var e=r.getItemOrder(t);return r.getItemId(t)===i?Q(r.ctor,t,{order:n}):e<n||o<e?t:Q(r.ctor,t,{order:e+1})}):this.items.map(function(t){var e=r.getItemOrder(t);return r.getItemId(t)===i?Q(r.ctor,t,{order:n}):e<o||n<e?t:Q(r.ctor,t,{order:e-1})})},t.prototype.moveDown=function(t){return this.move(t,this.getItemOrder(t)+1)},t.prototype.moveUp=function(t){return this.move(t,this.getItemOrder(t)-1)},t.prototype.removeItem=function(t){return this.removeItemAtPosition(this.getItemOrder(t))},t.prototype.removeItemAtPosition=function(n){var r=this;return this.items.filter(function(t){return r.getItemOrder(t)!==n}).map(function(t){var e=r.getItemOrder(t);return e<n?t:Q(r.ctor,t,{order:e-1})})},t.prototype.updateItems=function(t){this.archive(),this._items=t},t}(),Bt={provide:s.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return Yt}),multi:!0},Yt=function(){function t(t){this.ref=t,this.id="files-"+ot(),this.multiple=!1,this.ordered=!0,this.preview=!0,this.upload=new i.EventEmitter,this.changes$=new p.BehaviorSubject(new Lt),this.ordering=new Gt([],Lt,"order","name")}return Object.defineProperty(t.prototype,"activeFile",{get:function(){return this.hasUploads?this.uploads[0]:new Lt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasUploads",{get:function(){return 0<this.uploads.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMultiple",{get:function(){return this.preview&&this.multiple},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uploads",{get:function(){return this.ordering.items.filter(function(t){return""!==t.name})},set:function(t){this.ordering.updateItems(t.filter(function(t){return""!==t.name})),this.onChange(this.uploads)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orderedUploads",{get:function(){return this.uploads},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.changes$.subscribe(function(t){e.onUpload(t)})},t.prototype.add=function(t){!this.multiple&&this.hasUploads&&this.remove(),this.uploads=this.ordering.addItem(t)},t.prototype.emit=function(){0<this.value.length&&(this.multiple?this.upload.emit(this.value):this.upload.emit(this.value[0]))},t.prototype.moveUp=function(t){this.uploads=this.ordering.moveUp(t)},t.prototype.moveDown=function(t){this.uploads=this.ordering.moveDown(t)},t.prototype.remove=function(t){var e=t||this.activeFile;this.uploads=this.ordering.removeItem(e)},t.prototype.update=function(n){var r=this.uploads.findIndex(function(t){return t.name===n.name});-1===r?this.add(n):(this.uploads=this.uploads.map(function(t,e){return e===r?Q(Lt,n,{order:t.order}):t}),this.ref.detectChanges())},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onTouch=t},t.prototype.writeValue=function(t){this.value=t,this.uploadAll(t)},t.prototype.onChange=function(t){q(this.value,t)||((this.value=t).every(function(t){return"DONE"===t.readyState})&&this.emit(),this.onModelChange&&this.onModelChange(t))},t.prototype.onInputChange=function(t){var e=event.target.files;if(e&&0<e.length)for(var n=0;n<e.length;n++)this.setupReader(e[n])},t.prototype.onBlur=function(t){this.focused=[]},t.prototype.onFocus=function(t){this.focused=t,this.onTouch()},t.prototype.onUpload=function(t){var e=Q(Lt,t);this.update(e)},t.prototype.setupReader=function(t){var r=new FileReader,o=this.changes$,i=Q(Lt,{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,webkitRelativePath:t.webkitRelativePath});r.onload=function(t){var e=r.result,n=Lt.GetReadyState(r);o.next(Object.assign(i,{src:e,readyState:n}))},r.readAsDataURL(t),this.onUpload(Q(Lt,i,{readyState:Lt.GetReadyState(r)}))},t.prototype.uploadAll=function(t){var e=this;t.forEach(function(t){e.onUpload(t)})},t.decorators=[{type:i.Component,args:[{selector:"iu-file-upload",template:'<div class="file-upload">\n  <div class="box" fxLayout="row" fxLayoutAlign="center end">\n    <p id="dragdrop-message" *ngIf="showMultiple">\n      <strong>Choose files</strong>\n      <span class="dragndrop"> or drag them here</span>.\n    </p>\n    <input id="file-upload" *ngIf="showMultiple" type="file" (change)="onInputChange($event)" [id]="id" multiple/>\n    <p id="dragdrop-message" *ngIf="!multiple">\n      <strong>Choose a file</strong>\n      <span class="dragndrop"> or drag it here</span>.\n    </p>\n    <input id="file-upload" *ngIf="!multiple" type="file" (change)="onInputChange($event)" [id]="id" />\n    <label [for]="id" class="custom-file-upload">\n      <figure>\n        <mat-icon>cloud_upload</mat-icon>\n      </figure>\n    </label>\n  </div>\n  <iu-uploads *ngIf="multiple" [uploads]="uploads" [ordered]="ordered" (moveUp)="moveUp($event)" (moveDown)="moveDown($event)"\n    (remove)="remove($event)"></iu-uploads>\n  <iu-upload *ngIf="preview && !multiple && hasUploads" [upload]="activeFile" [height]="200" (remove)="remove()"></iu-upload>\n</div>\n',styles:[".file-upload{margin:10px;padding:10px}.file-upload input[type=file]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-upload .box{padding:100px 20px;margin:10px;display:flex;outline:-webkit-focus-ring-color auto 5px;outline-offset:-10px;position:relative}.file-upload .box #dragdrop-message{position:absolute;top:60px;max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;font-size:24px}.file-upload .box #dragdrop-message span{display:inline}.file-upload .custom-file-upload{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);max-width:80%;font-size:20px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;padding:10px 20px;margin-top:50px}.file-upload .custom-file-upload figure{width:50px;height:70px;display:flex;position:relative;padding:30px;margin:0 auto 10px}.file-upload .custom-file-upload figure mat-icon{font-size:50px;height:50px;width:50px}.file-upload .custom-file-upload figure::after,.file-upload .custom-file-upload figure::before{width:0;height:0;content:'';position:absolute;top:0;right:0}.file-upload .custom-file-upload figure::before{border-left:20px solid transparent}.file-upload .custom-file-upload figure::after{border-right:20px solid transparent}"],providers:[Bt],encapsulation:i.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},t.propDecorators={id:[{type:i.Input}],multiple:[{type:i.Input}],ordered:[{type:i.Input}],preview:[{type:i.Input}],upload:[{type:i.Output}]},t}(),$t=function(){function t(){this.file=new Lt,this.ordered=!0,this.first=!1,this.last=!1,this.moveUp=new i.EventEmitter,this.moveDown=new i.EventEmitter,this.remove=new i.EventEmitter}return Object.defineProperty(t.prototype,"cursorStyle",{get:function(){return this.ordered?"move":"default"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphic",{get:function(){if(this.file.loading)return"cloud_upload";if(this.file.isImage)return"image";switch(this.file.extension){case"pdf":return"picture_as_pdf";default:return"cloud_done"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showImage",{get:function(){return"image"===this.graphic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showUpArrow",{get:function(){return this.ordered&&!this.first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDownArrow",{get:function(){return this.ordered&&!this.last},enumerable:!0,configurable:!0}),t.prototype.onMoveUp=function(){this.moveUp.emit(this.file)},t.prototype.onMoveDown=function(){this.moveDown.emit(this.file)},t.prototype.onRemove=function(){this.remove.emit(this.file)},t.decorators=[{type:i.Component,args:[{selector:"iu-file-preview",template:'<mat-card class="file-preview" [style.cursor]="cursorStyle">\n  <div class="graphic">\n    <img *ngIf="showImage" [src]="file.src" [style.height]="height" [style.width]="width">\n    <mat-icon *ngIf="!showImage" class="icon-graphic">{{ graphic }}</mat-icon>\n  </div>\n  <mat-progress-bar mode="indeterminate" *ngIf="file.loading"></mat-progress-bar>\n  <div class="file-info">\n    <span class="file-name">{{ file.name }}</span>\n  </div>\n  <mat-icon *ngIf="showUpArrow" class="up-arrow" (click)="onMoveUp()">keyboard_arrow_up</mat-icon>\n  <mat-icon *ngIf="showDownArrow" class="down-arrow" (click)="onMoveDown()">keyboard_arrow_down</mat-icon>\n  <mat-icon class="remove-upload" (click)="onRemove()">cancel</mat-icon>\n</mat-card>\n',styles:[".file-preview{height:80px;margin:2px 0;position:relative}.mat-card{padding:0}.file-preview img{max-height:72px}.graphic{position:absolute;left:50px;height:72px;max-width:200px;text-align:center;padding-left:20px;overflow:hidden}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{position:absolute;left:250px;height:72px;max-width:300px;text-align:center}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:16px;height:36px;font-weight:700;color:#000}.arrow,.down-arrow,.up-arrow{cursor:pointer}.up-arrow{position:absolute;left:6px;top:0;font-size:36px;height:36px;width:36px;font-weight:700}.down-arrow{position:absolute;left:6px;top:36px;font-size:36px;height:36px;width:36px;font-weight:700}.remove-upload{cursor:pointer;position:absolute;right:10px;top:20px;font-size:40px;height:40px;width:40px}.down-arrow:hover,.up-arrow:hover{color:#fff}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={file:[{type:i.Input}],height:[{type:i.Input}],width:[{type:i.Input}],ordered:[{type:i.Input}],first:[{type:i.Input}],last:[{type:i.Input}],moveUp:[{type:i.Output}],moveDown:[{type:i.Output}],remove:[{type:i.Output}]},t}(),zt=function(){function t(){this.upload=new Lt,this.height=200,this.width=600,this.remove=new i.EventEmitter}return Object.defineProperty(t.prototype,"graphic",{get:function(){if(this.upload.loading)return"cloud_upload";if(this.upload.isImage)return"image";switch(this.upload.extension){case"pdf":return"picture_as_pdf";default:return"cloud_done"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showImage",{get:function(){return"image"===this.graphic},enumerable:!0,configurable:!0}),t.prototype.onRemove=function(){this.remove.emit(this.upload)},t.decorators=[{type:i.Component,args:[{selector:"iu-upload",template:'<div class="upload" [style.height]="img?.style?.height">\n  <div class="graphic" #img>\n    <img *ngIf="showImage" [src]="upload.src" [style.max-height.px]="height" [style.max-width.px]="width">\n    <mat-icon *ngIf="!showImage" class="icon-graphic" [style.max-height.px]="height" [style.max-width.px]="width">{{ graphic }}</mat-icon>\n    <mat-icon *ngIf="!upload.loading" class="remove-upload" (click)="onRemove()">cancel</mat-icon>\n  </div>\n  <mat-spinner mode="indeterminate" *ngIf="upload.loading"></mat-spinner>\n  <div class="file-info" *ngIf="!upload.loading">\n    <span class="file-name">{{ upload.name }}</span>\n  </div>\n</div>\n',styles:[".upload{max-height:420px;max-width:600px;margin:10px 20px;position:relative;display:flex}.upload img{max-height:400px}.graphic{padding:0!important;float:left;margin:10px;position:relative}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{float:right}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:20px;height:36px;font-weight:700;color:#000}.remove-upload{color:red;cursor:pointer;position:absolute;right:-20px;top:-20px;font-size:40px;height:40px;width:40px}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={upload:[{type:i.Input}],height:[{type:i.Input}],width:[{type:i.Input}],remove:[{type:i.Output}]},t}(),Wt=function(){function t(){this.uploads=[],this.ordered=!0,this.moveUp=new i.EventEmitter,this.moveDown=new i.EventEmitter,this.remove=new i.EventEmitter}return t.prototype.onMoveUp=function(t){this.moveUp.emit(t)},t.prototype.onMoveDown=function(t){this.moveDown.emit(t)},t.prototype.onRemove=function(t){this.remove.emit(t)},t.decorators=[{type:i.Component,args:[{selector:"iu-uploads",template:'<div class="uploads" [style.height]="height" [style.width]="width">\n  <iu-file-preview *ngFor="let upload of uploads; let first = first; let last = last;" [file]="upload" [first]="first" [last]="last"\n    [ordered]="ordered" (moveUp)="onMoveUp($event)" (moveDown)="onMoveDown($event)" (remove)="onRemove($event)"></iu-file-preview>\n</div>\n',styles:[".uploads{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads::-webkit-scrollbar{width:12px;background-color:#424242}.uploads::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads .dragging{background-color:#424242}"],changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[]},t.propDecorators={uploads:[{type:i.Input}],height:[{type:i.Input}],width:[{type:i.Input}],ordered:[{type:i.Input}],moveUp:[{type:i.Output}],moveDown:[{type:i.Output}],remove:[{type:i.Output}]},t}(),Qt=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,c.MatCardModule,c.MatIconModule,c.MatProgressBarModule,c.MatProgressSpinnerModule],declarations:[Yt,$t,zt,Wt],exports:[Yt,$t,zt,Wt]}]}],t}(),Kt=function(){function u(t){this.activeId=0,this.metadata={},this._items={},t&&(this.ctor=t)}return u.AddItem=function(e,t,n){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r[t]=n,r},u.BuildCollection=function(t,e){void 0===e&&(e="id");var n=u.BuildItems(t,e);return Object.assign(new u,{items:n})},u.BuildDictionaryFromArray=function(t,e){void 0===e&&(e="id");var n={};return t.forEach(function(t){n[t[e]]=t}),n},u.BuildFromArray=function(t,e){void 0===e&&(e="id");var n=u.BuildItems(t,e);return Object.assign(new u,{items:n})},u.BuildItems=function(t,n){void 0===n&&(n="id");var r={};return t.forEach(function(t){var e=t[n];r[e]=t}),r},u.Filter=function(t,e){return Array.isArray(t.matches)&&at(t.matches,e)},u.FilterAnd=function(e,t){return Array.isArray(e.matches)&&t.every(function(t){return at(e.matches,t)})},u.FilterOr=function(e,t){return Array.isArray(e.matches)&&t.some(function(t){return at(e.matches,t)})},u.RemoveItem=function(e,n){var r={};return Object.keys(e).filter(function(t){return t!==n}).forEach(function(t){r[t]=e[t]}),r},Object.defineProperty(u.prototype,"active",{get:function(){var t=this.items[this.activeId]||{};return this.ctor?Q(this.ctor,t):t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ctor",{get:function(){return this._ctor},set:function(t){this._ctor=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"count",{get:function(){return this.toArray().length},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"defaultItem",{get:function(){return this.ctor?new this.ctor:{}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"empty",{get:function(){return 0===this.toArray().length},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"instance",{get:function(){var t=this.activeId,e=this.ctor,n=this.lastUpdated,r=this.metadata,o=new u;return o.activeId=t,o.ctor=e,o.lastUpdated=n,o.metadata=r,o},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this.lastUpdated=new Date},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"keys",{get:function(){return Object.keys(this.items)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"asArray",{get:function(){return this.toArray()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsArray",{get:function(){return this.asArray},enumerable:!0,configurable:!0}),u.prototype.toArray=function(){var e=this;return Object.keys(this.items).map(function(t){return e.items[t]})},u.prototype.activate=function(t,e){void 0===e&&(e="id");var n,r,o=this.items[t]?this.copyItems():Object.assign(this.copyItems(),((n={})[t]=((r={})[e]=t,r),n));return Object.assign(new u,this,{activeId:t,items:o})},u.prototype.addItem=function(t,e){var n,r=this.copyItems();return Object.assign(this.constructor(),this,{items:Object.assign(r,(n={},n[e]=t,n))})},u.prototype.addItems=function(t,o){var i=this;void 0===o&&(o="id");var a={};return this.toArray().forEach(function(t){a[t[o]]=t}),t.forEach(function(t){var e=a[t[o]]?a[t[o]]:{},n=z(e.matches||[],t.matches||[]),r=i.buildItem(t,{matches:n});a[t[o]]=i.buildItem(e,r)}),this.items=a,Object.assign(new u,this)},u.prototype.build=function(t,e){return e?Q(e,{items:t}):Object.assign(this.instance,{items:t})},u.prototype.buildItem=function(t,e,n){var r=t||{};return n?Q(n,r,e):this.ctor?Q(this.ctor,r,e):Object.assign({},r,e)},u.prototype.buildItems=function(t,e){var n=e||this.ctor;return t.map(function(t){return n?Q(n,t):Object.assign({},t)})},u.prototype.copyItems=function(){var n=this;return Object.keys(this.items).reduce(function(t,e){return t[e]=n.get(e),t},{})},u.prototype["delete"]=function(t){return this.removeAt(t)},u.prototype.filter=function(t){var e=u.BuildDictionaryFromArray(this.toArray().filter(t));return Object.assign(new u,this,{items:e})},u.prototype.filterBy=function(t){return this.filterItems(t)},u.prototype.filterItems=function(t){return this.toArray().filter(t)},u.prototype.findBy=function(t){return this.asArray.find(t)||this.defaultItem},u.prototype.get=function(t){var e=this.items[t];return this.ctor?Q(this.ctor,e):Object.assign({},e)},u.prototype.map=function(t){var e=u.BuildDictionaryFromArray(this.toArray().map(t));return Object.assign(new u,this,{items:e})},u.prototype.query=function(e){return this.toArray().filter(function(t){return u.Filter(t,e)})},u.prototype.queryAnd=function(e){return this.toArray().filter(function(t){return u.FilterAnd(t,e)})},u.prototype.queryOr=function(e){return this.toArray().filter(function(t){return u.FilterOr(t,e)})},u.prototype.removeAt=function(e){var n=this,t=Object.keys(this.items),r=u.BuildDictionaryFromArray(t.filter(function(t){return t.toString()!==e.toString()}).map(function(t){return n.items[t]}));return Object.assign(new u,this,{items:r})},u.prototype.removeItem=function(e){var n=this,r=this.constructor();return Object.keys(this.items).filter(function(t){return t!==e}).forEach(function(t){r.items[t]=Object.assign({},n.items[t])}),r},u.prototype.removeItems=function(t,e){void 0===e&&(e="id");var n=this.toArray().filter(t).map(function(t){return t[e]});this.removeKeys(n)},u.prototype.removeKeys=function(t){var e=this;t.forEach(function(t){e.removeItem(t)})},u.prototype.replace=function(t){var e=u.BuildDictionaryFromArray(this.buildItems(t));return Object.assign(new u,this,{items:e})},u.prototype.replaceItems=function(t,e){if(e){return this.replaceItems(D(this.filterItems(function(t){return!e(t)}),t))}return Object.assign(new u,this,{items:t})},u.prototype.setValue=function(t){return Object.assign(new u,this,t)},u.prototype.update=function(t,e,n){return void 0===n&&(n="id"),Array.isArray(t)?this.updateItems(t,e,n):this.updateItem(t,t[n],e)},u.prototype.updateItem=function(t,e,n){var r,o=this.copyItems(),i=this.buildItem(o[e],t,n);return this.build(Object.assign(o,((r={})[e]=i,r)))},u.prototype.updateItems=function(t,r,o){var i=this;void 0===o&&(o="id");var e=this.copyItems(),n=t.reduce(function(t,e){var n=t[e[o]];return t[e[o]]=i.buildItem(n,e,r),t},e);return this.build(n)},u}(),qt=function(){function a(t){this.data=t,this.query=new G,this.style=new Y,this.filterable=!0,this.sortable={mode:"multiple"}}return a.ApplyFilter=function(t,e,n,r){switch(e){case"contains":return t.filter(function(t){return a.Contains(t[n],r)});case"gte":return t.filter(function(t){return a.MatchDate(t[n],r)})}},a.Build=function(t){return new a(Object.assign(new Kt,{items:t}))},a.BuildSort=function(t,e){return void 0===e&&(e="asc"),{dir:e,field:t}},a.Contains=function(t,e){return"string"!=typeof t||"string"!=typeof e||t.toLowerCase().includes(e.toLowerCase())},a.FilterRows=function(i,t){return t.reduce(function(t,e){var n=e.operator,r=e.field,o=e.value;return a.ApplyFilter(i,n,r,o)},i)},a.MatchDate=function(t,e){return At.IsSameDay(t,e)},a.PageRows=function(t,n,r){return t.filter(function(t,e){return n<=e&&e<n+r})},a.SortRows=function(t,e){return l.orderBy(t,e)},a.prototype.update=function(t){},a}(),Zt=function(){function t(t){this.view=t,this.editable=!0,this.field="",this.filter="text",this.filterable=!0,this.hidden=!1,this.locked=!1,this.sortable=!0}return Object.defineProperty(t.prototype,"colField",{get:function(){return this.model.metadata.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colTitle",{get:function(){return this.model.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colWidth",{get:function(){return this.model.width},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Component,args:[{selector:"iu-grid-column",template:'<kendo-grid-column [field]="colField" [title]="colTitle" [width]="colWidth" #kendoGridColumn>\n  <span #content>\n    <ng-content></ng-content>\n  </span>\n</kendo-grid-column>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:i.ViewContainerRef}]},t.propDecorators={model:[{type:i.Input}],templateRef:[{type:i.Input}],"class":[{type:i.Input}],editable:[{type:i.Input}],editor:[{type:i.Input}],field:[{type:i.Input}],filter:[{type:i.Input}],filterable:[{type:i.Input}],footerClass:[{type:i.Input}],footerStyle:[{type:i.Input}],format:[{type:i.Input}],headerClass:[{type:i.Input}],headerStyle:[{type:i.Input}],hidden:[{type:i.Input}],locked:[{type:i.Input}],media:[{type:i.Input}],sortable:[{type:i.Input}],style:[{type:i.Input}],title:[{type:i.Input}],width:[{type:i.Input}],content:[{type:i.ViewChild,args:["content"]}]},t}(),Xt=function(){function t(t,e){this._elementRef=t,this._renderer=e,this.advancedFilter=!1,this.autoCalculateHeight=!0,this.buttonColor="#fff",this.buttonCount=5,this.buttonClass="toolbar-button",this.pagerInfo=!0,this.pagerType="numeric",this.pageSizes=!0,this.previousNext=!0,this["export"]=!1,this.fileName="export",this.filter={logic:"and",filters:[]},this.filterable=!0,this.pageSize=20,this.pager={pageSizes:[10,20,50,100]},this.pdfHeader="",this.skip=0,this.sortable={mode:"multiple"},this.sort=[],this.total=0,this.changes=new i.EventEmitter,this.columns=[],this.filtering=!0}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._updateColor(t)},enumerable:!0,configurable:!0}),t.prototype._updateColor=function(t){this._setElementColor(this._color,!1),this._setElementColor(t,!0),this._color=t},t.prototype._setElementColor=function(t,e){if(null!=t&&""!==t){var n=this._elementRef.nativeElement;e?this._renderer.addClass(n,"mat-"+t):this._renderer.removeClass(n,"mat-"+t)}},Object.defineProperty(t.prototype,"activeRows",{get:function(){return this.pageRows(this.filterRows(this.sortRows(this.rows)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computedRowHeight",{get:function(){return this.rowHeightMax||32},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicHeight",{get:function(){return this.autoCalculateHeight?0!==this.activeRows.length&&this.numericHeight?Math.max(96+this.headerHeight+this.pagerHeight+this.toolbarHeight,Math.min(this.computedRowHeight*this.activeRows.length+this.headerHeight+this.pagerHeight+this.toolbarHeight,this.numericHeight)):null:this.numericHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excelFileName",{get:function(){return this.fileName+".xlsx"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this.filter.filters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridData",{get:function(){return{data:this.activeRows,total:this.total?this.total:this.rows.length}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerHeight",{get:function(){return this.filterable?66:27},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numericHeight",{get:function(){return"string"==typeof this.height?gt(this.height):this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pagerHeight",{get:function(){return this.pageable?46:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pagerSettings",{get:function(){return this.pager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfFileName",{get:function(){return this.fileName+".pdf"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this.model.data?this.model.data.toArray():[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilters",{get:function(){return this.filterable&&this.filtering},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"take",{get:function(){return this.pageSize||20},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbarHeight",{get:function(){return this["export"]?53:0},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this.model.update(this)},t.prototype.ngOnInit=function(){this.pageable={buttonCount:this.buttonCount,info:this.pagerInfo,type:this.pagerType,pageSizes:this.pageSizes,previousNext:this.previousNext}},t.prototype.ngAfterContentInit=function(){var e=this;this.contentChildren.forEach(function(t){e.columns.push(t)})},t.prototype.dataStateChange=function(t){this.filterChange(t.filter),this.pageChange({skip:t.skip,take:t.take}),this.sortChange(t.sort),this.changes.emit(t)},t.prototype.save=function(t){var e=t.workbookOptions(),n=e.sheets[0].rows,r=0;n.forEach(function(t){"data"===t.type&&(r%2!=0&&t.cells.forEach(function(t){t.background="#aabbcc"}),r++)}),t.save(e)},t.prototype.filterChange=function(t){this.filter=t},t.prototype.pageChange=function(t){this.skip=t.skip,this.pageSize=gt(t.take.toString())},t.prototype.sortChange=function(t){this.sort=t},t.prototype.filterRows=function(t){return qt.FilterRows(t,this.filters)},t.prototype.pageRows=function(t){return this.pager?qt.PageRows(t,this.skip,this.take):t},t.prototype.sortRows=function(t){return qt.SortRows(t,this.sort)},t.decorators=[{type:i.Component,args:[{selector:"iu-grid",template:'<mat-card class="grid mat-primary" [class.mat-card]="!export">\n  <kendo-grid [data]="gridData" [filter]="filter" [filterable]="showFilters" [groupable]="groupable" [height]="dynamicHeight"\n    [pageSize]="pageSize" [pageable]="pagerSettings" [rowHeight]="rowHeight" [scrollable]="scrollable" [selectable]="selectable"\n    [skip]="skip" [sortable]="sortable" [group]="group" [sort]="sort" (dataStateChange)="dataStateChange($event)" #kendoGridInstance="kendoGrid">\n\n    \x3c!-- Toolbar Template --\x3e\n    <ng-template kendoGridToolbarTemplate *ngIf="export">\n      <button mat-raised-button class="toolbar-button pdf-button" kendoGridPDFCommand>\n        <mat-icon>picture_as_pdf</mat-icon>Export to PDF</button>\n      <button mat-raised-button class="toolbar-button excel-button" (click)="save(excelexport)">\n        <mat-icon>import_export</mat-icon>Export To Excel</button>\n    </ng-template>\n\n    \x3c!-- Grid Columns --\x3e\n    <kendo-grid-column *ngFor="let col of columns" [class]="col.class" [editable]="col.editable" [editor]="col.editor" [field]="col.colField"\n      [filter]="col.filter" [filterable]="col.filterable" [footerClass]="col.footerClass" [footerStyle]="col.footerStyle" [format]="col.format"\n      [headerClass]="col.headerClass" [headerStyle]="col.headerStyle" [hidden]="col.hidden" [locked]="col.locked" [media]="col.media"\n      [sortable]="col.sortable" [style]="col.style" [title]="col.colTitle" [width]="col.width">\n      <ng-template *ngIf="col.templateRef" kendoGridCellTemplate let-dataItem>\n        <iu-grid-cell [templateRef]="col.templateRef" [dataItem]="dataItem"></iu-grid-cell>\n      </ng-template>\n    </kendo-grid-column>\n\n    \x3c!-- Export to PDF --\x3e\n    <kendo-grid-pdf *ngIf="export" [fileName]="pdfFileName" [allPages]="true" paperSize="A4" [repeatHeaders]="true" [landscape]="true">\n      <kendo-grid-pdf-margin top="2cm" left="1cm" right="1cm" bottom="2cm"></kendo-grid-pdf-margin>\n      <ng-template kendoGridPDFTemplate let-pageNum="pageNum" let-totalPages="totalPages">\n        <div class="page-template">\n          <div class="header">\n            <div style="float: right">Page {{ pageNum }} of {{ totalPages }}</div>\n            {{ pdfHeader }}\n          </div>\n          <div class="footer">\n            Page {{ pageNum }} of {{ totalPages }}\n          </div>\n        </div>\n      </ng-template>\n    </kendo-grid-pdf>\n\n    \x3c!-- Export to Excel --\x3e\n    <kendo-excelexport [data]="activeRows" [fileName]="excelFileName" [filterable]="true" #excelexport>\n      <kendo-excelexport-column *ngFor="let col of columns" [field]="col.colField" [title]="col.colTitle">\n      </kendo-excelexport-column>\n    </kendo-excelexport>\n\n  </kendo-grid>\n</mat-card>\n',styles:['.mat-card.grid{padding:0}.grid .k-grid-header{padding-right:13px}.grid th.k-grid-header:first-child{padding-left:6px}.grid .mat-raised-button{color:#fff}.k-grid-header .k-header>.k-link{font-size:16px;padding:2px 12px}.k-grid td{border:none;padding:6px 12px}.k-widget{border:none}.k-filter-row>th{padding:4px;max-width:190px;border-width:0 0 1px 1px;border-style:solid}.k-input.k-textbox,.k-textbox{height:calc(1em + (4px * 2) + (1px * 2))!important;min-width:80px}.k-filtercell .k-filtercell-wrapper,.k-filtercell>span{padding-right:calc(1.5em + 8px + 2px + 4px)}.k-filtercell .k-dropdown-operator{display:none}.k-picker-wrap.k-state-default{border-bottom-width:1px}.page-template{font-family:"DejaVu Sans",Arial,sans-serif;position:absolute;width:100%;height:100%;top:0;left:0}.page-template .header{position:absolute;top:30px;left:30px;right:30px;border-bottom:1px solid #888;color:#888}.page-template .footer{position:absolute;bottom:30px;left:30px;right:30px;border-top:1px solid #888;text-align:center;color:#888}.toolbar-button{color:#fff;background-image:none;vertical-align:middle}'],encapsulation:i.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2}]},t.propDecorators={model:[{type:i.Input}],advancedFilter:[{type:i.Input}],autoCalculateHeight:[{type:i.Input}],buttonColor:[{type:i.Input}],buttonCount:[{type:i.Input}],buttonClass:[{type:i.Input}],pagerInfo:[{type:i.Input}],pagerType:[{type:i.Input}],pageSizes:[{type:i.Input}],previousNext:[{type:i.Input}],detailRowHeight:[{type:i.Input}],"export":[{type:i.Input}],fileName:[{type:i.Input}],filter:[{type:i.Input}],filterable:[{type:i.Input}],groupable:[{type:i.Input}],height:[{type:i.Input}],pageSize:[{type:i.Input}],pageable:[{type:i.Input}],pager:[{type:i.Input}],pdfHeader:[{type:i.Input}],rowHeight:[{type:i.Input}],rowHeightMax:[{type:i.Input}],scrollable:[{type:i.Input}],selectable:[{type:i.Input}],skip:[{type:i.Input}],sortable:[{type:i.Input}],group:[{type:i.Input}],rowClass:[{type:i.Input}],sort:[{type:i.Input}],total:[{type:i.Input}],changes:[{type:i.Output}],grid:[{type:i.ViewChild,args:["kendoGridInstance"]}],contentChildren:[{type:i.ContentChildren,args:[Zt]}],color:[{type:i.Input}]},t}(),Jt=function(){function t(t){this.viewContainerRef=t}return t.prototype.ngOnInit=function(){this.viewContainerRef.createEmbeddedView(this.templateRef,this.dataItem)},t.decorators=[{type:i.Component,args:[{selector:"iu-grid-cell",template:"<div></div>",styles:[""]}]}],t.ctorParameters=function(){return[{type:i.ViewContainerRef}]},t.propDecorators={dataItem:[{type:i.Input}],templateRef:[{type:i.Input}]},t}(),te=function(){function t(t,e){this.name=t,this.label=e,this.styleModel=new Y,this.editable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.hidden=!1,this.locked=!1,this.sortable=!0,this.metadata={name:t,label:e},this.title=e}return Object.defineProperty(t.prototype,"class",{get:function(){return this._class},set:function(t){this._class=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"field",{get:function(){return this._field?this._field:this.metadata.name},set:function(t){this._field=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title?this._title:this.metadata.label},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),t.prototype.update=function(t){this["class"]=t["class"],this.editable=t.editable,this.editor=t.editor,this.field=t.field,this.filter=t.filter,this.filterable=t.filterable,this.footerClass=t.footerClass,this.footerStyle=t.footerStyle,this.format=t.format,this.headerClass=t.headerClass,this.headerStyle=t.headerStyle,this.hidden=t.hidden,this.locked=t.locked,this.media=t.media,this.sortable=t.sortable,this.style=t.style,this.title=t.title,this.width=t.width},t}(),ee=function(){function t(){this.data=[],this["export"]=!1,this.filterable=!1,this.fileName="export",this.height=600,this.pageSize=30}return Object.defineProperty(t.prototype,"metadata",{get:function(){return this._metadata?this._metadata:0<mt(this.data).length?mt(this.data)[0].metadata:null},set:function(t){this._metadata=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){var e=this;return this.metadata?this.columnKeys.map(function(t){return new te(t,e.metadata[t].columnLabel)}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnKeys",{get:function(){var e=this;return this.metadata?Object.keys(this.metadata).filter(function(t){return!!e.metadata[t].columnLabel}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLabels",{get:function(){var e=this;return this.metadata?this.columnKeys.map(function(t){return e.metadata[t].columnLabel}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridData",{get:function(){return qt.Build(mt(this.data))},enumerable:!0,configurable:!0}),t.decorators=[{type:i.Component,args:[{selector:"iu-simple-grid",template:'<iu-grid [model]="gridData" [export]="export" [filterable]="filterable" [fileName]="fileName" [pageSize]="pageSize" [height]="height">\n  <iu-grid-column *ngFor="let column of columns" [model]="column"></iu-grid-column>\n</iu-grid>\n',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={data:[{type:i.Input}],"export":[{type:i.Input}],filterable:[{type:i.Input}],fileName:[{type:i.Input}],height:[{type:i.Input}],pageSize:[{type:i.Input}],metadata:[{type:i.Input}]},t}(),ne=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,d.ExcelExportModule,f.GridModule,f.PDFModule,c.MatCardModule,c.MatIconModule],declarations:[Xt,Zt,ee,Jt],exports:[f.GridModule,Xt,Zt,ee]}]}],t}(),re=function(){function t(){}return t.prototype.ngOnInit=function(){},t.decorators=[{type:i.Component,args:[{selector:"iu-not-found",template:"<p>\n  not-found works!\n</p>\n",styles:[""]}]}],t.ctorParameters=function(){return[]},t}(),oe=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I],declarations:[re],exports:[re]}]}],t}(),ie=function(){function t(t){this.elementRef=t,this.images=[],this.windowHeight=0,this.windowWidth=0}return Object.defineProperty(t.prototype,"canvasHeight",{get:function(){return 2*this.windowWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvasWidth",{get:function(){return this.windowWidth-100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementHeight",{get:function(){return this.elementRef&&this.elementRef.nativeElement&&this.elementRef.nativeElement.style?this.elementRef.nativeElement.style.height:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementHeightPx",{get:function(){return Et(this.elementHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementWidth",{get:function(){return this.elementRef&&this.elementRef.nativeElement&&this.elementRef.nativeElement.style?this.elementRef.nativeElement.style.width:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementWidthPx",{get:function(){return Et(this.elementWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxRows",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalColumns",{get:function(){return 12},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalRows",{get:function(){return 24},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.decorators=[{type:i.Component,args:[{selector:"iu-wallpaper",template:'<div class="wallpaper" [style.height.px]="windowHeight" [style.width.px]="windowWidth">\n  <iu-collage [images]="images" [canvasHeight]="canvasHeight" [canvasWidth]="canvasWidth" [totalRows]="totalRows" [totalColumns]="totalColumns"\n    [maxRows]="maxRows" [maxColumns]="maxColumns"></iu-collage>\n</div>',styles:[".wallpaper{height:100%;width:100%}"],changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i.ElementRef}]},t.propDecorators={images:[{type:i.Input}],windowHeight:[{type:i.Input}],windowWidth:[{type:i.Input}]},t}(),ae=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,Rt],declarations:[ie],exports:[ie]}]}],t}(),ue=function(){function t(){}return t.prototype.transform=function(t,e){return Array.isArray(t)?t.reduce(function(t,e){return t?t+", "+e:e},""):""},t.decorators=[{type:i.Pipe,args:[{name:"list"}]}],t}(),se=function(){function t(){}return t.prototype.transform=function(t,e){return 10!==t.length?t:"("+t[0]+t[1]+t[2]+") "+t[3]+t[4]+t[5]+"-"+t[6]+t[7]+t[8]+t[9]},t.decorators=[{type:i.Pipe,args:[{name:"phone"}]}],t}(),ce=function(){function t(){}return t.prototype.transform=function(t,e){return At.TimeAgo(t)},t.decorators=[{type:i.Pipe,args:[{name:"timeago"}]}],t}(),pe=function(){function t(){}return t.prototype.transform=function(t,e){return t?"Yes":"No"},t.decorators=[{type:i.Pipe,args:[{name:"yesno"}]}],t}(),le=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,w,_t,Ut,Qt,ne,oe,c.MatButtonModule,c.MatCardModule,c.MatCheckboxModule,h.MatIconModule,c.MatInputModule,c.MatProgressBarModule,c.MatProgressSpinnerModule,c.MatRadioModule,c.MatSelectModule,c.MatTabsModule,c.MatToolbarModule],declarations:[O,ue,se,ce,pe],exports:[O,I,w,Rt,_t,Ut,Qt,ue,oe,se,Tt,ce,ae,pe,c.MatButtonModule,c.MatCardModule,c.MatCheckboxModule,h.MatIconModule,c.MatInputModule,c.MatProgressBarModule,c.MatProgressSpinnerModule,c.MatRadioModule,c.MatSelectModule,c.MatTabsModule,c.MatToolbarModule]}]}],t}(),de=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[n.CommonModule],declarations:[]}]}],t}(),fe=function(){function t(t,e){this.data=t,this.dialogRef=e,this.actionWidth="100%"}return Object.defineProperty(t.prototype,"actions",{get:function(){return[Q(kt,{value:this.data,label:"Save and Close"})]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialog",{get:function(){return Q(Nt,{title:this.title,actions:this.actions})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return"Editor"},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.dialogRef.close(this.data)},t.prototype.update=function(t){this.data=t},t.decorators=[{type:i.Component,args:[{selector:"iu-editor-window",template:'<span id="editor-window">\n  <mat-toolbar color="primary" mat-dialog-title>\n    <span class="dialog-title">\n      {{ title }}\n      <button mat-button [mat-dialog-close]="null">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n  <mat-dialog-content>\n    <div id="expanded-editor">\n      <iu-editor [value]="data" [expanded]="true" [height]="380" (changes)="update($event)"></iu-editor>\n    </div>\n  </mat-dialog-content>\n  <mat-dialog-actions>\n    <button mat-raised-button (click)="close()" [style.width]="actionWidth" color="accent">Save and Close</button>\n  </mat-dialog-actions>\n</span>\n',styles:["#editor-window #expanded-editor{margin:0;padding:0;height:60vh}#editor-window .mat-toolbar{margin:-24px -24px 0;width:calc(100% + 48px);min-height:32px!important}#editor-window .mat-toolbar .mat-toolbar-row{height:48px}#editor-window .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}#editor-window .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}#editor-window .mat-toolbar .dialog-title button:hover,#editor-window .mat-toolbar .dialog-title button:hover mat-icon{font-weight:700}#editor-window .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}#editor-window .mat-toolbar-row{height:48px}#editor-window .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}#editor-window .mat-dialog-actions button{padding:12px 0}#editor-window .mat-dialog-actions .mat-accent{color:#fff!important}"],encapsulation:i.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:i.Inject,args:[c.MAT_DIALOG_DATA]}]},{type:c.MatDialogRef}]},t}(),he={provide:s.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return ge}),multi:!0},ge=function(){function t(t,e){this.dialog=t,this.ref=e,this.type="full",this.expanded=!1,this.height=100,this.plugins=["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern imagetools toc help"],this.skinUrl="/assets/skins/lightgray-gradient",this.templates=[{title:"Test template 1",content:"Test 1"},{title:"Test template 2",content:"Test 2"}],this.changes=new i.EventEmitter}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.setContent(this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"basic",{get:function(){return"basic"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return"full"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){switch(this.type){case"basic":return this.configBasic;case"full":default:return this.configFull}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configBasic",{get:function(){var r=this;return{height:this.height,selector:"#"+this.elementId,menubar:!1,skin_url:this.skinUrl,theme:"modern",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"],toolbar:"undo redo | insert | styleselect | bold italic |\n       alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link",content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css"],setup:function(n){(r.editorRef=n).on("keyup",function(t){t.preventDefault();var e=n.getContent();r.onKeyup(e)}),n.on("change",function(t){t.preventDefault();var e=n.getContent();r.onChange(e)}),n.on("viewcontentloaded",function(t){n.setContent("")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configFull",{get:function(){var r=this;return{height:this.height,selector:"#"+this.elementId,plugins:this.plugins,skin_url:this.skinUrl,templates:this.templates,theme:"modern",toolbar1:"undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent",toolbar2:"print preview | forecolor backcolor | link",setup:function(n){(r.editorRef=n).on("keyup",function(t){t.preventDefault();var e=n.getContent();r.onKeyup(e)}),n.on("change",function(t){t.preventDefault();var e=n.getContent();r.onChange(e)}),n.on("viewcontentloaded",function(t){n.setContent("")})},image_advtab:!0,content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css"]}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasValue",{get:function(){return!!this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showExpand",{get:function(){return this.full&&!this.expanded},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){tinymce.init(this.config)},t.prototype.ngOnDestroy=function(){tinymce.remove(this.editorRef)},t.prototype.clear=function(){this.value=""},t.prototype.expand=function(t){t&&t.preventDefault&&t.preventDefault();var e={data:this.editorRef.getContent(),width:"1200px"};this.openDialog(e)},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onTouch=t},t.prototype.writeValue=function(t){this.value=t},t.prototype.onChange=function(t){this.value=t,this.changes.emit(t),this.onModelChange&&this.onModelChange(t)},t.prototype.onUpdate=function(t){this.onChange(t),this.setContent(this.value)},t.prototype.onKeyup=function(t){this.onChange(t)},t.prototype.onBlur=function(t){this.focused=""},t.prototype.onFocus=function(t){this.focused=t,this.onTouch&&this.onTouch()},t.prototype.openDialog=function(t){var e=this,n=this.dialog.open(fe,t);this.dialogRef=n.afterClosed().subscribe(function(t){e.closeDialog(t)})},t.prototype.closeDialog=function(t){t&&this.onChange(t),this.dialogRef.unsubscribe()},t.prototype.setContent=function(t){if(this.editorRef&&this.editorRef.getContent){var e=this.editorRef.getContent();t&&e!=t&&this.editorRef.setContent(t)}},t.decorators=[{type:i.Component,args:[{selector:"iu-editor",template:'<mat-card class="editor">\n  <textarea [id]="elementId">\n    <ng-content *ngIf="!hasValue"></ng-content>\n    <span *ngIf="hasValue">{{ value }}</span>\n  </textarea>\n  <button *ngIf="showExpand" id="expand-editor" (click)="expand($event)" mat-button>\n    <mat-icon>fullscreen</mat-icon>\n  </button>\n</mat-card>\n',styles:[".mat-card{display:block;clear:both;padding:1px 3px 1px 1px;border-radius:2px}#expand-editor{font-size:36px;position:absolute;right:3px;top:3px;color:#fff;text-align:center;min-width:36px;line-height:24px;padding:2px}.mat-icon{font-size:36px;position:relative;left:-6px;top:-7px}"],changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[he]}]}],t.ctorParameters=function(){return[{type:c.MatDialog},{type:i.ChangeDetectorRef}]},t.propDecorators={type:[{type:i.Input}],elementId:[{type:i.Input}],expanded:[{type:i.Input}],height:[{type:i.Input}],plugins:[{type:i.Input}],skinUrl:[{type:i.Input}],templates:[{type:i.Input}],changes:[{type:i.Output}],value:[{type:i.Input}]},t}(),ye=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[I,s.FormsModule,Ut,c.MatButtonModule,c.MatCardModule,c.MatDialogModule,c.MatIconModule,c.MatToolbarModule],declarations:[ge,fe],entryComponents:[fe],exports:[ge,fe]}]}],t}(),me=function(){function t(){}return t.forFeature=function(t){return g.EffectsModule.forFeature(t)},t.forRoot=function(t){return g.EffectsModule.forRoot(t)},t.decorators=[{type:i.NgModule,args:[{imports:[g.EffectsModule],declarations:[]}]}],t}(),be=function(){function r(){}return r.addAtOutlet=function(t,e){var n={key:e.key,error:e.handler?e.handler(t):t};return r.add(n)},r.addError=function(t,e){return r.add({key:t,error:e})},r.add=function(t){return{type:r.ADD,payload:t}},r.remove=function(t){return{type:r.REMOVE,payload:t}},r.ADD="[Error] Add Error",r.REMOVE="[Error] Remove Error",r.HANDLE_ERROR="[Error Handler] Handle Error",r.THROW_ERROR="[Error Handler] Throw Error",r}(),ve=function(){function t(){}return t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ee=function(){function t(t,e){this.actions$=t,this.service=e,this.handleError$=this.actions$.pipe(y.filter(function(t){return t.type===be.THROW_ERROR}),y.map(function(t){return{type:be.HANDLE_ERROR}}))}return t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:g.Actions},{type:ve}]},P([g.Effect(),A("design:type",p.Observable)],t.prototype,"handleError$",void 0),t}(),Oe=function(){function t(){}return t.prototype.handleError=function(t){throw alert(t),t},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Se=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[ve,Ee,{provide:i.ErrorHandler,useClass:Oe}]}},t.decorators=[{type:i.NgModule,args:[{imports:[],declarations:[]}]}],t}(),Ie=function(){this.message="",this.statusCode=0};function we(t){return t.select(function(t){return t.errors})}var Te=function(){this.emittedCount=0,this.key="",this.onAction="",this.value=null},Re=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return R(n,t),Object.defineProperty(n.prototype,"actions",{get:function(){return this.toArray().reduce(function(e,t){var n=t.onAction?"string"==typeof t.onAction?-1===e.indexOf(t.onAction)?[t.onAction]:[]:t.onAction.filter(function(t){return-1===e.indexOf(t)}):[];return D(e,n)},[])},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"eventsByAction",{get:function(){return this.toArray().reduce(function(n,r){if("string"==typeof r.onAction){var t=n[r.onAction]||[];n[r.onAction]=D(t,[r])}else r.onAction.forEach(function(t){var e=n[t]||[];n[t]=D(e,[r])});return n},{})},enumerable:!0,configurable:!0}),n.prototype.addEvent=function(t){return Q(n,this.addItem(t,t.key))},n.prototype.getActionEvents=function(t){return this.eventsByAction[t]},n.prototype.removeEvent=function(t){return Q(n,this.removeItem(t))},n.prototype.replaceEvents=function(t){var e=this.copyItems();return t.forEach(function(t){e[t.key]=t}),Q(n,this,{items:e})},n.prototype.triggerEvent=function(e){var t=this.getActionEvents(e.type).map(function(t){return Q(Te,t,{value:t.handler?t.handler(e):e})});return this.replaceEvents(t)},n.prototype.updateValue=function(t){var e=Q(Te,this.items[t.key],{value:t.value});return Q(n,this.updateItem(e,t.key,Te))},n}(Kt),Pe=function(){},Ae=function(){function o(){}return o.addEvent=function(t,e,n){void 0===n&&(n=null);var r=Q(Te,{onAction:t,handler:e,value:n,key:ot()});return{type:o.ADD_EVENT,payload:r,key:r.key}},o.removeEvent=function(t){return{type:o.REMOVE_EVENT,payload:t}},o.triggerEvent=function(t){return{type:o.TRIGGER_EVENT,payload:t}},o.updateValue=function(t,e){var n=Q(Pe,{key:t,value:e});return{type:o.UPDATE_VALUE,payload:n}},o.ADD_EVENT="[Events] Add Event",o.REMOVE_EVENT="[Events] Remove Event",o.TRIGGER_EVENT="[Events] Trigger Event",o.UPDATE_VALUE="[Events] Update Value",o}(),Ce=function(){function t(t,e){var n=this;this.actions$=t,this.store=e,this.events=new Re,this.onTriggerEvent=this.actions$.pipe(y.filter(function(t){return-1!==n.events.actions.indexOf(t.type)}),y.map(this.trigger)),this.store.select(function(t){return t.events}).subscribe(function(t){n.events=t})}return t.prototype.trigger=function(t){return Ae.triggerEvent(t)},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:g.Actions},{type:m.Store}]},P([g.Effect(),A("design:type",p.Observable)],t.prototype,"onTriggerEvent",void 0),t}();function De(t){return t.select(function(t){return t.events}).pipe(y.map(function(t){return t.items}))}function xe(t,e){return De(t).pipe(y.map(function(t){return t[e]}))}function je(t,e){return xe(t,e).pipe(y.map(function(t){return t?t.value:null}))}var _e=function(){function t(t){this.store=t,this.eventIndex=0,this.events=[]}return Object.defineProperty(t.prototype,"eventKey",{get:function(){return this.eventIndex++,"event-"+this.eventIndex},enumerable:!0,configurable:!0}),t.prototype.addEvent=function(t,e){var n=e||function(t){return!0},r=Ae.addEvent(t,n,!1);return this.store.dispatch(r),r.key},t.prototype.dispatch=function(t,e){return this.dispatchHttpAction(t,e)},t.prototype.dispatchHttpAction=function(t,e){var n=t.payload.onSuccess,r="string"==typeof t.payload.onError?t.payload.onError:null,o=this.takeOne(n,e),i=r?o.pipe(y.combineLatest(this.takeOne(r,e),function(t,e){return!0})):o;return this.store.dispatch(t),i},t.prototype.removeEvent=function(t){this.store.dispatch(Ae.removeEvent(t))},t.prototype.subscribe=function(t,e){return this.take(1,t).subscribe(e)},t.prototype.take=function(t,e,n){void 0===t&&(t=1);var r=this.addEvent(e,n);return je(this.store,r).pipe(y.skip(1),y.take(t))},t.prototype.takeFrom=function(t,e,n){var r=this;return void 0===t&&(t=1),e.map(function(t){return r.addEvent(t,n)}).map(function(t){return je(r.store,t)}).reduce(function(t,e){return t.pipe(y.combineLatest(e,function(t,e){return!0}))},p.of(!1)).pipe(y.skip(1),y.take(t))},t.prototype.takeOne=function(t,e){return this.take(1,t,e)},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:m.Store}]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(m.Store))},token:t,providedIn:"root"}),t}(),Ne=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{providers:[Ce,_e],exports:[]}]}],t}();var ke=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:i.NgModule,args:[{imports:[s.FormsModule,s.ReactiveFormsModule],exports:[s.FormsModule,s.ReactiveFormsModule]}]}],t}(),Me=function(){function n(){}return n.addForm=function(t){return{type:n.ADD,payload:t}},n.changeStatus=function(t,e){return{type:n.STATUS_CHANGES,payload:{control:t,changes:e}}},n.changeValue=function(t,e){return{type:n.VALUE_CHANGES,payload:{control:t,changes:e}}},n.navigateToForm=function(t){return{type:n.NAVIGATE,payload:t}},n.resetForms=function(t){return{type:n.RESET,payload:t}},n.ADD="[forms] Add Form",n.RESET="[forms] Reset Forms",n.NAVIGATE="[forms] Navigate to Form",n.STATUS_CHANGES="[form] Status Changes",n.VALUE_CHANGES="[form] Value Changes",n}(),Ue=function(i){function u(t,e,n,r){var o=i.call(this,e,n,r)||this;return o.fb=t,o}return R(u,i),u.Build=function(t,e,n,r){return new u(t,e,n,r)},u.BuildWithType=function(t,e,n,r,o){void 0===n&&(n=[]);var i=new u(e,n,r,o);return i.ctor=t,i},u.BuildWithTypeAndValue=function(t,e,n,r,o,i){void 0===r&&(r=[]);var a=new u(n,r,o,i);return a.ctor=t,a.setValue(e),a},u.BuildWithValue=function(t,e,n,r,o){void 0===n&&(n=[]);var i=new u(e,n,r,o);return i.setValue(t),i},u.GetValue=function(t,e){return mt(t).map(function(t){return rt(Q(e,t))})},Object.defineProperty(u.prototype,"maxIndex",{get:function(){return this.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"values",{get:function(){return D(this.value)},enumerable:!0,configurable:!0}),u.prototype.buildControls=function(t){var e=this;return this.buildItems(t).map(function(t){return Le(e.fb,t)})},u.prototype.buildItems=function(t){var e=this;return Array.from(Array(t).keys()).map(function(t){return e.ctor?rt(new e.ctor):{}})},u.prototype.getValue=function(t){var e=this;return this.ctor?mt(t).map(function(t){return rt(Q(e.ctor,t))}):t},u.prototype.resetValue=function(t){this.removeAll(),this.addControls(t),this.setValue(t)},u.prototype.setLength=function(t){this.length<t?this.add(t-this.length):this.length>t&&this.remove(this.length-t)},u.prototype.setValue=function(t){this.setLength(t.length),i.prototype.setValue.call(this,this.getValue(t))},u.prototype.findControlById=function(e){return this.controls.find(function(t){return t.value&&t.value.id&&t.value.id===e})},u.prototype.removeAll=function(){this.controls=[]},u.prototype.removeIndexes=function(t){var e=this;t.forEach(function(t){e.removeAt(t)})},u.prototype.add=function(t){var e=this;this.buildControls(t).forEach(function(t){e.push(t)})},u.prototype.remove=function(t){var e=this,n=Math.min(t,this.length);Array.from(Array(n).keys()).forEach(function(t){e.removeAt(e.maxIndex)})},u.prototype.addControls=function(t){var e=this;t.map(function(t){return e.fb.group(Ge(t,e.fb))}).forEach(function(t){e.push(t)})},u.prototype.setAll=function(e,n){this.controls.forEach(function(t){t.setValue(Q(new e,t.value,n))})},u}(s.FormArray);function Le(t,e){return Xe(e)?t.group(Ge(e,t)):t.control(e)}function Fe(t,e,n){var r=new s.FormBuilder;return Ue.BuildWithType(t,r,[],e,n)}function He(t,e,n){return Ze(e,n)?t.group(Ge(e[n],t)):Ke(e,n)?Be(t,e,n):We(e,n)?[e[n],e.metadata[n].validators]:[e[n]]}function Ve(t){var e=new s.FormBuilder,n=Ge(t,e);return ze(t)?e.group(n,t.metadata.validators):e.group(n)}function Ge(r,o){return et(r).filter(function(t){return"metadata"!==t&&!it(r,t)}).reduce(function(t,e){return Object.assign({},t,((n={})[e]=He(o,r,e),n));var n},{})}function Be(t,e,n){var r=$e(e,n),o=Ye(t,e[n],r);return r?Ue.BuildWithType(r,t,o):Ue.Build(t,[])}function Ye(e,t,n){return n?t.map(function(t){return Le(e,rt(Q(n,t)))}):t.map(function(t){return Le(e,t)})}function $e(t,e){return t.metadata&&t.metadata[e]?t.metadata[e].type:null}function ze(t){return t.metadata&&t.metadata.validators}function We(t,e){return t.metadata&&t.metadata[e]&&t.metadata[e].validators}function Qe(t){return Array.isArray(t)}function Ke(t,e){return Array.isArray(t[e])&&t.metadata&&t.metadata[e]&&t.metadata[e].isFormArray}function qe(t,e){return t.metadata&&t.metadata.controls&&at(t.metadata.controls,e)}function Ze(t,e){return t[e]&&"object"==typeof t[e]&&!Array.isArray(t[e])&&0<Object.keys(t[e]).length&&!qe(t,e)&&!Ke(t,e)}function Xe(t){return"object"==typeof t&&0<Object.keys(t).length&&!Qe(t)}var Je=function(){this.path="",this.options=new an,this.headers=undefined,this.onSuccess=""},tn=function(){this.path="",this.options=new an,this.headers=undefined,this.onSuccess=""},en=function(){this.path="",this.model=null,this.options=new an,this.headers=undefined,this.onSuccess=""},nn=function(){this.path="",this.model=null,this.options=new an,this.headers=undefined,this.onSuccess=""},rn={PENDING:0,ERROR:1,SUCCESS:2};rn[rn.PENDING]="PENDING",rn[rn.ERROR]="ERROR",rn[rn.SUCCESS]="SUCCESS";var on={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505};on[on.CONTINUE]="CONTINUE",on[on.SWITCHING_PROTOCOLS]="SWITCHING_PROTOCOLS",on[on.OK]="OK",on[on.CREATED]="CREATED",on[on.ACCEPTED]="ACCEPTED",on[on.NON_AUTHORITATIVE_INFORMATION]="NON_AUTHORITATIVE_INFORMATION",on[on.NO_CONTENT]="NO_CONTENT",on[on.RESET_CONTENT]="RESET_CONTENT",on[on.PARTIAL_CONTENT]="PARTIAL_CONTENT",on[on.MULTIPLE_CHOICES]="MULTIPLE_CHOICES",on[on.MOVED_PERMANENTLY]="MOVED_PERMANENTLY",on[on.FOUND]="FOUND",on[on.SEE_OTHER]="SEE_OTHER",on[on.NOT_MODIFIED]="NOT_MODIFIED",on[on.USE_PROXY]="USE_PROXY",on[on.TEMPORARY_REDIRECT]="TEMPORARY_REDIRECT",on[on.BAD_REQUEST]="BAD_REQUEST",on[on.UNAUTHORIZED]="UNAUTHORIZED",on[on.PAYMENT_REQUIRED]="PAYMENT_REQUIRED",on[on.FORBIDDEN]="FORBIDDEN",on[on.NOT_FOUND]="NOT_FOUND",on[on.METHOD_NOT_ALLOWED]="METHOD_NOT_ALLOWED",on[on.NOT_ACCEPTABLE]="NOT_ACCEPTABLE",on[on.PROXY_AUTHENTICATION_REQUIRED]="PROXY_AUTHENTICATION_REQUIRED",on[on.REQUEST_TIMEOUT]="REQUEST_TIMEOUT",on[on.CONFLICT]="CONFLICT",on[on.GONE]="GONE",on[on.LENGTH_REQUIRED]="LENGTH_REQUIRED",on[on.PRECONDITION_FAILED]="PRECONDITION_FAILED",on[on.REQUEST_ENTITY_TOO_LARGE]="REQUEST_ENTITY_TOO_LARGE",on[on.REQUEST_URI_TOO_LONG]="REQUEST_URI_TOO_LONG",on[on.UNSUPPORTED_MEDIA_TYPE]="UNSUPPORTED_MEDIA_TYPE",on[on.REQUESTED_RANGE_NOT_SATISFIABLE]="REQUESTED_RANGE_NOT_SATISFIABLE",on[on.EXPECTATION_FAILED]="EXPECTATION_FAILED",on[on.UNPROCESSABLE_ENTITY]="UNPROCESSABLE_ENTITY",on[on.TOO_MANY_REQUESTS]="TOO_MANY_REQUESTS",on[on.INTERNAL_SERVER_ERROR]="INTERNAL_SERVER_ERROR",on[on.NOT_IMPLEMENTED]="NOT_IMPLEMENTED",on[on.BAD_GATEWAY]="BAD_GATEWAY",on[on.SERVICE_UNAVAILABLE]="SERVICE_UNAVAILABLE",on[on.GATEWAY_TIMEOUT]="GATEWAY_TIMEOUT",on[on.HTTP_VERSION_NOT_SUPPORTED]="HTTP_VERSION_NOT_SUPPORTED";var an=function(){this.prependBaseUrl=!0},un=function(){function i(){}return i.addPath=function(t,e){var n=e.matches||[],r=at(n,t)?n:D(n,[t]);return Object.assign(e,{matches:r})},i.matchPath=function(e,t){return t&&t.results?Object.assign(t,{results:i.matchPath(e,t.results)}):Array.isArray(t)?t.map(function(t){return i.addPath(e,t)}):i.addPath(e,t)},i.buildError=function(t){return be.add(t)},i.buildErrorPayload=function(t,e){return{key:t,error:e}},i.handleError=function(t,e){return{type:e,payload:t}},i.handleErrorOutlet=function(t,e){return be.addAtOutlet(t,e)},i.handleErrorDefault=function(t){return{type:i.DELETE_ERROR,payload:i.buildErrorPayload("lastError",t)}},i["delete"]=function(t,e,n,r){var o=Object.assign(new Je,{path:t,onSuccess:n||i.DELETE_SUCCESS,onSuccessPayload:e,onError:r||i.DELETE_ERROR});return i.httpDelete(o)},i.httpDelete=function(t){return{type:i.DELETE,payload:t}},i.deleteSuccess=function(t,e){return{type:e||i.DELETE_SUCCESS,payload:t}},i.deleteError=function(t,e){return"string"==typeof e?i.handleError(t,e):i.handleErrorDefault(t)},i.get=function(t,e,n){var r=Object.assign(new tn,{path:t,onSuccess:e||i.GET_SUCCESS,onError:n||i.GET_ERROR});return i.httpGet(r)},i.httpGet=function(t){return{type:i.GET,payload:t}},i.getSuccess=function(t,e){return{type:e||i.GET_SUCCESS,payload:t}},i.getError=function(t,e){return"string"==typeof e?i.handleError(t,e):i.handleErrorDefault(t)},i.post=function(t,e,n,r){var o=Object.assign(new nn,{path:t,model:e,onSuccess:n||i.POST_SUCCESS,onError:r||i.POST_ERROR});return i.httpPost(o)},i.httpPost=function(t){return{type:i.POST,payload:t}},i.postFormUrlEncoded=function(t,e,n,r){var o=Object.assign(new nn,{path:t,model:e,onSuccess:n||i.GET_SUCCESS,onError:r||i.GET_ERROR});return{type:i.POST_FORM_URL_ENCODED,payload:o}},i.postSuccess=function(t,e){return{type:e||i.POST_SUCCESS,payload:t}},i.postError=function(t,e){return"string"==typeof e?i.handleError(t,e):"object"==typeof e?i.handleErrorOutlet(t,e):i.handleErrorDefault(t)},i.put=function(t,e,n,r){var o=Object.assign(new en,{path:t,model:e,onSuccess:n||i.PUT_SUCCESS,onError:r||i.PUT_ERROR});return i.httpPut(o)},i.httpPut=function(t){return{type:i.PUT,payload:t}},i.putSuccess=function(t,e){return{type:e||i.PUT_SUCCESS,payload:t}},i.putError=function(t,e){return"string"==typeof e?i.handleError(t,e):i.handleErrorDefault(t)},i.search=function(t,e,n){var r=Object.assign(new tn,{path:t,onSuccess:e||i.SEARCH_SUCCESS,onError:n||i.SEARCH_ERROR});return{type:i.SEARCH,payload:r}},i.searchSuccess=function(t,e,n){var r=n?i.matchPath(n,t):t;return{type:e||i.SEARCH_SUCCESS,payload:r}},i.DELETE="[Http] DELETE",i.DELETE_SUCCESS="[Http] DELETE Success",i.DELETE_ERROR="[Http] DELETE Error",i.GET="[Http] GET",i.GET_SUCCESS="[Http] GET Success",i.GET_ERROR="[Http] GET Error",i.POST="[Http] POST",i.POST_SUCCESS="[Http] POST Success",i.POST_ERROR="[Http] POST Error",i.POST_FORM_URL_ENCODED="[Http] POST Form URL Encoded",i.PUT="[Http] PUT",i.PUT_SUCCESS="[Http] PUT Success",i.PUT_ERROR="[Http] PUT Error",i.SEARCH="[Http] SEARCH",i.SEARCH_SUCCESS="[Http] SEARCH Success",i.SEARCH_ERROR="[Http] SEARCH Error",i}(),sn=function(){function t(t,e,n){var r=this;this.http=t,this.baseUrl$=e,this.authToken$=n,this._authToken="",this._baseUrl="",this.headers={},this.logEvents=!0,this.useDefaultHeaders=!0,this.authTokenChanges=this.authToken$.subscribe(function(t){r.authToken=t}),this.baseUrlChanges=this.baseUrl$.subscribe(function(t){r.baseUrl=t})}return Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(t){this._authToken=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(t){this._baseUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultHeaders",{get:function(){var t=new b.HttpHeaders;return t=t.append("Content-type","application/json"),this.authToken&&(t=t.append("Authorization","Bearer "+this.authToken)),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestHeaders",{get:function(){var e=this,n=this.useDefaultHeaders?this.defaultHeaders:new b.HttpHeaders;return Object.keys(this.headers).forEach(function(t){n=n.append(t,e.headers[t])}),n},enumerable:!0,configurable:!0}),t.prototype.appendHeaders=function(t){var e=this;void 0===t&&(t={});var n=this.requestHeaders;return Object.keys(t).forEach(function(t){n=n.append(t,e.headers[t])}),n},t.prototype["delete"]=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=new an);var o=n.prependBaseUrl?this.formatUrl(t):t,i=this.appendHeaders(e);return this.http["delete"](o,{headers:i}).pipe(y.map(function(t){return t&&t.json&&"function"==typeof t.json?t.json():t}),y.catchError(function(t){return r.onError(t)}),y.finalize(function(){r.onComplete("DELETE",o)}))},t.prototype.get=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=new an);var o=n.prependBaseUrl?this.formatUrl(t):t,i=this.appendHeaders(e);return this.http.get(o,{headers:i}).pipe(y.map(function(t){return t&&t.json&&"function"==typeof t.json?t.json():t}),y.catchError(function(t){return r.onError(t)}),y.finalize(function(){r.onComplete("GET",o)}))},t.prototype.autocomplete=function(t,e,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=new an),!e.term||e.term.length<1)return p.of([]);var i=t+"/"+G.BuildQueryString(e),a=r.prependBaseUrl?this.formatUrl(t):t,u=this.appendHeaders(n);return this.http.get(a,{headers:u}).pipe(y.map(function(t){return t&&t.json&&"function"==typeof t.json?t.json():t}),y.debounceTime(500),y.distinctUntilChanged(),y.map(function(t){return un.matchPath(i,t)}),y.catchError(function(t){return o.onError(t)}),y.finalize(function(){o.onComplete("GET",a)}))},t.prototype.post=function(t,e,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=new an);var i=r.prependBaseUrl?this.formatUrl(t):t,a=this.appendHeaders(n);return this.http.post(i,dt(e),{headers:a}).pipe(y.map(function(t){return t&&t.json&&"function"==typeof t.json?t.json():t}),y.catchError(function(t){return o.onError(t)}),y.finalize(function(){o.onComplete("POST",i)}))},t.prototype.postFormUrlEncoded=function(t,e,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=new an);var i=r.prependBaseUrl?this.formatUrl(t):t,a=new b.HttpHeaders({"content-type":"application/x-www-form-urlencoded"});return this.http.post(i,e,{headers:a}).pipe(y.map(function(t){return t&&t.json&&"function"==typeof t.json?t.json():t}),y.catchError(function(t){return o.onError(t)}),y.finalize(function(){o.onComplete("POST FORM URL-ENCODED",i)}))},t.prototype.put=function(t,e,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=new an);var i=r.prependBaseUrl?this.formatUrl(t):t,a=this.appendHeaders(n);return this.http.put(i,dt(e),{headers:a}).pipe(y.map(function(t){return t&&t.json&&"function"==typeof t.json?t.json():t}),y.catchError(function(t){return o.onError(t)}),y.finalize(function(){o.onComplete("PUT",i)}))},t.prototype.formatUrl=function(t){return this.baseUrl+"/"+t},t.prototype.getPromise=function(t){return this.get(t).toPromise().then(function(t){return t.json()})},t.prototype.onError=function(t){var e;try{e=t._body?JSON.parse(t._body):{message:"Internal server error",statusCode:t.status}}catch(n){t.status<=0&&(e={message:"Internal server error.",statusCode:500})}return e.message&&(e.message=e.message.replace("An error has occured in the api.System.Exception: ",""),e.message=e.message.substring(0,e.message.indexOf(" at"))),p.throwError(e)},t.prototype.onComplete=function(t,e){this.logEvents&&console.log("Completed "+t+" request to "+e)},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:b.HttpClient},{type:p.Observable},{type:p.Observable}]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(b.HttpClient),i.inject(v.Observable),i.inject(v.Observable))},token:t,providedIn:"root"}),t}(),cn=function(){function e(){this.createdBy=null,this.createdById=0,this.createdDate=new Date,this.formId=0,this.lastModifiedBy=null,this.lastModifiedById=0,this.lastModifiedDate=new Date,this.matches=[],this.ignore=["_metadata","metadata","ignore","createdBy","createdById","createdDate","formId","lastModifiedBy","lastModifiedById","lastModifiedDate","lastModifiedOn","lastUpdated","matches"],this._metadata=new L}return Object.defineProperty(e.prototype,"metadata",{get:function(){return Q(L,this._metadata,{ignore:this.ignore})},set:function(t){this._metadata=t},enumerable:!0,configurable:!0}),e.getGetters=function(){var e=this;return Object.keys(this.prototype).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e.prototype,t).get})},e.getSetters=function(){var e=this;return Object.keys(this.prototype).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e.prototype,t).set})},e.prototype.getGetters=function(){var e=this;return Object.keys(this.constructor.prototype).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e.constructor.prototype,t).get})},e.prototype.getSetters=function(){var e=this;return Object.keys(this.constructor.prototype).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e.constructor.prototype,t).set})},e.prototype.update=function(t){return Object.assign(new e,t)},e}(),pn=function(){return function(t,e){return t}},ln=function(){function t(t){this.http=t}return t.prototype.delete$=function(t){return this.http["delete"](t.path,t.headers,t.options)},t.prototype.get$=function(t){return this.http.get(t.path,t.headers,t.options)},t.prototype.post$=function(t){return this.http.post(t.path,t.model,t.headers,t.options)},t.prototype.postFormUrlEncoded$=function(t){return this.http.postFormUrlEncoded(t.path,t.model,t.headers,t.options)},t.prototype.put$=function(t){return this.http.put(t.path,t.model,t.headers,t.options)},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:sn}]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(sn))},token:t,providedIn:"root"}),P([function(t,e){return t},A("design:type",Function),A("design:paramtypes",[Je]),A("design:returntype",p.Observable)],t.prototype,"delete$",null),P([function(t,e){return t},A("design:type",Function),A("design:paramtypes",[tn]),A("design:returntype",p.Observable)],t.prototype,"get$",null),P([function(t,e){return t},A("design:type",Function),A("design:paramtypes",[nn]),A("design:returntype",p.Observable)],t.prototype,"post$",null),P([function(t,e){return t},A("design:type",Function),A("design:paramtypes",[nn]),A("design:returntype",p.Observable)],t.prototype,"postFormUrlEncoded$",null),P([function(t,e){return t},A("design:type",Function),A("design:paramtypes",[en]),A("design:returntype",p.Observable)],t.prototype,"put$",null),t}(),dn=function(){function t(t,e){var n=this;this.actions$=t,this.commands=e,this.onDelete$=this.actions$.pipe(g.ofType(un.DELETE),y.mergeMap(function(t){return n.delete$(t.payload)})),this.onGet$=this.actions$.pipe(g.ofType(un.GET),y.mergeMap(function(t){return n.get$(t.payload)})),this.onPost$=this.actions$.pipe(g.ofType(un.POST),y.mergeMap(function(t){return n.post$(t.payload)})),this.onPostFormUrlEncoded$=this.actions$.pipe(g.ofType(un.POST_FORM_URL_ENCODED),y.mergeMap(function(t){return n.postFormUrlEncoded$(t.payload)})),this.onPut$=this.actions$.pipe(g.ofType(un.PUT),y.mergeMap(function(t){return n.put$(t.payload)})),this.onSearch$=this.actions$.pipe(g.ofType(un.SEARCH),y.mergeMap(function(t){return n.search$(t.payload)}))}return t.prototype.delete$=function(e){return this.commands.delete$(e).pipe(y.map(function(t){return un.deleteSuccess(e.onSuccessPayload||t,e.onSuccess)}),y.catchError(function(t){return p.of(un.deleteError(t,e.onError))}))},t.prototype.get$=function(e){return this.commands.get$(e).pipe(y.map(function(t){return un.getSuccess(t,e.onSuccess)}),y.catchError(function(t){return p.of(un.getError(t,e.onError))}))},t.prototype.post$=function(e){return this.commands.post$(e).pipe(y.map(function(t){return un.postSuccess(t,e.onSuccess)}),y.catchError(function(t){return p.of(un.postError(t,e.onError))}))},t.prototype.postFormUrlEncoded$=function(e){return this.commands.postFormUrlEncoded$(e).pipe(y.map(function(t){return un.postSuccess(t,e.onSuccess)}),y.catchError(function(t){return p.of(un.postError(t,e.onError))}))},t.prototype.put$=function(e){return this.commands.put$(e).pipe(y.map(function(t){return un.putSuccess(t,e.onSuccess)}),y.catchError(function(t){return p.of(un.putError(t,e.onError))}))},t.prototype.search$=function(e){return this.commands.get$(e).pipe(y.map(function(t){return un.searchSuccess(t,e.onSuccess,e.path)}),y.catchError(function(t){return p.of(un.getError(t,e.onError))}))},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:g.Actions},{type:ln}]},P([g.Effect(),A("design:type",Object)],t.prototype,"onDelete$",void 0),P([g.Effect(),A("design:type",Object)],t.prototype,"onGet$",void 0),P([g.Effect(),A("design:type",Object)],t.prototype,"onPost$",void 0),P([g.Effect(),A("design:type",Object)],t.prototype,"onPostFormUrlEncoded$",void 0),P([g.Effect(),A("design:type",Object)],t.prototype,"onPut$",void 0),P([g.Effect(),A("design:type",Object)],t.prototype,"onSearch$",void 0),t}();new i.InjectionToken("API Base URL"),new i.InjectionToken("API Auth Token");function fn(t,e){return t.pipe(e)}function hn(t,e){return t.pipe(e)}function gn(t,e,n){return new sn(t,e,n)}function yn(t,e){return[dn,ln,{provide:sn,useFactory:gn,deps:[b.HttpClient,"BASE_URL$","AUTH_TOKEN$"]},{provide:"URL_SELECTOR",useValue:t},{provide:"BASE_URL$",useFactory:fn,deps:[m.Store,"URL_SELECTOR"]},{provide:"TOKEN_SELECTOR",useValue:e},{provide:"AUTH_TOKEN$",useFactory:hn,deps:[m.Store,"TOKEN_SELECTOR"]}]}var mn=function(){function n(){}return n.forRoot=function(t,e){return{ngModule:n,providers:yn(t,e)}},n.decorators=[{type:i.NgModule,args:[{imports:[b.HttpClientModule],exports:[b.HttpClientModule]}]}],n}(),bn=function(){function e(){}return e.addKey=function(t){return{type:e.ADD_KEY,payload:t}},e.addValues=function(t){return{type:e.ADD_VALUES,payload:t}},e.removeKey=function(t){return{type:e.REMOVE_KEY,payload:t}},e.ADD_KEYS="[Lookup] Add keys",e.ADD_KEY="[Lookup] Add key",e.ADD_VALUES="[Lookup] Add values",e.REMOVE_KEY="[Lookup] Remove key",e}(),vn=function(){function t(){this.typeName="",this.values=[],this._key=""}return Object.defineProperty(t.prototype,"key",{get:function(){return this._key||this.typeName},set:function(t){this._key=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.key},set:function(t){this.key=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"names",{get:function(){return this.values.map(function(t){return t.name})},enumerable:!0,configurable:!0}),t}(),En=function(){function t(){this.id=0,this.active=!0,this.description="",this.name="",this.sort=0,this.tooltip="",this._label=""}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value||this.id},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label||this.description},set:function(t){this._label=t},enumerable:!0,configurable:!0}),t}(),On=function(){function o(){}return o.AddLookups=function(t,e){return e.reduce(function(t,e){return Q(o,t,((n={})[e.key]=Q(vn,e),n));var n},t)},o.AddLookup=function(t,e){return Q(o,t,((n={})[e.key]=Q(vn,e),n));var n},o.BuildLookupValues=function(r,t){return t.reduce(function(t,e){var n=r.find(function(t){return t.name===e});return n?D(t,[n]):D(t)},[])},o.FindLookupIdByName=function(t,e){return Q(En,t.find(function(t){return t.name===e})).id},o.FindLookupNameById=function(t,e){return Q(En,t.find(function(t){return t.id===e})).name},o.RemoveLookup=function(e,n){var r=new o;return Object.keys(e).filter(function(t){return t!==n}).forEach(function(t){r[t]=Object.assign({},e[t])}),r},o}(),Sn=function(){this.key=""},In=function(){function t(t,e,n){void 0===e&&(e="lookup"),void 0===n&&(n=[]),this.store=t,this._keys=[],this.path="lookup",this.path=e,this.keys=n}return Object.defineProperty(t.prototype,"keys",{get:function(){return this._keys},set:function(t){this._keys=t},enumerable:!0,configurable:!0}),t.prototype.load=function(t,e){e&&this.loadValues(e),this.loadKeys(t)},t.prototype.loadKeys=function(t){this.keys=t,this.store.dispatch(un.get(""+this.path+this.buildQueryString(),bn.ADD_KEYS))},t.prototype.loadValues=function(t){this.store.dispatch(bn.addValues(t))},t.prototype.lookup=function(e){return this.store.select("lookup").pipe(y.map(function(t){return t[e]}))},t.prototype.addKey=function(t,e){this.store.dispatch(bn.addKey(Q(Sn,{key:t,value:e})))},t.prototype.removeKey=function(t){this.store.dispatch(bn.removeKey(t))},t.prototype.buildQueryString=function(){var e=0<this.keys.length?"?keys="+this.keys[0]:"";return this.keys.filter(function(t,e){return 0!==e}).forEach(function(t){e+="&keys="+t}),e},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:m.Store},{type:undefined,decorators:[{type:i.Inject,args:[wn]}]},{type:Array,decorators:[{type:i.Inject,args:[Tn]}]}]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(m.Store),i.inject(wn),i.inject(Tn))},token:t,providedIn:"root"}),t}(),wn=new i.InjectionToken("API lookup endpoint"),Tn=new i.InjectionToken("API lookup keys");function Rn(t,e,n){return void 0===e&&(e="lookup"),void 0===n&&(n=[]),new In(t,e,n)}function Pn(t,e){return void 0===t&&(t=""),void 0===e&&(e=[]),[{provide:In,useFactory:Rn,deps:[m.Store,wn,Tn]},{provide:wn,useValue:t},{provide:Tn,useValue:e}]}var An=function(){function n(){}return n.forRoot=function(){return{ngModule:n,providers:Pn("lookup",[])}},n.forRootWithPath=function(t){return void 0===t&&(t=""),{ngModule:n,providers:Pn(t,[])}},n.forRootWithKeys=function(t){return{ngModule:n,providers:Pn("lookup",t)}},n.forRootWithPathAndKeys=function(t,e){return void 0===t&&(t=""),{ngModule:n,providers:Pn(t,e)}},n.decorators=[{type:i.NgModule,args:[{imports:[],declarations:[]}]}],n}(),Cn=function(){function t(){}return t.noAction=function(){return{type:t.NO_ACTION}},t.INIT_STORE="[Storage] Init Store",t.NO_ACTION="[App] No Action",t}(),Dn=function(){function e(){}return e.initialize=function(t){return{type:e.INITIALIZE,payload:t}},e.INITIALIZE="[Config] Initialize Configuration",e}(),xn=function(){function t(){}return t.close=function(){return{type:t.CLOSE}},t.open=function(){return{type:t.OPEN}},t.toggle=function(){return{type:t.TOGGLE}},t.CLOSE="[Sidenav] Close",t.OPEN="[Sidenav] Open",t.TOGGLE="[Sidenav] Toggle",t}(),jn=function(){function e(){}return e.resize=function(t){return{type:e.RESIZE,payload:t}},e.RESIZE="[Window] Resize",e}();function _n(t){return t.select(function(t){return t.lookup})}function Nn(t,e){return _n(t).pipe(y.map(function(t){return t[e]||new vn}))}function kn(t,e){return Nn(t,e).pipe(y.map(function(t){return t.values}))}var Mn=function(){function n(){}return n.activate=function(t,e){return{type:n.ACTIVATE,payload:{routeName:t,parent:e}}},n.navigate=function(t){return{type:n.NAVIGATE,payload:t}},n.navigateSuccess=function(){return{type:n.NAVIGATE_SUCCESS}},n.navigateError=function(){return{type:n.NAVIGATE_ERROR}},n.navCancel=function(t){return{type:n.NAVIGATION_CANCEL,payload:t}},n.navEnd=function(t){return{type:n.NAVIGATION_END,payload:t}},n.navError=function(t){return{type:n.NAVIGATION_ERROR,payload:t}},n.navStart=function(t){return{type:n.NAVIGATION_START,payload:t}},n.routesRecognized=function(t){return{type:n.ROUTES_RECOGNIZED,payload:t}},n.ACTIVATE="[Router] Activate Route",n.NAVIGATE="[Router] Navigate",n.NAVIGATE_SUCCESS="[Router] Navigate Success",n.NAVIGATE_ERROR="[Router] Navigate Error",n.NAVIGATION_CANCEL="[Router] Cancel Navigation",n.NAVIGATION_END="[Router] End Navigation",n.NAVIGATION_ERROR="[Router] Error Navigation",n.NAVIGATION_START="[Router] Start Navigation",n.ROUTES_RECOGNIZED="[Router] Routes Recognized",n}(),Un=function(){function t(t,e,n){var r=this;this._router=t,this._route=e,this.store=n,this.navigationCancel=new i.EventEmitter,this.navigationEnd=new i.EventEmitter,this.navigationError=new i.EventEmitter,this.navigationStart=new i.EventEmitter,this.routesRecognized=new i.EventEmitter,t.events.subscribe(function(t){t instanceof a.NavigationCancel?r.onNavigationCancel(t):t instanceof a.NavigationEnd?r.onNavigationEnd(t):t instanceof a.NavigationError?r.onNavigationError(t):t instanceof a.NavigationStart?r.onNavigationStart(t):t instanceof a.RoutesRecognized&&r.onRoutesRecognized(t)})}return t.prototype.onNavigationCancel=function(t){this.store.dispatch(Mn.navCancel(t))},t.prototype.onNavigationEnd=function(t){this.store.dispatch(Mn.navEnd(t))},t.prototype.onNavigationError=function(t){this.store.dispatch(Mn.navError(t))},t.prototype.onNavigationStart=function(t){this.store.dispatch(Mn.navStart(t))},t.prototype.onRoutesRecognized=function(t){this.store.dispatch(Mn.routesRecognized(t))},Object.defineProperty(t.prototype,"activatedRoute",{get:function(){return this._route},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"routeData$",{get:function(){return this.activatedRoute.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"routeParams$",{get:function(){return this.activatedRoute.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"router",{get:function(){return this._router},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url$",{get:function(){return this.store.select(function(t){return t.router.url})},enumerable:!0,configurable:!0}),t.prototype.navigate=function(t,e){var n=this.router.navigate(t,e);return p.from(n)},t.prototype.navigateByUrl=function(t,e){var n=this.router.navigateByUrl(t,e);return p.from(n)},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:a.Router},{type:a.ActivatedRoute},{type:m.Store}]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(a.Router),i.inject(a.ActivatedRoute),i.inject(m.Store))},token:t,providedIn:"root"}),t}(),Ln=function(){function t(t,e){var n=this;this.actions$=t,this.router=e,this.navigate=this.actions$.pipe(g.ofType(Mn.NAVIGATE),y.switchMap(function(t){return n.navigate$(t.payload)}))}return t.prototype.navigate$=function(t){return("string"==typeof t?this.router.navigateByUrl(t):this.router.navigate(t)).pipe(y.map(function(){return Mn.navigateSuccess()}),y.catchError(function(t){return p.of(Mn.navigateError())}))},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:g.Actions},{type:Un}]},P([g.Effect(),A("design:type",p.Observable)],t.prototype,"navigate",void 0),t}(),Fn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Un,Ln]}},t.decorators=[{type:i.NgModule,args:[{imports:[a.RouterModule],exports:[a.RouterModule]}]}],t}(),Hn=function(){this.routeName=""},Vn=function(t){this.segments=t},Gn=function(){function t(t){this.children=[],this.lazyChildren=[],this._path="",W(this,t)}return Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"route",{get:function(){return{component:this.component,children:D(this.children,this.lazyChildren)}},enumerable:!0,configurable:!0}),t}(),Bn=function(n){function t(t){var e=n.call(this,t)||this;return e.path="",e}return R(t,n),t}(Gn),Yn={Default:0,NavigationStart:1,NavigationCancel:2,NavigationError:3,RoutesRecognized:4,NavigationEnd:5};Yn[Yn.Default]="Default",Yn[Yn.NavigationStart]="NavigationStart",Yn[Yn.NavigationCancel]="NavigationCancel",Yn[Yn.NavigationError]="NavigationError",Yn[Yn.RoutesRecognized]="RoutesRecognized",Yn[Yn.NavigationEnd]="NavigationEnd";var $n=function(){function t(){this.fragment="",this.order=0,this.outlet="",this.routeLabel="",this.routeName=""}return Object.defineProperty(t.prototype,"routerLink",{get:function(){return this.pathFromRoot.map(function(t){return t.url}).reduce(function(t,e){var n=zn.BuildUrlSegment(e);return n&&"/"!==n?""+t+n:t},"")},enumerable:!0,configurable:!0}),t}(),zn=function(){function c(){this.id=0,this.error=undefined,this.events=[],this.history=[],this.navigationStatus=Yn.Default,this.reason="",this.state=undefined,this.url="",this.urlAfterRedirects=""}return c.BuildRoute=function(t){return new Gn(t)},c.BuildLazyRoute=function(t){return new Bn(t)},c.BuildUrlSegment=function(t){return t.reduce(function(t,e){return e.path&&"/"!==e.path?t+"/"+e.path:t},"")},c.GetActivatedOutlets=function(t,s){return void 0===s&&(s=0),t?t.children.reduce(function(t,e,n){var r,o=s+n,i=c.GetRouteName(e),a=Q($n,t[i]),u=c.GetRouteSegment(e,a,o);return i?Object.assign(t,c.GetActivatedOutlets(e,o+1),((r={})[i]=u,r)):Object.assign(t,c.GetActivatedOutlets(e,o+1))},{}):{}},c.GetActivatedRoute=function(t){return t.children.reduce(function(t,e){return c.GetActivatedRoute(e)},t)},c.GetAllParams=function(t){return t?t.children.reduce(function(t,e){return Object.assign({},t,c.GetAllParams(e))},Object.assign({},t.params,t.queryParams)):{}},c.GetRouteData=function(t){return t.data},c.GetRouteSegment=function(t,e,n){void 0===e&&(e=new $n),void 0===n&&(n=0);var r=c.GetRouteName(t);return Q($n,e,{data:t.data,fragment:t.fragment,order:n,outlet:t.outlet,pathFromRoot:t.pathFromRoot,params:t.params,routeName:r,routeLabel:c.GetRouteData(t).routeLabel||e.routeLabel})},c.GetRouteName=function(t){return t?c.GetRouteData(t).routeName:""},Object.defineProperty(c.prototype,"activatedOutlets",{get:function(){return c.GetActivatedOutlets(this.rootRoute)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"lastEvent",{get:function(){return this.events[-1]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"params",{get:function(){return c.GetAllParams(this.rootRoute)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"routeName",{get:function(){return c.GetRouteName(this.activatedRoute)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"visited",{get:function(){return this.history.map(function(t){return t.link})},enumerable:!0,configurable:!0}),c.prototype.addRouterEvent=function(t,e){var n={eventType:e,event:t};return D(this.events,[n])},c.prototype.navigationCancel=function(t){return Q(c,this,{navigationStatus:Yn.NavigationCancel,events:this.addRouterEvent(t,Yn.NavigationCancel),id:t.id,url:t.url,reason:t.reason})},c.prototype.navigationEnd=function(t){return Q(c,this,{history:D([t.toString()],this.history),navigationStatus:Yn.NavigationEnd,events:this.addRouterEvent(t,Yn.NavigationEnd),id:t.id,url:t.url,urlAfterRedirects:t.urlAfterRedirects})},c.prototype.navigationError=function(t){return Q(c,this,{navigationStatus:Yn.NavigationError,events:this.addRouterEvent(t,Yn.NavigationError),id:t.id,url:t.url,error:t.error})},c.prototype.navigationStart=function(t){return Q(c,this,{navigationStatus:Yn.NavigationStart,events:this.addRouterEvent(t,Yn.NavigationStart),id:t.id,url:t.url})},c.prototype.routesRecognized=function(t){var e=t.state.root;return Q(c,this,{activatedRoute:c.GetActivatedRoute(e),rootRoute:e,navigationStatus:Yn.RoutesRecognized,events:this.addRouterEvent(t,Yn.RoutesRecognized),id:t.id,state:t.state,url:t.url,urlAfterRedirects:t.urlAfterRedirects})},c}(),Wn=function(){this.label="",this.link="",this.name="",this.visitTime=new Date};function Qn(t){return t.select("route")}function Kn(t){return Qn(t).pipe(y.map(function(t){return t.params}),y.distinctUntilChanged())}function qn(t,e){return Kn(t).pipe(y.map(function(t){return t[e]}),y.distinctUntilChanged())}function Zn(t,e,n){return void 0===n&&(n=null),p.combineLatest(p.of(n),qn(t,e),function(t,e){return e||t})}function Xn(t,e){return Zn(t,e,0).pipe(y.map(function(t){return bt(t)}))}var Jn=function(){function t(){this.access_token="",this.expiresIn=0}return Object.defineProperty(t.prototype,"authenticated",{get:function(){return!this.expired},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expires_in",{get:function(){return this.expiresIn},set:function(t){this.expiresIn=t,this.expiresInDate=new Date},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expirationDate",{get:function(){var t=new Date(this.expiresInDate);return t.setSeconds(t.getSeconds()+this.expiresIn),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expired",{get:function(){var t=new Date;return!(this.access_token&&this.expiresIn&&this.expiresInDate)||t>this.expirationDate},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.expired?"":this.access_token},t}(),tr=function(){function t(){this.windowHeight=0,this.windowWidth=0}return Object.defineProperty(t.prototype,"windowWidthSmall",{get:function(){return this.windowWidth<1200},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowWidthMedium",{get:function(){return!this.windowWidthSmall&&this.windowWidth<1300},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowWidthLarge",{get:function(){return 1300<=this.windowWidth},enumerable:!0,configurable:!0}),t}(),er=function(){this.windowHeight=0,this.windowWidth=0};function nr(t){return t.select("currentUser")}function rr(t){return nr(t).pipe(y.map(function(t){return t.authenticated}),y.distinctUntilChanged())}function or(t){return t.select("config")}function ir(t){return t.select("window").pipe(y.map(function(t){return Q(tr,t)}))}function ar(t){return ir(t).pipe(y.map(function(t){return t.windowHeight}),y.distinctUntilChanged())}function ur(t){return ir(t).pipe(y.map(function(t){return t.windowWidth}),y.distinctUntilChanged())}var sr=function(){function t(t){this.store=t,this.authenticated$=rr(this.store)}return t.prototype.canActivate=function(t,e){return this.authenticated$},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:m.Store}]},t}(),cr=function(){function t(){this.requestState="DEFAULT",this.subscriptions=[]}return Object.defineProperty(t.prototype,"inErrorState",{get:function(){return"ERROR"===this.requestState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inSuccessState",{get:function(){return"SUCCESS"===this.requestState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.inErrorState?"An error has occurred. Please try again later.":this.inSuccessState?"Saved successfully!":""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMessage",{get:function(){return this.inErrorState||this.inSuccessState},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.removeSubscriptions()},t.prototype.addSubscription=function(t){this.subscriptions.push(t)},t.prototype.closeDialog=function(t){this.dialogRef.unsubscribe()},t.prototype.openDialog=function(t,e){var n=this;void 0===e&&(e={});var r=this.dialog.open(t,e);this.dialogRef=r.afterClosed().subscribe(function(t){n.closeDialog(t)})},t.prototype.removeSubscriptions=function(){this.subscriptions.forEach(function(t){t.unsubscribe()})},t.prototype.subscribe=function(t){var e=this;t.forEach(function(t){e.addSubscription(t)})},t.prototype.flashErrorMessage=function(t){var e=this;void 0===t&&(t=5e3),this.toErrorState(),setTimeout(function(){e.resetRequestState()},t)},t.prototype.flashSuccessMessage=function(t){var e=this;void 0===t&&(t=5e3),this.toSucessState(),setTimeout(function(){e.resetRequestState()},t)},t.prototype.onError=function(t){this.flashErrorMessage()},t.prototype.onSuccess=function(t){this.flashSuccessMessage()},t.prototype.resetRequestState=function(){this.requestState="DEFAULT"},t.prototype.setValue=function(t){this.form&&this.form.setValue&&this.form.setValue(rt(t))},t.prototype.toErrorState=function(){this.requestState="ERROR"},t.prototype.toSucessState=function(){this.requestState="SUCCESS"},t}(),pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),Object.defineProperty(e.prototype,"editing",{get:function(){return Ot(this.id)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.model.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.form.valid},enumerable:!0,configurable:!0}),e.prototype.markAsSubmitted=function(){var e=this;this.form.markAsTouched(),Object.keys(this.form.controls).forEach(function(t){e.form.controls[t].markAsTouched()})},e}(cr),lr=function(n){function t(t){var e=n.call(this)||this;return e.store=t,e}return R(t,n),t.prototype.dispatch=function(t){this.store.dispatch(t)},t.prototype.dispatchAndSubscribe=function(t,e,n){var r=this,o=e||function(t){r.flashSuccessMessage()},i=n||function(t){r.flashErrorMessage()};this.events&&this.events.dispatch?this.addSubscription(this.events.dispatch(t).subscribe(o,i)):this.store.dispatch(t)},t}(cr),dr=function(){this.dev=!1,this.test=!1,this.staging=!1,this.production=!1,this.apiBaseUrl=""},fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewMode="Default",t}return R(t,e),t}(dr),hr=function(){this.question="",this.title=""},gr=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return R(n,t),n.AnswerQuestions=function(t,e){return t.map(function(t){return n.AnswerQuestion(t,e[t.key])})},n.AnswerQuestion=function(t,e){var n=e;switch(t.type){case"date":n=e;break;case"monthyear":n=At.ToMonthYearName(e);break;case"yesno":n=e?"Yes":"No"}return Q(hr,t,{answer:n})},n.prototype.answerQuestions=function(t){return n.AnswerQuestions(this.toArray(),t)},n}(Kt),yr=function(){function t(){this.ignore=["isAdd","questions"]}return Object.defineProperty(t.prototype,"answers",{get:function(){return gr.AnswerQuestions(this.questions,this)},enumerable:!0,configurable:!0}),t}(),mr=function(){function t(t,e){this.item=t,this.parent=e,this.id=0,this.order=0,this.parentId=0,this.treeId=0,this.index=0}return t.Build=function(t){return{item:t,id:t.id,order:t.order,parentId:t.parentId}},Object.defineProperty(t.prototype,"hasParent",{get:function(){return!!this.parentId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this.parentId?this.treeId+.1*this.order:this.treeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeOrder",{get:function(){return this.parentId?this.order:0},enumerable:!0,configurable:!0}),t}(),br=function(){function r(t,e){this._treeItems=t,this.ctor=e,this._activeId=0,this._activeIndex=-1}return r.FindParent=function(t,e){return t.find(function(t){return t.id===e.parentId})||new mr({})},r.FindParentOrder=function(t,e){return r.FindParent(t,e).order},r.Build=function(n,t){n.reduce(function(t,e){return e.treeId=e.parentId?r.FindParentOrder(n,e):e.order,D(t,[Object.assign(new mr({}),e)])},[]);return new r(n.sort(function(t,e){return K(t.sortOrder,e.sortOrder)}).reduce(function(t,e,n){var r=e.item,o=e.parent;return D(t,[Object.assign(new mr(r,o),e,{index:n+1})])},[]),t)},Object.defineProperty(r.prototype,"activeId",{get:function(){return this._activeId},set:function(t){this._activeId=t,this._activeIndex=this.getIndexById(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){this._activeIndex=t,this._activeId=this.getIdByIndex(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"copy",{get:function(){return Object.assign(new r(this._treeItems,this.ctor),this)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"instance",{get:function(){return new this.ctor||{}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"next",{get:function(){return this.getNext(this.activeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextId",{get:function(){return this.next.id},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextIndex",{get:function(){return this.activeIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"previous",{get:function(){return this.getPrevious(this.activeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"previousId",{get:function(){return this.previous.id},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"previousIndex",{get:function(){return this.activeIndex-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"items",{get:function(){return this._treeItems.map(function(t){return t.item})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"treeItems",{get:function(){return this._treeItems},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orderedItems",{get:function(){return this.treeItems.sort(function(t,e){return K(t.index,e.index)})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"subtrees",{get:function(){var e=this,n=this.treeItems.reduce(function(t,e){var n=e.treeId,r=t[n]||[];return t[n]=D(r,[e]),t},{});return Object.keys(n).map(function(t){return r.Build(n[t],e.ctor)})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"subtreeItems",{get:function(){return this.subtrees.map(function(t){return t.treeItems.sort(function(t,e){return K(t.index,e.index)})})},enumerable:!0,configurable:!0}),r.prototype.getIdByIndex=function(t){return this.getItemByIndex(t).id},r.prototype.getIndexById=function(t){return this.getItemById(t).index},r.prototype.getItemById=function(e){return this.treeItems.find(function(t){return t.id===e})||new mr(this.instance)},r.prototype.getItemByIndex=function(e){return this.treeItems.find(function(t){return t.index===e})||new mr(this.instance)},r.prototype.getNext=function(t){return this.getItemByIndex(t+1)},r.prototype.getNextId=function(t){return this.getNext(t).id},r.prototype.getPrevious=function(t){return this.getItemByIndex(t-1)},r.prototype.getPreviousId=function(t){return this.getPrevious(t).id},r}(),vr=function(){this.email="",this.firstName="",this.lastName="",this.fullName="",this.password="",this.confirmPassword="",this.userName=""},Er=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.token=new Jn,t}return R(n,e),n.Build=function(t){return Q(n,t,{token:t&&t.token?Q(Jn,t.token):new Jn})},Object.defineProperty(n.prototype,"authenticated",{get:function(){return this.token&&this.token.authenticated},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userRoles",{get:function(){return new Or(this)},enumerable:!0,configurable:!0}),n}(vr),Or=function(t){void 0===t&&(t=new Er),this.user=t},Sr=function(){this.grant_type="password",this.userName="",this.password=""},Ir=function(){this.passwordResetCode="",this.password="",this.confirmPassword=""},wr=function(){function n(){}return n.initStore=function(t,e){return{type:n.INIT_STORE,payload:{localStore:t,sessionStore:e}}},n.UPDATE_LOCAL_STORAGE="[Storage] Update Local Storage",n.UPDATE_SESSION_STORAGE="[Storage] Update Session Storage",n.INIT_STORE="[Storage] Init Store",n}(),Tr=function(t){this.lastAction=t},Rr=function(){this.localStore={},this.sessionStore={}},Pr=function(){function t(t,e){this.store=t,this.storeKey=e,this.localStorageActions=[],this.sessionStorageActions=[],this.localStorageMapper=function(t){return t},this.sessionStorageMapper=function(t){return t}}return Object.defineProperty(t.prototype,"localStore",{get:function(){return localStorage.getItem(this.storeKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sessionStore",{get:function(){return sessionStorage.getItem(this.storeKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){var t=this.localStore,e=this.sessionStore;return Q(Storage,Object.assign({},t,e),{localStore:t,sessionStore:e})},enumerable:!0,configurable:!0}),t.prototype.init=function(t,e,n,r){void 0===t&&(t=function(t){return t}),void 0===e&&(e=function(t){return t}),void 0===n&&(n=[]),void 0===r&&(r=[]);var o=this.initLocalStore(t,n),i=this.initSessionStore(e,r);this.store.dispatch(wr.initStore(o,i))},t.prototype.initLocalStore=function(t,e){void 0===t&&(t=function(t){return t}),void 0===e&&(e=[]),this.localStorageMapper=t,this.localStorageActions=e;var n=this.localStore;return n?JSON.parse(n):{}},t.prototype.initSessionStore=function(t,e){void 0===t&&(t=function(t){return t}),void 0===e&&(e=[]),this.sessionStorageMapper=t,this.sessionStorageActions=e;var n=this.sessionStore;n&&JSON.parse(n);return sessionStorage},t.prototype.inLocalStorage=function(t){return at(this.localStorageActions,t)},t.prototype.inSessionStorage=function(t){return at(this.sessionStorageActions,t)},t.prototype.storeLocal=function(t,e){try{var n=Object.assign(X(new Tr(e)),X(Object.assign({},this.localStorageMapper(t)))),r=JSON.stringify(n);localStorage.removeItem(this.storeKey),localStorage.setItem(this.storeKey,r)}catch(o){console.error("ERROR SAVING LOCAL STATE!\nAction:\t"+e.actionType+"\n",o)}},t.prototype.storeSession=function(t,e){try{var n=Object.assign(X(new Tr(e)),X(Object.assign({},this.sessionStorageMapper(t)))),r=JSON.stringify(n);localStorage.removeItem(this.storeKey),sessionStorage.setItem(this.storeKey,r)}catch(o){console.error("ERROR SAVING SESSION STATE!\nAction:\t"+e.actionType+"\n",o)}},t.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:m.Store},{type:String,decorators:[{type:i.Inject,args:[Cr]}]}]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(m.Store),i.inject(Cr))},token:t,providedIn:"root"}),t}(),Ar=function(){function t(t,e,n){var r=this;this.actions$=t,this.service=e,this.state$=n,this.onSyncLocalStorage=this.actions$.pipe(y.filter(function(t){return r.service.inLocalStorage(t.type)}),y.map(function(t){return{type:wr.UPDATE_LOCAL_STORAGE,payload:t}})),this.onSyncSessionStorage=this.actions$.pipe(y.filter(function(t){return r.service.inSessionStorage(t.type)}),y.map(function(t){return{type:wr.UPDATE_SESSION_STORAGE,payload:t}})),this.onStoreLocal=this.actions$.pipe(g.ofType(wr.UPDATE_LOCAL_STORAGE),y.map(vt),y.withLatestFrom(this.state$,function(t,e){r.service.storeLocal(e,t)})),this.onStoreSession=this.actions$.pipe(g.ofType(wr.UPDATE_SESSION_STORAGE),y.map(vt),y.withLatestFrom(this.state$,function(t,e){r.service.storeSession(e,t)}))}return t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:g.Actions},{type:Pr},{type:m.Store}]},P([g.Effect(),A("design:type",p.Observable)],t.prototype,"onSyncLocalStorage",void 0),P([g.Effect(),A("design:type",p.Observable)],t.prototype,"onSyncSessionStorage",void 0),P([g.Effect({dispatch:!1}),A("design:type",p.Observable)],t.prototype,"onStoreLocal",void 0),P([g.Effect({dispatch:!1}),A("design:type",p.Observable)],t.prototype,"onStoreSession",void 0),t}(),Cr=new i.InjectionToken("Local/Session Storage Key");function Dr(t,e){return new Pr(t,e)}function xr(t){return[Ar,{provide:Pr,useFactory:Dr,deps:[m.Store,Cr]},{provide:Cr,useValue:t}]}var jr=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:xr(t)}},e.decorators=[{type:i.NgModule}],e}(),_r=function(){function t(){}return t.forRoot=function(t,e){return m.StoreModule.forRoot(t,e)},t.forFeatures=function(t,e,n){return m.StoreModule.forFeature(t,e,n)},t.forFeature=function(t,e,n){return m.StoreModule.forFeature(t,e,n)},t.decorators=[{type:i.NgModule,args:[{imports:[m.StoreModule],declarations:[],exports:[m.StoreModule]}]}],t}(),Nr={DEFAULT:0,GET:1,GET_SUCCESS:2,GET_ERROR:3,POST:4,POST_SUCCESS:5,POST_ERROR:6,PUT:7,PUT_SUCCESS:8,PUT_ERROR:9,DELETE:10,DELETE_SUCCESS:11,DELETE_ERROR:12,SAVE:13};Nr[Nr.DEFAULT]="DEFAULT",Nr[Nr.GET]="GET",Nr[Nr.GET_SUCCESS]="GET_SUCCESS",Nr[Nr.GET_ERROR]="GET_ERROR",Nr[Nr.POST]="POST",Nr[Nr.POST_SUCCESS]="POST_SUCCESS",Nr[Nr.POST_ERROR]="POST_ERROR",Nr[Nr.PUT]="PUT",Nr[Nr.PUT_SUCCESS]="PUT_SUCCESS",Nr[Nr.PUT_ERROR]="PUT_ERROR",Nr[Nr.DELETE]="DELETE",Nr[Nr.DELETE_SUCCESS]="DELETE_SUCCESS",Nr[Nr.DELETE_ERROR]="DELETE_ERROR",Nr[Nr.SAVE]="SAVE",t.LibraryService=E,t.LibraryComponent=O,t.LibraryModule=le,t.AnimationsModule=de,t.AccordionModule=w,t.AccordionComponent=S,t.CollageModule=Rt,t.CollageComponent=It,t.Collage=St,t.DatepickerModule=_t,t.DATEPICKER_ACCESSOR=Ct,t.DatepickerComponent=Dt,t.DATERANGE_ACCESSOR=xt,t.DaterangeComponent=jt,t.DialogModule=Ut,t.DialogComponent=Mt,t.DialogModel=Nt,t.DialogAction=kt,t.EditorModule=ye,t.EDITOR_ACCESSOR=he,t.EditorComponent=ge,t.EditorWindowComponent=fe,t.FileUploadModule=Qt,t.FILE_UPLOAD_ACCESSOR=Bt,t.FileUploadComponent=Yt,t.FileUpload=Lt,t.getReadyState=function(t){switch(t.readyState){case 0:return"EMPTY";case 1:return"LOADING";case 2:return"DONE";default:return"EMPTY"}},t.File=Ft,t.FilePreviewComponent=$t,t.UploadComponent=zt,t.UploadsComponent=Wt,t.GridModule=ne,t.Grid=qt,t.GridColumn=te,t.NotFoundModule=oe,t.NotFoundComponent=re,t.TileModule=Tt,t.TileComponent=wt,t.Tile=$,t.WallpaperModule=ae,t.WallpaperComponent=ie,t.EffectsModule=me,t.ErrorsModule=Se,t.ErrorActions=be,t.ErrorEffects=Ee,t.Error=Ie,t.errorsReducer=function(t,e){switch(void 0===t&&(t={}),e.type){case be.ADD:var n=Kt.AddItem(t,"lastError",e.payload.error);return"lastError"===e.payload.key?n:Kt.AddItem(t,e.payload.key,e.payload.error);case be.REMOVE:return Kt.RemoveItem(t,e.payload);default:return t}},t.errorsSelector=we,t.errorSelector=function(t,e){return we(t).pipe(y.map(function(t){return t[e]}))},t.ErrorsService=ve,t.GlobalErrorsService=Oe,t.EventsModule=Ne,t.EventActions=Ae,t.EventEffects=Ce,t.Event=Te,t.Events=Re,t.UpdateValuePayload=Pe,t.eventsReducer=function(t,e){switch(void 0===t&&(t=new Re),e.type){case Ae.ADD_EVENT:return t.addEvent(e.payload);case Ae.REMOVE_EVENT:return t.removeEvent(e.payload);case Ae.TRIGGER_EVENT:return t.triggerEvent(e.payload);case Ae.UPDATE_VALUE:return t.updateValue(e.payload);default:return t}},t.eventsSelector=De,t.eventSelector=xe,t.eventValueSelector=je,t.EventsService=_e,t.FormsModule=ke,t.FormActions=Me,t.Control=function(r){return function(t,e){var n=Ve(new r);return t[e]=n,t}},t.ArrayControl=function(r,o,i){return function(t,e){var n=Fe(r,o,i);return t[e]=n,t}},t.FormArray=Ue,t.buildAbstractControl=Le,t.buildArrayFromType=Fe,t.buildControl=He,t.buildControlFromModel=Ve,t.buildControlsConfig=Ge,t.buildFormArray=Be,t.buildFormArrayControls=Ye,t.findFormArrayType=$e,t.hasGroupValidators=ze,t.hasValidators=We,t.isArrayValue=Qe,t.isFormArray=Ke,t.isFormControl=qe,t.isFormGroup=Ze,t.isGroupValue=Xe,t.baseUrlFactory=fn,t.authTokenFactory=hn,t.httpServiceFactory=gn,t.provideHttpContext=yn,t.HttpModule=mn,t.HttpActions=un,t.HttpCommands=ln,t.HttpEffects=dn,t.HttpDeletePayload=Je,t.HttpGetPayload=tn,t.HttpPutPayload=en,t.HttpPostPayload=nn,t.HTTP_REQUEST_STATUS=rn,t.HTTP_STATUS_CODES=on,t.HttpOptions=an,t.HttpService=sn,t.LOOKUP_PATH=wn,t.LOOKUP_KEYS=Tn,t.lookupServiceFactory=Rn,t.provideLookup=Pn,t.LookupModule=An,t.LookupActions=bn,t.Lookup=vn,t.LookupValue=En,t.Lookups=On,t.AddLookupPayload=Sn,t.lookupReducer=function(t,e){switch(void 0===t&&(t=new On),e.type){case bn.ADD_KEYS:return On.AddLookups(t,mt(e.payload).map(function(t){return Q(vn,t)}));case bn.ADD_KEY:return On.AddLookup(t,e.payload);case bn.ADD_VALUES:return On.AddLookups(t,e.payload);case bn.REMOVE_KEY:return On.RemoveLookup(t,e.payload);case Cn.INIT_STORE:return Q(On,e.payload.lookup);default:return t}},t.lookupSelector=_n,t.lookupKeySelector=Nn,t.lookupValuesSelector=kn,t.lookupValueSelector=function(t,e,n){return kn(t,e).pipe(y.map(function(t){return t.find(n)||new En}))},t.LookupService=In,t.ListPipe=ue,t.PhoneNumberPipe=se,t.TimeAgoPipe=ce,t.YesNoPipe=pe,t.RouterModule=Fn,t.RouterActions=Mn,t.RouterEffects=Ln,t.ActivatedRoutePayload=Hn,t.Breadcrumbs=Vn,t.CustomRoute=Gn,t.LazyRoute=Bn,t.NavigationStatus=Yn,t.RouteSegment=$n,t.RouterState=zn,t.VisitedRoute=Wn,t.routerReducer=function(t,e){switch(void 0===t&&(t=new zn),e.type){case Mn.ACTIVATE:return t;case Mn.NAVIGATION_CANCEL:return t.navigationCancel(e.payload);case Mn.NAVIGATION_END:return t.navigationEnd(e.payload);case Mn.NAVIGATION_ERROR:return t.navigationError(e.payload);case Mn.NAVIGATION_START:return t.navigationStart(e.payload);case Mn.ROUTES_RECOGNIZED:return t.routesRecognized(e.payload);default:return t}},t.routeSelector=Qn,t.breadcrumbsSelector=function(t){return Qn(t).pipe(y.map(function(t){var e=t.activatedOutlets;return new Vn(Object.keys(e).map(function(t){return e[t]}))}))},t.routeNameSelector=function(t){return Qn(t).pipe(y.map(function(t){return t.routeName}),y.distinctUntilChanged())},t.routeParamsSelector=Kn,t.lazyRouteParamsSelector=qn,t.routeParamSelector=Zn,t.routeParamArraySelector=function(t,e){return Zn(t,e,[]).pipe(y.map(function(t){return mt(t)}))},t.routeParamIdSelector=function(t,e){return Xn(t,e)},t.routeParamIntSelector=Xn,t.urlSelector=function(t){return Qn(t).pipe(y.map(function(t){return t.url}),y.distinctUntilChanged())},t.querySelector=function(t){var e=Xn(t,"skip"),n=Xn(t,"take"),r=Zn(t,"term");return p.combineLatest(e,n,r,function(t,e,n){return Object.assign(new G,{skip:t,take:e,term:n})})},t.RouterService=Un,t.AuthenticatedGuard=sr,t.SharedModule=I,t.BaseEntity=cn,t.Collection=Kt,t.DumbComponent=cr,t.FormComponent=pr,t.SmartComponent=lr,t.Config=dr,t.ViewConfig=fr,t.DateRange=Pt,t.DateHelper=At,t.ActionCreator=function(r){return function(t,e){var n=t[e];return t[e]=function(){var t=n.apply(this,arguments);return t.actionType=r,t},t}},t.ActionType=function(){return function(t,e){return t}},t.Class=function(t){return function(t){return t}},t.Command=pn,t.Dispatcher=function(){return function(t,e){return t}},t.Entity=function(n){return function(t){var e=function(){Object.assign(this,new cn,{metadata:n||{}})};return(e.prototype=Object.create(t.prototype)).constructor=t,e}},t.EventHandler=function(){return function(t,e){return t}},t.LifecycleHook=function(){return function(t,e){return t}},t.Method=function(t){return function(t,e,n){return t}},t.Parameter=function(t){return function(t,e,n){return t}},t.Property=function(n){return function(t,e){return t.metadata||(t.metadata={}),t.metadata[e]=Object.assign(n,{propertyName:e}),t}},t.StaticMethod=function(t){return function(t,e){return t}},t.StaticProperty=function(t){return function(t,e){return t}},t.Address=x,t.Alert=j,t.Coordinates=_,t.Dimensions=N,t.Email=k,t.EMAIL_REGEX=/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,t.Filters=M,t.Image=U,t.Metadata=L,t.MetadataType=F,t.PropertyMetadata=H,t.QueryItem=V,t.QueryModel=G,t.Search=B,t.StyleModel=Y,t.Permutation=Ht,t.OrderedItem=Vt,t.Ordering=Gt,t.Question=hr,t.Questions=gr,t.QuestionsModel=yr,t.Token=Jn,t.TreeItem=mr,t.Tree=br,t.User=vr,t.CurrentUser=Er,t.UserRoles=Or,t.Login=Sr,t.ResetPassword=Ir,t.applyDecorators=function(n,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){n[t]=e.prototype[t]})})},t.applyMixins=function(n,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){n.prototype[t]=e.prototype[t]})})},t.arrayUnion=z,t.assignProps=W,t.build=Q,t.compareDates=function(t,e){return new Date(e).getTime()-new Date(t).getTime()},t.compareNumbers=K,t.compareStrings=function(t,e){var n=t.toLowerCase(),r=e.toLowerCase();return n<r?-1:r<n?1:0},t.distinct=function(t,n){return void 0===n&&(n=""),n?t.reduce(function(t,e){return-1===t.findIndex(function(t){return t[n]===e[n]})?D(t,[e]):t},[]):t.reduce(function(t,e){return-1===t.indexOf(e)?D(t,[e]):t},[])},t.equals=q,t.extendObject=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(null==t)throw TypeError("Cannot convert undefined or null to object");try{for(var i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(r),a=i.next();!a.done;a=i.next()){var u=a.value;if(null!=u)for(var s in u)u.hasOwnProperty(s)&&(t[s]=u[s])}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}return t},t.falsy=Z,t.filterState=X,t.findMetadata=function(t){var e=new t;return e&&e.metadata?e.metadata:new L},t.findSchoolYear=function(){var t=new Date,e=t.getFullYear();return 7<=t.getMonth()?e+"-"+(e+1):e-1+"-"+e},t.flattenKeys=function o(i,a){return Object.keys(i).reduce(function(t,e){var n=D(a,[e]),r=i[e];return!Array.isArray(r)&&0<Object.keys(r).length?D(t,o(r,n)):D(t,n)},[])},t.formatPhoneNumber=function(t){if(void 0===t&&(t=""),!t)return"000-000-0000";var e=t.length;return!t||7!==e&&10!==e?"000-000-0000":7===e?J(t):tt(t)},t.format7DigitPhoneNumber=J,t.format10DigitPhoneNumber=tt,t.formatPrice=function(t){return"$"+t.toFixed(2).replace(/./g,function(t,e,n){return e&&"."!==t&&(n.length-e)%3==0?","+t:t})},t.getTypeNameForDebugging=function(t){return t.name||typeof t},t.getAllProps=et,t.getGetters=nt,t.getKeyValues=function(r){var t=et(r);return r.metadata&&r.metadata.include?mt(r.metadata.include).reduce(function(t,e){return Object.assign({},t,((n={})[e]=r[e],n));var n},{}):t.reduce(function(t,e){return Object.assign({},t,((n={})[e]=r[e],n));var n},{})},t.getSetters=function(e){return Object.keys(e.prototype).filter(function(t){return"function"==typeof Object.getOwnPropertyDescriptor(e.prototype,t).set})},t.getStyle=function(t,e){var n=t.ownerDocument.defaultView;return n&&n.getComputedStyle?(e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle?(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),t.currentStyle[e]):""},t.getValue=rt,t.guid=ot,t.hasChanged=function(t,e,n){var r=t[e]&&t[e].currentValue?t[e].currentValue:{},o=t[e]&&t[e].previousValue?t[e].previousValue:{};return n.reduce(function(t,e){return!!t||r[e]!==o[e]},!1)},t.idChanged=function(t,e){return(t[e].currentValue&&t[e].currentValue.id||0)!==(t[e].previousValue&&t[e].previousValue.id||0)},t.ignoreKey=it,t.inArray=at,t.inArrayByKey=function(t,e,n){return-1!==t.findIndex(function(t){return t[n]===e})},t.integerArray=ut,t.isBetweenDates=function(t,e,n){var r=t.toLocaleDateString().split("/"),o=e.toLocaleDateString().split("/"),i=n.toLocaleDateString().split("/"),a=new Date(r[2],bt(r[1])-1,r[0]),u=new Date(o[2],bt(o[1])-1,o[0]),s=new Date(i[2],bt(i[1])-1,i[0]);return a<=s&&s<=u},t.isCyclic=st,t.nextState=function(t,e){return Object.assign({},t,e)},t.positiveIntegerArray=ct,t.removeCycles=pt,t.removeProps=lt,t.serialize=dt,t.stringify=function(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)},t.str2CharCode=ft,t.str2Id=ht,t.str2int=gt,t.strArray2Id=function(t){return ht(t.reduce(function(t,e){return""+t+e},""))},t.throwException=yt,t.throwNotImplementedException=function(){yt("Not Implemented","Not Implemented")},t.toArray=mt,t.toInt=bt,t.toPayload=vt,t.toPx=Et,t.truthy=Ot,t.tryCast=function(t,e){var n=new e;for(var r in t)"undefined"!=typeof n[r]&&(n[r]=t[r]);return n},t.valueChanged=function(n,t){return void 0===t&&(t=""),t?n[t].currentValue!==n[t].previousValue:Object.keys(n).reduce(function(t,e){return!!t||n[e].currentValue!==n[e].previousValue},!1)},t.valueEquals=function(t,e){return q(rt(t),e)},t.Window=tr,t.WindowResize=er,t.STORE_KEY=Cr,t.storageServiceFactory=Dr,t.provideStorage=xr,t.StorageModule=jr,t.StorageActions=wr,t.StorageEffects=Ar,t.ActionStore=Tr,t.Storage=Rr,t.StorageService=Pr,t.StoreModule=_r,t.AppActions=Cn,t.ConfigActions=Dn,t.SidenavActions=xn,t.WindowActions=jn,t.ActionTypes=Nr,t.configReducer=function(t,e){switch(void 0===t&&(t=new dr),e.type){case Dn.INITIALIZE:return Q(dr,t,e.payload);default:return t}},t.sidenavReducer=function(t,e){switch(void 0===t&&(t=!0),e.type){case xn.CLOSE:return!1;case xn.OPEN:return!0;case xn.TOGGLE:return!t;default:return t}},t.windowReducer=function(t,e){switch(void 0===t&&(t=new tr),e.type){case jn.RESIZE:return Q(tr,t,e.payload);default:return t}},t.allSelector=function(t){return t.pipe(y.map(function(t){return t}))},t.emptySelector=function(t){return p.of({})},t.currentUserSelector=nr,t.authenticatedSelector=rr,t.configSelector=or,t.windowSelector=ir,t.windowHeightSelector=ar,t.windowWidthSelector=ur,t.containerHeightSelector=function(t){return ar(t).pipe(y.map(function(t){return 0===t?700:t}))},t.containerWidthSelector=function(t){return ur(t).pipe(y.map(function(t){return 0===t?1200:t}))},t.contentHeightSelector=function(t){return ar(t).pipe(y.map(function(t){return 0===t?700:t}))},t.contentWidthSelector=function(t){return ur(t).pipe(y.map(function(t){return 0===t?1200:t}))},t.sidenavOpenedSelector=function(t){return t.select("sidenav").pipe(y.distinctUntilChanged())},t.apiBaseUrlSelector=function(t){return or(t).pipe(y.map(function(t){return t.apiBaseUrl}))},t.authTokenSelector=function(t){return nr(t).pipe(y.map(function(t){return(t&&t.token?Q(Jn,t.token):new Jn).toString()}))},t.d=Jt,t.b=Zt,t.a=Xt,t.c=ee,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=caiu-library.umd.min.js.map