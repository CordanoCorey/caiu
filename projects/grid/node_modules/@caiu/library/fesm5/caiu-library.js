import { Injectable, Component, ElementRef, Input, ViewChild, ViewContainerRef, ContentChildren, Renderer2, ViewEncapsulation, Output, EventEmitter, NgModule, ChangeDetectionStrategy, ErrorHandler, InjectionToken, Pipe, forwardRef, Inject, ChangeDetectorRef, defineInjectable, inject } from '@angular/core';
import { trigger, state, style, transition, animate } from '@angular/animations';
import { CommonModule } from '@angular/common';
import { FlexLayoutModule } from '@angular/flex-layout';
import { RouterModule, Router, ActivatedRoute, NavigationCancel, NavigationEnd, NavigationError, NavigationStart, RoutesRecognized } from '@angular/router';
import 'hammerjs';
import { __decorate, __metadata, __extends, __spread, __values } from 'tslib';
import { NG_VALUE_ACCESSOR, FormsModule, ReactiveFormsModule, FormArray, FormBuilder } from '@angular/forms';
import { MatDatepickerModule, MatNativeDateModule, MatInputModule, MatDialogModule, MatIconModule, MatToolbarModule, MatCardModule, MatProgressBarModule, MatProgressSpinnerModule, MatButtonModule, MatCheckboxModule, MatRadioModule, MatSelectModule, MatTabsModule, MAT_DIALOG_DATA, MatDialogRef, MatDialog } from '@angular/material';
import { BehaviorSubject, Observable, of, throwError, from, combineLatest as combineLatest$1 } from 'rxjs';
import { orderBy } from '@progress/kendo-data-query';
import { ExcelExportModule } from '@progress/kendo-angular-excel-export';
import { GridModule, PDFModule } from '@progress/kendo-angular-grid';
import { MatIconModule as MatIconModule$1 } from '@angular/material/icon';
import { EffectsModule, Effect, Actions, ofType } from '@ngrx/effects';
import { filter, map, combineLatest, skip, take, catchError, debounceTime, distinctUntilChanged, finalize, mergeMap, switchMap, withLatestFrom } from 'rxjs/operators';
import { Store, StoreModule } from '@ngrx/store';
import { HttpClient, HttpHeaders, HttpClientModule } from '@angular/common/http';
import { Observable as Observable$1 } from 'rxjs/internal/Observable';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LibraryService = /** @class */ (function () {
    function LibraryService() {
    }
    LibraryService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    LibraryService.ctorParameters = function () { return []; };
    /** @nocollapse */ LibraryService.ngInjectableDef = defineInjectable({ factory: function LibraryService_Factory() { return new LibraryService(); }, token: LibraryService, providedIn: "root" });
    return LibraryService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LibraryComponent = /** @class */ (function () {
    function LibraryComponent() {
    }
    /**
     * @return {?}
     */
    LibraryComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    LibraryComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-library',
                    template: "\n    <p>\n      library works!\n    </p>\n  ",
                    styles: []
                },] },
    ];
    /** @nocollapse */
    LibraryComponent.ctorParameters = function () { return []; };
    return LibraryComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var AccordionComponent = /** @class */ (function () {
    function AccordionComponent() {
        this.active = true;
        this.opened = true;
        this.showArrow = false;
        this.closeStart = new EventEmitter();
        this.closeDone = new EventEmitter();
        this.openStart = new EventEmitter();
        this.openDone = new EventEmitter();
    }
    /**
     * @return {?}
     */
    AccordionComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    AccordionComponent.prototype.toggle = /**
     * @return {?}
     */
    function () {
        this.opened = !this.opened;
    };
    /**
     * @return {?}
     */
    AccordionComponent.prototype.open = /**
     * @return {?}
     */
    function () {
        this.opened = true;
    };
    /**
     * @return {?}
     */
    AccordionComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.opened = false;
    };
    /**
     * @param {?} e
     * @return {?}
     */
    AccordionComponent.prototype.onStart = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (this.opened) {
            this.openStart.emit();
        }
        else {
            this.closeStart.emit();
        }
    };
    /**
     * @param {?} e
     * @return {?}
     */
    AccordionComponent.prototype.onDone = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (this.opened) {
            this.openDone.emit();
        }
        else {
            this.closeDone.emit();
        }
    };
    /**
     * @return {?}
     */
    AccordionComponent.prototype.onClickTrigger = /**
     * @return {?}
     */
    function () {
        if (this.active) {
            this.toggle();
        }
    };
    AccordionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-accordion',
                    template: "<div class=\"accordion\">\n  <div class=\"trigger-wrapper\" (click)=\"onClickTrigger()\" [class.active]=\"active\">\n    <ng-content select=\".accordion-trigger\"></ng-content>\n  </div>\n  <div class=\"content-wrapper\" [@toggle]=\"opened ? 'show' : 'hide'\" (@toggle.start)=\"onStart($event)\" (@toggle.done)=\"onDone($event)\">\n    <ng-content select=\".accordion-content\"></ng-content>\n  </div>\n</div>",
                    styles: [".trigger-wrapper{position:relative;padding:0}.trigger-wrapper.active{cursor:pointer}.content-wrapper{overflow:hidden;clear:both}.mat-icon{position:absolute;right:2%;top:25%;color:#fff;font-size:32px;height:50%;font-weight:700}"],
                    animations: [
                        trigger('toggle', [
                            state('*', style({ height: '0px' })),
                            state('show', style({ height: '*' })),
                            state('hide', style({ height: '0px' })),
                            transition('show <=> hide', [
                                animate('300ms ease-out')
                            ])
                        ])
                    ]
                },] },
    ];
    /** @nocollapse */
    AccordionComponent.ctorParameters = function () { return []; };
    AccordionComponent.propDecorators = {
        active: [{ type: Input }],
        opened: [{ type: Input }],
        showArrow: [{ type: Input }],
        closeStart: [{ type: Output }],
        closeDone: [{ type: Output }],
        openStart: [{ type: Output }],
        openDone: [{ type: Output }]
    };
    return AccordionComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule,
                        RouterModule,
                        FlexLayoutModule,
                    ],
                    declarations: [],
                    exports: [
                        CommonModule,
                        RouterModule,
                        FlexLayoutModule,
                    ]
                },] },
    ];
    return SharedModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var AccordionModule = /** @class */ (function () {
    function AccordionModule() {
    }
    AccordionModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                    ],
                    declarations: [
                        AccordionComponent,
                    ],
                    exports: [
                        AccordionComponent,
                    ]
                },] },
    ];
    return AccordionModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Address = /** @class */ (function () {
    function Address() {
        this.firstName = '';
        this.lastName = '';
        this.streetAddress = '';
        this.address2 = '';
        this.city = '';
        this.state = '';
        this.stateId = 45;
        this.zipCode = 0;
        this.metadata = {
            streetAddress: {},
            address2: {},
            city: {},
            stateId: {},
            zipCode: {}
        };
    }
    Object.defineProperty(Address.prototype, "cityStateZip", {
        get: /**
         * @return {?}
         */
        function () {
            return this.hasCityStateZip ?
                this.city + ", " + this.state + " " + this.zipCode + " " : '';
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Address.prototype, "fullName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.firstName && this.lastName ? this.firstName + " " + this.lastName : '';
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Address.prototype, "hasAddress", {
        get: /**
         * @return {?}
         */
        function () {
            return this.hasStreetAddress && this.hasCityStateZip;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Address.prototype, "hasCityStateZip", {
        get: /**
         * @return {?}
         */
        function () {
            return this.city !== '' && (this.state !== '' || this.stateId !== 0) && this.zipCode !== 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Address.prototype, "hasStreetAddress", {
        get: /**
         * @return {?}
         */
        function () {
            return this.streetAddress !== '';
        },
        enumerable: true,
        configurable: true
    });
    return Address;
}());
var Alert = /** @class */ (function () {
    function Alert() {
        this.message = '';
    }
    return Alert;
}());
var Coordinates = /** @class */ (function () {
    function Coordinates() {
        this.row = 0;
        this.column = 0;
    }
    return Coordinates;
}());
var Dimensions = /** @class */ (function () {
    function Dimensions() {
        this.height = 0;
        this.width = 0;
        this.rows = 0;
        this.columns = 0;
    }
    Object.defineProperty(Dimensions.prototype, "approxRatio", {
        get: /**
         * @return {?}
         */
        function () {
            return this.rows / this.columns;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Dimensions.prototype, "ratio", {
        get: /**
         * @return {?}
         */
        function () {
            return this.height / this.width;
        },
        enumerable: true,
        configurable: true
    });
    return Dimensions;
}());
var Email = /** @class */ (function () {
    function Email() {
        this.id = 0;
        this.bcc = '';
        this.body = '';
        this.cc = '';
        this.failed = '';
        this.from = '';
        this.sent = false;
        this.sentDate = new Date();
        this.subject = '';
        this.to = '';
        this.createdById = null;
        this.createdDate = new Date();
        this.attachments = [];
    }
    return Email;
}());
var /** @type {?} */ EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
var Filters = /** @class */ (function () {
    function Filters() {
        this.skip = 0;
        this.sortBy = '';
        this.take = 0;
    }
    return Filters;
}());
var Image = /** @class */ (function () {
    function Image() {
        this.src = '';
        this.height = 0;
        this.width = 0;
    }
    Object.defineProperty(Image.prototype, "horizontal", {
        get: /**
         * @return {?}
         */
        function () {
            return this.orientation === 'h';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Image.prototype, "vertical", {
        get: /**
         * @return {?}
         */
        function () {
            return this.orientation === 'v';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Image.prototype, "colspan", {
        get: /**
         * @return {?}
         */
        function () {
            return this.vertical ? 1 : 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Image.prototype, "rowspan", {
        get: /**
         * @return {?}
         */
        function () {
            return this.vertical ? 2 : 1;
        },
        enumerable: true,
        configurable: true
    });
    return Image;
}());
var Metadata = /** @class */ (function () {
    function Metadata() {
        this.controls = [];
        this.ignore = [];
        this.label = '';
        this.name = '';
    }
    return Metadata;
}());
/** @enum {number} */
var MetadataType = {
    CLASS: 0,
    METHOD: 1,
    PROPERTY: 2,
    PARAMETER: 3,
    STATIC_METHOD: 4,
    STATIC_PROPERTY: 5,
};
MetadataType[MetadataType.CLASS] = "CLASS";
MetadataType[MetadataType.METHOD] = "METHOD";
MetadataType[MetadataType.PROPERTY] = "PROPERTY";
MetadataType[MetadataType.PARAMETER] = "PARAMETER";
MetadataType[MetadataType.STATIC_METHOD] = "STATIC_METHOD";
MetadataType[MetadataType.STATIC_PROPERTY] = "STATIC_PROPERTY";
/**
 * @template T
 */
var  /**
 * @template T
 */
PropertyMetadata = /** @class */ (function () {
    function PropertyMetadata() {
        this.ignore = [];
        this.label = '';
        this.name = '';
    }
    return PropertyMetadata;
}());
var QueryItem = /** @class */ (function () {
    function QueryItem() {
        this.label = '';
    }
    return QueryItem;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
QueryModel = /** @class */ (function () {
    function QueryModel() {
        this.userId = 0;
        this.accountId = 0;
        this.fields = [];
        this.filters = [];
        this.groups = [];
        this.params = {};
        this.skip = 0;
        this.sort = [];
        this.take = 0;
        this.term = '';
    }
    Object.defineProperty(QueryModel.prototype, "hasParams", {
        get: /**
         * @return {?}
         */
        function () {
            return this.totalParams > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "keys", {
        get: /**
         * @return {?}
         */
        function () {
            return Object.keys(new QueryModel());
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "totalParams", {
        get: /**
         * @return {?}
         */
        function () {
            return Object.keys(this.params).length;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.AppendQueryString = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        var /** @type {?} */ obj = QueryModel.BuildQueryObject(query);
        return Object.keys(obj).reduce(function (acc, key) {
            var /** @type {?} */ str = obj[key];
            return str ? QueryModel.AppendToQueryString(acc, str) : acc;
        }, '');
    };
    /**
     * @param {?} path
     * @param {?} str
     * @return {?}
     */
    QueryModel.AppendToQueryString = /**
     * @param {?} path
     * @param {?} str
     * @return {?}
     */
    function (path, str) {
        return path ? path + "&" + str : str;
    };
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.BuildQueryString = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        var /** @type {?} */ path = QueryModel.AppendQueryString(query);
        return path ? "?" + path : '';
    };
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.BuildQueryObject = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        return Object.assign({
            skip: QueryModel.QuerySkip(query),
            take: QueryModel.QueryTake(query),
            term: QueryModel.QueryTerm(query)
        }, QueryModel.QueryParams(query));
    };
    /**
     * @param {?} date
     * @return {?}
     */
    QueryModel.FormatDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [year, month, day].join('-');
    };
    /**
     * @param {?} queryString
     * @return {?}
     */
    QueryModel.ParseQuery = /**
     * @param {?} queryString
     * @return {?}
     */
    function (queryString) {
        var /** @type {?} */ query = {};
        var /** @type {?} */ pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');
        for (var /** @type {?} */ i = 0; i < pairs.length; i++) {
            var /** @type {?} */ pair = pairs[i].split('=');
            query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');
        }
        return query;
    };
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.QueryParams = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        return Object.keys(query.params)
            .reduce(function (acc, key) {
            return Object.assign({}, acc, (_a = {}, _a[key] = key + "=" + query.params[key], _a));
            var _a;
        }, {});
    };
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.QuerySkip = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        return query.skip ? "skip=" + query.skip : '';
    };
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.QueryTake = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        return query.take ? "take=" + query.take : '';
    };
    /**
     * @param {?} query
     * @return {?}
     */
    QueryModel.QueryTerm = /**
     * @param {?} query
     * @return {?}
     */
    function (query) {
        return query.term ? "term=" + query.term : '';
    };
    Object.defineProperty(QueryModel.prototype, "queryParams", {
        get: /**
         * @return {?}
         */
        function () {
            return QueryModel.QueryParams(this);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "queryString", {
        get: /**
         * @return {?}
         */
        function () {
            return QueryModel.BuildQueryString(this);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "queryObject", {
        get: /**
         * @return {?}
         */
        function () {
            return QueryModel.BuildQueryObject(this);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "querySkip", {
        get: /**
         * @return {?}
         */
        function () {
            return this.skip ? "skip=" + this.skip : '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "queryTake", {
        get: /**
         * @return {?}
         */
        function () {
            return this.take ? "take=" + this.take : '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(QueryModel.prototype, "queryTerm", {
        get: /**
         * @return {?}
         */
        function () {
            return this.term ? "term=" + this.term : '';
        },
        enumerable: true,
        configurable: true
    });
    return QueryModel;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
Search = /** @class */ (function () {
    function Search() {
        this.query = new QueryModel();
        this.results = [];
        this.total = 0;
    }
    return Search;
}());
var StyleModel = /** @class */ (function () {
    function StyleModel() {
    }
    Object.defineProperty(StyleModel.prototype, "styles", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ s = {};
            if (this.backgroundColor) {
                s['backgroundColor'] = this.backgroundColor;
            }
            if (this.border) {
                s['border'] = this.border;
            }
            if (this.borderRadius) {
                s['borderRadius.px'] = this.borderRadius;
            }
            if (this.color) {
                s['color'] = this.color;
            }
            if (this.cursor) {
                s['color'] = this.cursor;
            }
            if (this.display) {
                s['display'] = this.display;
            }
            if (this.fontSize) {
                s['fontSize'] = this.fontSize;
            }
            if (this.height) {
                s['height.px'] = this.height;
            }
            if (this.lineHeight) {
                s['line-height.px'] = this.lineHeight;
            }
            if (this.padding) {
                s['padding.px'] = this.padding;
            }
            if (this.paddingTop) {
                s['padding-top.px'] = this.paddingTop;
            }
            if (this.paddingBottom) {
                s['padding-bottom.px'] = this.paddingBottom;
            }
            if (this.paddingLeft) {
                s['padding-left.px'] = this.paddingLeft;
            }
            if (this.paddingRight) {
                s['padding-right.px'] = this.paddingRight;
            }
            if (this.textDecoration) {
                s['textDecoration'] = this.textDecoration;
            }
            if (this.width) {
                s['width.px'] = this.width;
            }
            return s;
        },
        enumerable: true,
        configurable: true
    });
    return StyleModel;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Tile = /** @class */ (function () {
    function Tile() {
        this.id = 0;
        this.cellHeight = 0;
        this.cellWidth = 0;
        this.color = '#fff';
        this.name = '';
        this.src = '';
        this.text = '';
        this._coordinates = new Coordinates();
        this._dimensions = new Dimensions();
        this._image = new Image();
    }
    Object.defineProperty(Tile.prototype, "coordinates", {
        get: /**
         * @return {?}
         */
        function () {
            return this._coordinates || new Coordinates();
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._coordinates = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "dimensions", {
        get: /**
         * @return {?}
         */
        function () {
            return this._dimensions || new Dimensions();
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._dimensions = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "image", {
        get: /**
         * @return {?}
         */
        function () {
            return this._image || new Image();
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._image = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "height", {
        get: /**
         * @return {?}
         */
        function () {
            return this.rows * this.cellHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "width", {
        get: /**
         * @return {?}
         */
        function () {
            return this.columns * this.cellWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "imageSrc", {
        get: /**
         * @return {?}
         */
        function () {
            return this.image.src;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "imageHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.image.height * this.scale;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "imageWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.image.width * this.scale;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "rows", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dimensions.rows;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "columns", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dimensions.columns;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "positionTop", {
        get: /**
         * @return {?}
         */
        function () {
            return this.startRow * this.cellHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "positionLeft", {
        get: /**
         * @return {?}
         */
        function () {
            return this.startColumn * this.cellWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "approxRatio", {
        get: /**
         * @return {?}
         */
        function () {
            return this.rows * this.cellHeight / this.columns * this.cellWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "ratio", {
        get: /**
         * @return {?}
         */
        function () {
            return this.dimensions.ratio;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "scale", {
        get: /**
         * @return {?}
         */
        function () {
            return this.heightScale >= this.widthScale ? this.heightScale : this.widthScale;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "heightScale", {
        get: /**
         * @return {?}
         */
        function () {
            return (this.rows * this.cellHeight) / this.image.height;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "widthScale", {
        get: /**
         * @return {?}
         */
        function () {
            return (this.columns * this.cellWidth) / this.image.width;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "startRow", {
        get: /**
         * @return {?}
         */
        function () {
            return this.coordinates.row;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tile.prototype, "startColumn", {
        get: /**
         * @return {?}
         */
        function () {
            return this.coordinates.column;
        },
        enumerable: true,
        configurable: true
    });
    return Tile;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} derived
 * @param {?} baseCtors
 * @return {?}
 */
function applyDecorators(derived, baseCtors) {
    baseCtors.forEach(function (baseCtor) {
        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {
            derived[name] = baseCtor.prototype[name];
        });
    });
}
/**
 * @param {?} derivedCtor The clas Constructor
 * @param {?} baseCtors
 * @return {?}
 */
function applyMixins(derivedCtor, baseCtors) {
    baseCtors.forEach(function (baseCtor) {
        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {
            derivedCtor.prototype[name] = baseCtor.prototype[name];
        });
    });
}
/**
 * Find distinct elements in the union of 2 arrays.
 * @param {?} array1
 * @param {?} array2
 * @return {?}
 */
function arrayUnion(array1, array2) {
    var /** @type {?} */ a = __spread(array1, array2);
    for (var /** @type {?} */ i = 0; i < a.length; ++i) {
        for (var /** @type {?} */ j = i + 1; j < a.length; ++j) {
            if (a[i] === a[j]) {
                a.splice(j--, 1);
            }
        }
    }
    return a;
}
/**
 * @param {?} target
 * @param {?} props
 * @return {?}
 */
function assignProps(target, props) {
    Object.keys(props).forEach(function (key) {
        if (target[key]) {
            target[key] = props[key];
        }
    });
}
/**
 * @template T
 * @param {?} ctor
 * @param {...?} args
 * @return {?}
 */
function build(ctor) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
    }
    var /** @type {?} */ instance = new ctor();
    return args.reduce(function (acc, next) {
        var /** @type {?} */ ret;
        try {
            ret = Object.assign(acc, next);
        }
        catch (/** @type {?} */ e) {
            console.warn(e);
            ret = acc;
        }
        finally {
            return ret;
        }
    }, instance);
}
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function compareDates(a, b) {
    return new Date(b).getTime() - new Date(a).getTime();
}
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function compareNumbers(a, b) {
    return a - b;
}
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function compareStrings(a, b) {
    var /** @type {?} */ x = a.toLowerCase();
    var /** @type {?} */ y = b.toLowerCase();
    if (x < y) {
        return -1;
    }
    else if (x > y) {
        return 1;
    }
    return 0;
}
/**
 * @param {?} arr
 * @param {?=} key
 * @return {?}
 */
function distinct(arr, key) {
    if (key === void 0) { key = ''; }
    return key ? arr.reduce(function (acc, x) { return acc.findIndex(function (y) { return y[key] === x[key]; }) === -1 ? __spread(acc, [x]) : acc; }, [])
        : arr.reduce(function (acc, x) { return acc.indexOf(x) === -1 ? __spread(acc, [x]) : acc; }, []);
}
/**
 * @param {?} x1
 * @param {?} x2
 * @return {?}
 */
function equals(x1, x2) {
    // check whether x1 and x2 have the same type
    if (typeof (x1) !== typeof (x2)) {
        return false;
    }
    // check whether x1 and x2 are both null or both undefined
    if ((x1 === null && x2 === null) || (x1 === undefined && x2 === undefined)) {
        return true;
    }
    // account for non-matching null and undefined values
    if (((x1 === null || x1 === undefined) && x2 !== null && x2 !== undefined)
        || ((x2 === null || x2 === undefined) && x1 !== null && x1 !== undefined)) {
        return false;
    }
    // compare two arrays
    if (Array.isArray(x1) && Array.isArray(x2) && x1.length === x2.length) {
        return x1.findIndex(function (x, index) { return !equals(x, x2[index]); }) === -1 ? true : false;
    }
    // compare two objects
    if (x1 && typeof (x1) === 'object' && typeof (x2) === 'object'
        && Object.keys(x1).length === Object.keys(x2).length
        && Object.keys(x2).length === arrayUnion(Object.keys(x1), Object.keys(x2)).length) {
        return Object.keys(x1).findIndex(function (key) { return !equals(x1[key], x2[key]); }) === -1;
    }
    // compare two primitives with the same type
    return x1 === x2;
}
/**
 * Extends an object with the *enumerable* and *own* properties of one or more source objects,
 * similar to Object.assign.
 *
 * @param {?} dest The object which will have properties copied to it.
 * @param {...?} sources The source objects from which properties will be copied.
 * @return {?}
 */
function extendObject(dest) {
    var sources = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        sources[_i - 1] = arguments[_i];
    }
    if (dest == null) {
        throw TypeError('Cannot convert undefined or null to object');
    }
    try {
        for (var sources_1 = __values(sources), sources_1_1 = sources_1.next(); !sources_1_1.done; sources_1_1 = sources_1.next()) {
            var source = sources_1_1.value;
            if (source != null) {
                for (var /** @type {?} */ key in source) {
                    if (source.hasOwnProperty(key)) {
                        dest[key] = source[key];
                    }
                }
            }
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (sources_1_1 && !sources_1_1.done && (_a = sources_1.return)) _a.call(sources_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    return dest;
    var e_1, _a;
}
/**
 * @param {?} value
 * @return {?}
 */
function falsy(value) {
    return value === null || value === 0 || value === '' || value === undefined;
}
/**
 * Remove problematic or undesired store properties.
 * @param {?} obj
 * @return {?}
 */
function filterState(obj) {
    return removeCycles(removeProps(obj));
}
/**
 * @param {?} ctor
 * @return {?}
 */
function findMetadata(ctor) {
    var /** @type {?} */ instance = new ctor();
    return instance && instance.metadata ? instance.metadata : new Metadata();
}
/**
 * @return {?}
 */
function findSchoolYear() {
    var /** @type {?} */ date = new Date();
    var /** @type {?} */ year = date.getFullYear();
    var /** @type {?} */ month = date.getMonth();
    return month >= 7 ? year + "-" + (year + 1) : year - 1 + "-" + year;
}
/**
 * @param {?} obj
 * @param {?} parents
 * @return {?}
 */
function flattenKeys(obj, parents) {
    return Object.keys(obj).reduce(function (acc, key) {
        var /** @type {?} */ pathToRoot = __spread(parents, [key]);
        var /** @type {?} */ val = obj[key];
        if (!Array.isArray(val) && Object.keys(val).length > 0) {
            return __spread(acc, flattenKeys(val, pathToRoot));
        }
        return __spread(acc, pathToRoot);
    }, []);
}
/**
 * @param {?=} number
 * @return {?}
 */
function formatPhoneNumber(number) {
    if (number === void 0) { number = ''; }
    if (!number) {
        return '000-000-0000';
    }
    var /** @type {?} */ l = number.length;
    return number && (l === 7 || l === 10) ?
        l === 7 ? format7DigitPhoneNumber(number)
            : format10DigitPhoneNumber(number)
        : '000-000-0000';
}
/**
 * @param {?=} number
 * @return {?}
 */
function format7DigitPhoneNumber(number) {
    if (number === void 0) { number = '0000000'; }
    var /** @type {?} */ first3 = number.substring(0, 3);
    var /** @type {?} */ last4 = number.substring(3, 7);
    return first3 + " -" + last4 + " ";
}
/**
 * @param {?=} number
 * @return {?}
 */
function format10DigitPhoneNumber(number) {
    if (number === void 0) { number = '0000000000'; }
    var /** @type {?} */ first3 = number.substring(0, 3);
    var /** @type {?} */ last7 = format7DigitPhoneNumber(number.substring(3, 10));
    return first3 + " -" + last7 + " ";
}
/**
 * @param {?} total
 * @return {?}
 */
function formatPrice(total) {
    var /** @type {?} */ dollars = total.toFixed(2).replace(/./g, function (c, i, a) {
        return i && c !== '.' && ((a.length - i) % 3 === 0) ? ',' + c : c;
    });
    return "$" + dollars;
}
/**
 * @param {?} type
 * @return {?}
 */
function getTypeNameForDebugging(type) {
    return type['name'] || typeof type;
}
/**
 * @param {?} obj
 * @return {?}
 */
function getAllProps(obj) {
    var /** @type {?} */ mapped = obj['metadata'] && obj['metadata']['include'] && Array.isArray(obj['metadata']['include']) ?
        obj['metadata']['include'].reduce(function (acc, key) {
            return Object.assign({}, acc, (_a = {}, _a[key] = obj[key], _a));
            var _a;
        }, {}) : obj;
    if (obj['metadata'] && obj['metadata']['exclude'] && Array.isArray(obj['metadata']['exclude'])) {
        obj['metadata']['exclude'].forEach(function (key) {
            delete mapped[key];
        });
    }
    return __spread(Object.keys(mapped), getGetters(mapped));
}
/**
 * @param {?} obj
 * @return {?}
 */
function getGetters(obj) {
    return Object.keys(obj.constructor.prototype).filter(function (name) {
        return typeof Object.getOwnPropertyDescriptor(obj.constructor.prototype, name)['get'] === 'function';
    });
}
/**
 * @param {?} model
 * @return {?}
 */
function getKeyValues(model) {
    var /** @type {?} */ keys = getAllProps(model);
    return model['metadata'] && model['metadata']['include'] ?
        toArray(model['metadata']['include']).reduce(function (acc, key) {
            return Object.assign({}, acc, (_a = {}, _a[key] = model[key], _a));
            var _a;
        }, {})
        : keys.reduce(function (acc, key) {
            return Object.assign({}, acc, (_a = {}, _a[key] = model[key], _a));
            var _a;
        }, {});
}
/**
 * @param {?} obj
 * @return {?}
 */
function getSetters(obj) {
    return Object.keys(obj.prototype).filter(function (name) {
        return typeof Object.getOwnPropertyDescriptor(obj.prototype, name)['set'] === 'function';
    });
}
/**
 * @param {?} el
 * @param {?} styleProp
 * @return {?}
 */
function getStyle(el, styleProp) {
    var /** @type {?} */ value;
    var /** @type {?} */ defaultView = el.ownerDocument.defaultView;
    // W3C standard way:
    if (defaultView && defaultView.getComputedStyle) {
        // sanitize property name to css notation (hypen separated words eg. font-Size)
        styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();
        return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);
    }
    else if (el['currentStyle']) {
        // IE
        // sanitize property name to camelCase
        styleProp = styleProp.replace(/\-(\w)/g, function (str, letter) {
            return letter.toUpperCase();
        });
        value = el['currentStyle'][styleProp];
        return value;
    }
    return '';
}
/**
 * @param {?} model
 * @return {?}
 */
function getValue(model) {
    if (model === null || typeof (model) === 'string' || typeof (model) === 'string' || model instanceof Date) {
        return model;
    }
    var /** @type {?} */ keys = getAllProps(model);
    var /** @type {?} */ props = keys.filter(function (key) { return key !== 'metadata' && !ignoreKey(model, key); })
        .map(function (key) {
        var /** @type {?} */ obj = {};
        obj[key] = model[key] && typeof model[key] === 'object' ?
            (Array.isArray(model[key]) ?
                (model[key].length > 0 ?
                    model[key].map(function (x) { return (typeof x === 'object' ? getValue(x) : x); }) : [])
                : getValue(model[key])) : model[key];
        return obj;
    });
    return props.reduce(function (acc, val) {
        return Object.assign({}, acc, val);
    }, {});
}
/**
 * @return {?}
 */
function guid() {
    /**
     * @return {?}
     */
    function s4() {
        return Math.floor((1 + Math.random()) * 0x10000)
            .toString(16)
            .substring(1);
    }
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
        s4() + '-' + s4() + s4() + s4();
}
/**
 * @param {?} changes
 * @param {?} key
 * @param {?} props
 * @return {?}
 */
function hasChanged(changes, key, props) {
    var /** @type {?} */ currentValue = changes[key] && changes[key].currentValue ? changes[key].currentValue : {};
    var /** @type {?} */ previousValue = changes[key] && changes[key].previousValue ? changes[key].previousValue : {};
    return props.reduce(function (acc, prop) {
        return acc ? true : currentValue[prop] !== previousValue[prop];
    }, false);
}
/**
 * @param {?} changes
 * @param {?} key
 * @return {?}
 */
function idChanged(changes, key) {
    var /** @type {?} */ newId = changes[key].currentValue ? changes[key].currentValue['id'] || 0 : 0;
    var /** @type {?} */ oldId = changes[key].previousValue ? changes[key].previousValue['id'] || 0 : 0;
    return newId !== oldId;
}
/**
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function ignoreKey(model, key) {
    if (model['metadata'] && model['metadata']['ignore']) {
        return inArray(model['metadata']['ignore'], key);
    }
    return false;
}
/**
 * @param {?} arr
 * @param {?} val
 * @return {?}
 */
function inArray(arr, val) {
    return arr.filter(function (item) { return item === val; }).length > 0;
}
/**
 * @param {?} arr
 * @param {?} val
 * @param {?} key
 * @return {?}
 */
function inArrayByKey(arr, val, key) {
    return arr.findIndex(function (item) { return item[key] === val; }) !== -1;
}
/**
 * @param {?} n
 * @return {?}
 */
function integerArray(n) {
    return Array.from(Array(n).keys());
}
/**
 * @param {?} dateFrom
 * @param {?} dateTo
 * @param {?} dateCheck
 * @return {?}
 */
function isBetweenDates(dateFrom, dateTo, dateCheck) {
    var /** @type {?} */ d1 = dateFrom.toLocaleDateString().split('/');
    var /** @type {?} */ d2 = dateTo.toLocaleDateString().split('/');
    var /** @type {?} */ c = dateCheck.toLocaleDateString().split('/');
    var /** @type {?} */ from$$1 = new Date(d1[2], toInt(d1[1]) - 1, d1[0]); // -1 because months are from 0 to 11
    var /** @type {?} */ to = new Date(d2[2], toInt(d2[1]) - 1, d2[0]);
    var /** @type {?} */ check = new Date(c[2], toInt(c[1]) - 1, c[0]);
    return (check >= from$$1 && check <= to);
}
/**
 * Detects cycles in an object.
 * @param {?} obj
 * @return {?}
 */
function isCyclic(obj) {
    var /** @type {?} */ seenObjects = [];
    var /** @type {?} */ detect = function (x) {
        if (x && typeof x === 'object') {
            if (seenObjects.indexOf(x) !== -1) {
                return true;
            }
            seenObjects.push(x);
            for (var /** @type {?} */ key in x) {
                if (x.hasOwnProperty(key) && detect(x[key])) {
                    return true;
                }
            }
        }
        return false;
    };
    return detect(obj);
}
/**
 * @param {?} fromState The last state object from the store
 * @param {?} dState A partial class containing all properties that have changed wrt fromState
 * @return {?} The current/updated state of the application (toState)
 */
function nextState(fromState, dState) {
    var /** @type {?} */ toState = Object.assign({}, fromState, dState);
    return toState;
}
/**
 * @param {?} n
 * @return {?}
 */
function positiveIntegerArray(n) {
    return integerArray(n).map(function (x) { return x + 1; });
}
/**
 * Remove store props that contain cycles.
 * @param {?} obj
 * @return {?}
 */
function removeCycles(obj) {
    if (obj && typeof obj === 'object') {
        for (var /** @type {?} */ key in obj) {
            if (obj.hasOwnProperty(key) && isCyclic(obj[key])) {
                delete obj[key];
            }
        }
    }
    return obj;
}
/**
 * Remove any props that should not appear in the store.
 * @param {?} obj
 * @return {?}
 */
function removeProps(obj) {
    return obj;
}
/**
 * @param {?} model
 * @return {?}
 */
function serialize(model) {
    if (Array.isArray(model)) {
        return model.map(function (x) { return serialize(x); });
    }
    if (model.serialize && typeof model.serialize === 'function') {
        return serialize(model.serialize());
    }
    if (model === null || typeof (model) === 'number' || typeof (model) === 'string' || model instanceof Date) {
        return model;
    }
    var /** @type {?} */ keys = getAllProps(model);
    if (keys.length === 0) {
        return model;
    }
    return keys.reduce(function (acc, key) {
        var /** @type {?} */ val = null;
        if (model[key] !== null && typeof (model[key]) === 'object' && !(model[key] instanceof Date)) {
            if (model[key].serialize && typeof model[key].serialize === 'function') {
                val = model[key].serialize();
            }
            else {
                val = serialize(model[key]);
            }
        }
        else {
            val = model[key];
        }
        return Object.assign({}, acc, (_a = {},
            _a[key] = val,
            _a));
        var _a;
    }, {});
}
/**
 * @param {?} token
 * @return {?}
 */
function stringify(token) {
    if (typeof token === 'string') {
        return token;
    }
    if (token == null) {
        return '' + token;
    }
    if (token.overriddenName) {
        return "" + token.overriddenName;
    }
    if (token.name) {
        return "" + token.name;
    }
    var /** @type {?} */ res = token.toString();
    var /** @type {?} */ newLineIndex = res.indexOf('\n');
    return newLineIndex === -1 ? res : res.substring(0, newLineIndex);
}
/**
 * @param {?} str
 * @return {?}
 */
function str2CharCode(str) {
    return str.charCodeAt(0);
}
/**
 * @param {?} str
 * @return {?}
 */
function str2Id(str) {
    var /** @type {?} */ charCodes = str ? str.split('').reduce(function (acc, x) { return "" + acc + str2CharCode(x); }, '') : '';
    return toInt(charCodes);
}
/**
 * @param {?} str
 * @return {?}
 */
function str2int(str) {
    return parseInt(str, 10);
}
/**
 * @param {?} strArray
 * @return {?}
 */
function strArray2Id(strArray) {
    var /** @type {?} */ str = strArray.reduce(function (acc, x) { return "" + acc + x; }, '');
    return str2Id(str);
}
/**
 * @param {?} errorName
 * @param {?} errorMessage
 * @return {?}
 */
function throwException(errorName, errorMessage) {
    throw {
        name: errorName,
        level: 'Show Stopper',
        message: errorMessage,
        htmlMessage: 'Error detected. Please contact the <a href=\'mailto:agendamanager@caiu.com\'>system administrator</a>.',
        toString: function () { return errorName + ': ' + errorMessage; }
    };
}
/**
 * @return {?}
 */
function throwNotImplementedException() {
    throwException('Not Implemented', 'Not Implemented');
}
/**
 * @param {?} val
 * @return {?}
 */
function toArray(val) {
    return val ? (Array.isArray(val) ? val : [val]) : [];
}
/**
 * @param {?} val
 * @return {?}
 */
function toInt(val) {
    return val && val.toString ? str2int(val.toString()) : 0;
}
/**
 * @param {?} action
 * @return {?}
 */
function toPayload(action) {
    return action ? action.payload : null;
}
/**
 * @param {?} n
 * @return {?}
 */
function toPx(n) {
    return n + "px";
}
/**
 * @param {?} value
 * @return {?}
 */
function truthy(value) {
    return !falsy(value);
}
/**
 * @param {?} obj
 * @param {?} type
 * @return {?}
 */
function tryCast(obj, type) {
    var /** @type {?} */ retObj = new type();
    for (var /** @type {?} */ key in obj) {
        if (typeof (retObj[key]) !== 'undefined') {
            retObj[key] = obj[key];
        }
    }
    return retObj;
}
/**
 * @param {?} changes
 * @param {?=} key
 * @return {?}
 */
function valueChanged(changes, key) {
    if (key === void 0) { key = ''; }
    return key ? changes[key].currentValue !== changes[key].previousValue
        : Object.keys(changes).reduce(function (acc, currentKey) {
            return acc ? true : changes[currentKey].currentValue !== changes[currentKey].previousValue;
        }, false);
}
/**
 * @param {?} value
 * @param {?} formValue
 * @return {?}
 */
function valueEquals(value, formValue) {
    return equals(getValue(value), formValue);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Collage = /** @class */ (function () {
    function Collage() {
        this.canvasHeight = 0;
        this.canvasWidth = 0;
        this.maxColumns = 4;
        this.maxRows = 4;
        this.totalColumns = 0;
        this.totalRows = 0;
        this._images = [];
        this._tiles = [];
    }
    /**
     * @param {?} startRow
     * @param {?} startColumn
     * @param {?} maxColumns
     * @param {?} cells
     * @return {?}
     */
    Collage.AvailableColumns = /**
     * @param {?} startRow
     * @param {?} startColumn
     * @param {?} maxColumns
     * @param {?} cells
     * @return {?}
     */
    function (startRow, startColumn, maxColumns, cells) {
        var /** @type {?} */ totalColumns = cells[0].length;
        return Math.max.apply(Math, __spread(positiveIntegerArray(maxColumns)
            .map(function (k) { return k <= maxColumns && startColumn + k <= totalColumns && cells[startRow] && cells[startRow][startColumn + k] ? k : 1; })));
    };
    /**
     * @param {?} startRow
     * @param {?} startColumn
     * @param {?} maxRows
     * @param {?} cells
     * @return {?}
     */
    Collage.AvailableRows = /**
     * @param {?} startRow
     * @param {?} startColumn
     * @param {?} maxRows
     * @param {?} cells
     * @return {?}
     */
    function (startRow, startColumn, maxRows, cells) {
        var /** @type {?} */ totalRows = cells[0].length;
        return Math.max.apply(Math, __spread(positiveIntegerArray(maxRows)
            .map(function (k) { return k <= maxRows && startRow + k <= totalRows && cells[startRow + k] && cells[startRow + k][startColumn] ? k : 1; })));
    };
    /**
     * @param {?} dimensions
     * @param {?} startRow
     * @param {?} startColumn
     * @param {?} maxRows
     * @param {?} maxColumns
     * @param {?} cells
     * @return {?}
     */
    Collage.AvailableDimensions = /**
     * @param {?} dimensions
     * @param {?} startRow
     * @param {?} startColumn
     * @param {?} maxRows
     * @param {?} maxColumns
     * @param {?} cells
     * @return {?}
     */
    function (dimensions, startRow, startColumn, maxRows, maxColumns, cells) {
        var /** @type {?} */ availableRows = Collage.AvailableRows(startRow, startColumn, maxRows, cells);
        var /** @type {?} */ availableColumns = Collage.AvailableColumns(startRow, startColumn, maxColumns, cells);
        return dimensions.filter(function (x) { return x.rows <= availableRows && x.columns <= availableColumns; });
    };
    /**
     * @param {?} images
     * @param {?} canvasHeight
     * @param {?} canvasWidth
     * @param {?=} totalRows
     * @param {?=} totalColumns
     * @param {?=} maxRows
     * @param {?=} maxColumns
     * @return {?}
     */
    Collage.Build = /**
     * @param {?} images
     * @param {?} canvasHeight
     * @param {?} canvasWidth
     * @param {?=} totalRows
     * @param {?=} totalColumns
     * @param {?=} maxRows
     * @param {?=} maxColumns
     * @return {?}
     */
    function (images, canvasHeight, canvasWidth, totalRows, totalColumns, maxRows, maxColumns) {
        if (totalRows === void 0) { totalRows = 0; }
        if (totalColumns === void 0) { totalColumns = 0; }
        if (maxRows === void 0) { maxRows = 0; }
        if (maxColumns === void 0) { maxColumns = 0; }
        var /** @type {?} */ collage = Object.assign(new Collage(), {
            canvasHeight: canvasHeight,
            canvasWidth: canvasWidth,
            totalRows: totalRows,
            totalColumns: totalColumns,
            maxRows: maxRows,
            maxColumns: maxColumns
        });
        collage.images = images;
        return collage;
    };
    /**
     * @param {?} rows
     * @param {?} cols
     * @return {?}
     */
    Collage.BuildEmptyCells = /**
     * @param {?} rows
     * @param {?} cols
     * @return {?}
     */
    function (rows, cols) {
        return integerArray(rows).map(function (x) { return integerArray(cols).map(function (y) { return true; }); });
    };
    /**
     * @param {?} collage
     * @return {?}
     */
    Collage.BuildTiles = /**
     * @param {?} collage
     * @return {?}
     */
    function (collage) {
        return collage.images.map(function (image, index) {
            var /** @type {?} */ dimensions = Collage.FindDimensions(image.height, image.width, collage.tileDimensions, collage.cellHeight, collage.cellWidth);
            return Object.assign(new Tile(), {
                image: image,
                dimensions: dimensions,
                id: index + 1,
                cellHeight: collage.cellHeight,
                cellWidth: collage.cellWidth
            });
        });
    };
    /**
     * @param {?} id
     * @param {?} tileIds
     * @return {?}
     */
    Collage.ChooseTileId = /**
     * @param {?} id
     * @param {?} tileIds
     * @return {?}
     */
    function (id, tileIds) {
        return __spread(tileIds.filter(function (x) { return x !== id; }), [id]);
    };
    /**
     * @param {?} index
     * @param {?} totalRows
     * @param {?} totalColumns
     * @return {?}
     */
    Collage.FindCoordinates = /**
     * @param {?} index
     * @param {?} totalRows
     * @param {?} totalColumns
     * @return {?}
     */
    function (index, totalRows, totalColumns) {
        var /** @type {?} */ remainder = (index + totalColumns) % totalColumns;
        return {
            row: (index - remainder) / totalColumns,
            column: remainder
        };
    };
    /**
     * @param {?} index
     * @param {?} totalRows
     * @param {?} totalColumns
     * @param {?} startRow
     * @param {?} startColumn
     * @return {?}
     */
    Collage.FindCoordinatesNested = /**
     * @param {?} index
     * @param {?} totalRows
     * @param {?} totalColumns
     * @param {?} startRow
     * @param {?} startColumn
     * @return {?}
     */
    function (index, totalRows, totalColumns, startRow, startColumn) {
        var /** @type {?} */ coordinates = Collage.FindCoordinates(index, totalRows, totalColumns);
        coordinates.column += startColumn;
        coordinates.row += startRow;
        return coordinates;
    };
    /**
     * @param {?} height
     * @param {?} width
     * @param {?} dimensions
     * @param {?} cellHeight
     * @param {?} cellWidth
     * @return {?}
     */
    Collage.FindDimensions = /**
     * @param {?} height
     * @param {?} width
     * @param {?} dimensions
     * @param {?} cellHeight
     * @param {?} cellWidth
     * @return {?}
     */
    function (height, width, dimensions, cellHeight, cellWidth) {
        var /** @type {?} */ filtered = dimensions.filter(function (x) { return x.rows * cellHeight <= height && x.columns * cellWidth <= width; });
        var /** @type {?} */ ordered = filtered.sort(function (a, b) { return Math.abs(height / width - a.ratio) - Math.abs(height / width - b.ratio); });
        var /** @type {?} */ closestMatch = ordered[0];
        var /** @type {?} */ rows = closestMatch && closestMatch.rows ? closestMatch.rows : [];
        var /** @type {?} */ columns = closestMatch && closestMatch.columns ? closestMatch.columns : [];
        return Object.assign(new Dimensions(), {
            rows: rows,
            columns: columns,
            height: height,
            width: width
        });
    };
    /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    Collage.FindNextTileId = /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    function (tiles, tileIds, dimensions) {
        var /** @type {?} */ nextMatch = Collage.FindNextMatchId(tiles, tileIds, dimensions);
        return nextMatch || Collage.FindBestMatchId(tiles, tileIds, dimensions);
    };
    /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    Collage.FindBestMatchId = /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    function (tiles, tileIds, dimensions) {
        var /** @type {?} */ diff = 999;
        return tileIds.reduce(function (acc, id) {
            var /** @type {?} */ tile = tiles.find(function (x) { return x.id === id; });
            diff = Math.abs(tile.ratio - dimensions.ratio);
            return acc === 0 || diff < acc ? id : acc;
        }, 0);
    };
    /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    Collage.FindNextMatchId = /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    function (tiles, tileIds, dimensions) {
        return tileIds.reduce(function (acc, id) {
            if (acc !== 0) {
                return acc;
            }
            var /** @type {?} */ tile = tiles.find(function (x) { return x.id === id; });
            return tile && tile.rows === dimensions.rows && tile.columns === dimensions.columns ? tile.id : 0;
        }, 0);
    };
    /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    Collage.FindBestMatch = /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    function (tiles, tileIds, dimensions) {
        var /** @type {?} */ id = Collage.FindBestMatchId(tiles, tileIds, dimensions);
        return tiles.find(function (x) { return x.id === id; });
    };
    /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    Collage.FindNextTile = /**
     * @param {?} tiles
     * @param {?} tileIds
     * @param {?} dimensions
     * @return {?}
     */
    function (tiles, tileIds, dimensions) {
        return tileIds.reduce(function (acc, id) {
            if (acc === null || acc.id === 0) {
                var /** @type {?} */ tile_1 = tiles.find(function (x) { return x.id === id; });
                var /** @type {?} */ dim = dimensions.find(function (x) { return tile_1.rows === x.rows && tile_1.columns === x.columns; });
                return dim ? Object.assign(new Tile(), tile_1, {
                    dimensions: Object.assign(new Dimensions(), tile_1.dimensions, {
                        rows: dim.rows,
                        columns: dim.columns
                    })
                }) : null;
            }
            return acc;
        }, new Tile()) || Collage.FindBestMatch(tiles, tileIds, dimensions[0]);
    };
    /**
     * @param {?} cellHeight
     * @param {?} cellWidth
     * @param {?} maxRows
     * @param {?} maxColumns
     * @return {?}
     */
    Collage.GetTileDimensions = /**
     * @param {?} cellHeight
     * @param {?} cellWidth
     * @param {?} maxRows
     * @param {?} maxColumns
     * @return {?}
     */
    function (cellHeight, cellWidth, maxRows, maxColumns) {
        return positiveIntegerArray(maxRows).reduce(function (acc, x) {
            var /** @type {?} */ dimensions = positiveIntegerArray(maxColumns)
                .map(function (y) { return Object.assign(new Dimensions(), {
                rows: x,
                columns: y,
                height: x * cellHeight,
                width: y * cellWidth
            }); });
            return __spread(acc, dimensions);
        }, []);
    };
    /**
     * @param {?} cells
     * @param {?} startIndex
     * @param {?} dimensions
     * @param {?} totalRows
     * @param {?} totalColumns
     * @return {?}
     */
    Collage.MarkCellsAsFilled = /**
     * @param {?} cells
     * @param {?} startIndex
     * @param {?} dimensions
     * @param {?} totalRows
     * @param {?} totalColumns
     * @return {?}
     */
    function (cells, startIndex, dimensions, totalRows, totalColumns) {
        var /** @type {?} */ start = Collage.FindCoordinates(startIndex, totalRows, totalColumns);
        return integerArray(dimensions.rows * dimensions.columns).reduce(function (acc, i) {
            var /** @type {?} */ coordinates = Collage.FindCoordinatesNested(i, dimensions.rows, dimensions.columns, start.row, start.column);
            cells[coordinates.row][coordinates.column] = false;
            return cells;
        }, cells);
    };
    /**
     * @param {?} tiles
     * @param {?} collage
     * @return {?}
     */
    Collage.PositionTiles = /**
     * @param {?} tiles
     * @param {?} collage
     * @return {?}
     */
    function (tiles, collage) {
        var /** @type {?} */ cells = Collage.BuildEmptyCells(collage.totalRows, collage.totalColumns);
        var /** @type {?} */ tileIds = tiles.map(function (x) { return x.id; });
        return integerArray(collage.totalCells).reduce(function (acc, i) {
            var /** @type {?} */ coordinates = Collage.FindCoordinates(i, collage.totalRows, collage.totalColumns);
            if (!cells[coordinates.row][coordinates.column]) {
                return acc;
            }
            var /** @type {?} */ availableDimensions = Collage.AvailableDimensions(collage.tileDimensions, coordinates.row, coordinates.column, collage.maxRows, collage.maxColumns, cells);
            var /** @type {?} */ tile = Collage.FindNextTile(tiles, tileIds, availableDimensions);
            tile.coordinates = coordinates;
            cells = Collage.MarkCellsAsFilled(cells, i, tile.dimensions, collage.totalRows, collage.totalColumns);
            tileIds = Collage.ChooseTileId(tile.id, tileIds);
            return __spread(acc, [tile]);
        }, []);
    };
    Object.defineProperty(Collage.prototype, "cellHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.canvasHeight / this.totalRows;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collage.prototype, "cellWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.canvasWidth / this.totalColumns;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collage.prototype, "emptyCells", {
        get: /**
         * @return {?}
         */
        function () {
            return Collage.BuildEmptyCells(this.totalRows, this.totalColumns);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collage.prototype, "images", {
        get: /**
         * @return {?}
         */
        function () {
            return this._images;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._images = value;
            this.tiles = Collage.BuildTiles(this);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collage.prototype, "tileDimensions", {
        get: /**
         * @return {?}
         */
        function () {
            return Collage.GetTileDimensions(this.cellHeight, this.cellWidth, this.maxRows, this.maxColumns);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collage.prototype, "tiles", {
        get: /**
         * @return {?}
         */
        function () {
            return this._tiles;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._tiles = Collage.PositionTiles(value, this);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collage.prototype, "totalCells", {
        get: /**
         * @return {?}
         */
        function () {
            return this.totalRows * this.totalColumns;
        },
        enumerable: true,
        configurable: true
    });
    return Collage;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var CollageComponent = /** @class */ (function () {
    function CollageComponent() {
        this.images = [];
        this.canvasHeight = 0;
        this.canvasWidth = 0;
        this.totalRows = 0;
        this.totalColumns = 0;
        this.maxRows = 0;
        this.maxColumns = 0;
    }
    Object.defineProperty(CollageComponent.prototype, "collage", {
        get: /**
         * @return {?}
         */
        function () {
            return this.canvasHeight > 0 && this.canvasWidth > 0 ?
                Collage.Build(this.images, this.canvasHeight, this.canvasWidth, this.totalRows, this.totalColumns, this.maxRows, this.maxColumns)
                : new Collage();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CollageComponent.prototype, "tiles", {
        get: /**
         * @return {?}
         */
        function () {
            return this.collage.tiles;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    CollageComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    CollageComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-collage',
                    template: "<iu-tile *ngFor=\"let tile of tiles\" [tile]=\"tile\"></iu-tile>",
                    styles: [""],
                    changeDetection: ChangeDetectionStrategy.OnPush
                },] },
    ];
    /** @nocollapse */
    CollageComponent.ctorParameters = function () { return []; };
    CollageComponent.propDecorators = {
        images: [{ type: Input }],
        canvasHeight: [{ type: Input }],
        canvasWidth: [{ type: Input }],
        totalRows: [{ type: Input }],
        totalColumns: [{ type: Input }],
        maxRows: [{ type: Input }],
        maxColumns: [{ type: Input }]
    };
    return CollageComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var TileComponent = /** @class */ (function () {
    function TileComponent() {
        this.tile = new Tile();
    }
    Object.defineProperty(TileComponent.prototype, "backgroundColor", {
        get: /**
         * @return {?}
         */
        function () {
            return '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "height", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.height;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "imageHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.imageHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "imageSrc", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.image.src;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "imageWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.imageWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "position", {
        get: /**
         * @return {?}
         */
        function () {
            return 'absolute';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "positionLeft", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.positionLeft;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "positionTop", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.positionTop;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TileComponent.prototype, "width", {
        get: /**
         * @return {?}
         */
        function () {
            return this.tile.width;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    TileComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    TileComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-tile',
                    template: "<div fxLayout fxLayoutAlign=\"center center\" class=\"tile\" [style.position]=\"position\" [style.top.px]=\"positionTop\" [style.left.px]=\"positionLeft\"\n  [style.background-color]=\"backgroundColor\" [style.height.px]=\"height\" [style.width.px]=\"width\">\n  <img [src]=\"imageSrc\" [style.height.px]=\"imageHeight\" [style.width.px]=\"imageWidth\">\n</div>\n",
                    styles: [""],
                    changeDetection: ChangeDetectionStrategy.OnPush
                },] },
    ];
    /** @nocollapse */
    TileComponent.ctorParameters = function () { return []; };
    TileComponent.propDecorators = {
        tile: [{ type: Input }]
    };
    return TileComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var TileModule = /** @class */ (function () {
    function TileModule() {
    }
    TileModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                    ],
                    declarations: [
                        TileComponent,
                    ],
                    exports: [
                        TileComponent,
                    ]
                },] },
    ];
    return TileModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var CollageModule = /** @class */ (function () {
    function CollageModule() {
    }
    CollageModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        TileModule,
                    ],
                    declarations: [
                        CollageComponent,
                    ],
                    exports: [
                        CollageComponent,
                    ]
                },] },
    ];
    return CollageModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DateRange = /** @class */ (function () {
    function DateRange() {
        this.startDate = new Date();
        this.endDate = new Date();
    }
    return DateRange;
}());
var DateHelper = /** @class */ (function () {
    function DateHelper() {
    }
    /**
     * @param {?} startDate
     * @param {?} startHours
     * @param {?} startMinutes
     * @param {?} startMeridian
     * @return {?}
     */
    DateHelper.BuildStartTime = /**
     * @param {?} startDate
     * @param {?} startHours
     * @param {?} startMinutes
     * @param {?} startMeridian
     * @return {?}
     */
    function (startDate, startHours, startMinutes, startMeridian) {
        var /** @type {?} */ startTime = new Date(startDate);
        var /** @type {?} */ hours = startMeridian === 'AM' ? startHours : startHours + 12;
        startTime.setHours(hours);
        startTime.setMinutes(startMinutes);
        return startTime;
    };
    /**
     * @param {?} startTime
     * @param {?} dHours
     * @param {?} dMinutes
     * @return {?}
     */
    DateHelper.BuildEndTime = /**
     * @param {?} startTime
     * @param {?} dHours
     * @param {?} dMinutes
     * @return {?}
     */
    function (startTime, dHours, dMinutes) {
        var /** @type {?} */ endTime = new Date(startTime);
        endTime.setHours(endTime.getHours() + dHours);
        endTime.setMinutes(endTime.getMinutes() + dMinutes);
        return endTime;
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.FormatDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        return month && day && year ? [month, day, year].join('/') : null;
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.FormatDateDashes = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [year, month, day].join('-');
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.FormatDateSlashes = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [month, day, year].join('/');
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.TimeAgo = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        if (!date) {
            return '';
        }
        var /** @type {?} */ seconds = Math.floor(((new Date()).getTime() - (new Date(date)).getTime()) / 1000);
        var /** @type {?} */ interval = Math.floor(seconds / 31536000);
        if (interval > 1) {
            return interval + ' years';
        }
        interval = Math.floor(seconds / 2592000);
        if (interval > 1) {
            return interval + ' months';
        }
        interval = Math.floor(seconds / 86400);
        if (interval > 1) {
            return interval + ' days';
        }
        interval = Math.floor(seconds / 3600);
        if (interval > 1) {
            return interval + ' hours';
        }
        interval = Math.floor(seconds / 60);
        if (interval > 1) {
            return interval + ' minutes';
        }
        return Math.floor(seconds) + ' seconds';
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthName = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        return DateHelper.MonthNames[date.getMonth()];
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthNumber = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        return date.getMonth() + 1;
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.ToMonthNumberFromMonthYear = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ month = monthYear.substr(monthYear.length - 2);
        return toInt(month) - 1;
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.ToMonthNumberFromMonthYearName = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ parts = monthYear.split(/\s*,\s*/);
        var /** @type {?} */ month = DateHelper.MonthNumbers[parts[0]];
        return month;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthYear = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        var /** @type {?} */ monthNumber = DateHelper.ToMonthNumber(date);
        var /** @type {?} */ month = monthNumber < 10 ? "0" + monthNumber : monthNumber;
        return date.getFullYear() + "-" + month;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthYearName = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        var /** @type {?} */ month = DateHelper.ToMonthName(date);
        var /** @type {?} */ year = date.getFullYear();
        return month && year ? month + " " + year : '';
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.ToYearNumberFromMonthYear = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ year = monthYear.substring(0, 4);
        return toInt(year);
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.FromMonthYear = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ year = DateHelper.ToYearNumberFromMonthYear(monthYear);
        var /** @type {?} */ month = DateHelper.ToMonthNumberFromMonthYear(monthYear);
        return year && month ? new Date(year, month) : new Date();
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.IsDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        return Object.prototype.toString.call(date) === '[object Date]';
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.IsValidDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ dateWrapper = new Date(date);
        return !isNaN(dateWrapper.getDate());
    };
    Object.defineProperty(DateHelper, "Today", {
        get: /**
         * @return {?}
         */
        function () {
            return new Date();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "Month", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Today.getMonth();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "MonthNumbers", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.MonthNames.reduce(function (acc, x, i) {
                return Object.assign({}, acc, (_a = {}, _a[x] = i, _a));
                var _a;
            });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "Year", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Today.getFullYear();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "NextSchoolYear", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "NextSchoolYearStartDate", {
        get: /**
         * @return {?}
         */
        function () {
            return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousSchoolYear", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousSchoolYearEndDate", {
        get: /**
         * @return {?}
         */
        function () {
            return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "FutureDate", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ date = DateHelper.Today;
            return DateHelper.AddDays(date, 100000);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PastDate", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ date = DateHelper.Today;
            return DateHelper.SubtractDays(date, 100000);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    DateHelper.AddDays = /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    function (d, days) {
        var /** @type {?} */ date = new Date(d);
        date.setDate(date.getDate() + days);
        return date;
    };
    /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    DateHelper.SubtractDays = /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    function (d, days) {
        var /** @type {?} */ date = new Date(d);
        date.setDate(date.getDate() - days);
        return date;
    };
    /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @return {?}
     */
    DateHelper.BuildDate = /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @return {?}
     */
    function (year, month, day) {
        var /** @type {?} */ date = new Date();
        date.setFullYear(year);
        date.setMonth(month);
        date.setDate(day);
        return date;
    };
    /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    DateHelper.DateChanged = /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    function (d1, d2) {
        var /** @type {?} */ date1 = new Date(d1);
        var /** @type {?} */ date2 = new Date(d2);
        return date1.getDate() !== date2.getDate() || date1.getMonth() !== date2.getMonth() || date1.getFullYear() !== date2.getFullYear();
    };
    /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    DateHelper.IsSameDay = /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    function (d1, d2) {
        return !DateHelper.DateChanged(d1, d2);
    };
    Object.defineProperty(DateHelper, "YearStartDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year, 6, 1);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousYearStartDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} year
     * @return {?}
     */
    DateHelper.SchoolYearStart = /**
     * @param {?} year
     * @return {?}
     */
    function (year) {
        return DateHelper.BuildDate(year, 6, 1);
    };
    Object.defineProperty(DateHelper, "YearEndDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year, 5, 30);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousYearEndDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year, 5, 30);
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?=} year
     * @return {?}
     */
    DateHelper.SchoolYearEnd = /**
     * @param {?=} year
     * @return {?}
     */
    function (year) {
        return DateHelper.BuildDate(year - 1, 5, 30);
    };
    /**
     * @param {?} dateRangeId
     * @return {?}
     */
    DateHelper.BuildDateRange = /**
     * @param {?} dateRangeId
     * @return {?}
     */
    function (dateRangeId) {
        var /** @type {?} */ startDate;
        var /** @type {?} */ endDate;
        switch (dateRangeId) {
            case 0:
                break;
            case 1:
                break;
            case 2:
                // Today
                startDate = DateHelper.Today;
                endDate = startDate;
                break;
            case 3:
                // Next 15
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 15);
                break;
            case 4:
                // Next 30
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 30);
                break;
            case 5:
                // Next 60
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 60);
                break;
            case 6:
                // Previous 15
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 15);
                break;
            case 7:
                // Previous 30
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 30);
                break;
            case 8:
                // Previous 60
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 60);
                break;
            case 9:
                // School Year - Runs from July 1st Thru June 30th
                startDate = DateHelper.YearStartDate;
                endDate = DateHelper.YearEndDate;
                break;
            case 10:
                // Number of meetings = 10
                startDate = DateHelper.Today;
                endDate = DateHelper.FutureDate;
                break;
            case 11:
                // Previous School Year
                startDate = DateHelper.PreviousYearStartDate;
                endDate = DateHelper.PreviousYearEndDate;
                break;
        }
        return build(DateRange, { startDate: startDate, endDate: endDate });
    };
    DateHelper.MonthNames = [
        'January',
        'February',
        'March',
        'April',
        'May',
        'June',
        'July',
        'August',
        'September',
        'October',
        'November',
        'December'
    ];
    return DateHelper;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ DATEPICKER_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(function () { return DatepickerComponent; }),
    multi: true
};
var DatepickerComponent = /** @class */ (function () {
    function DatepickerComponent() {
        this.placeholder = 'Choose a date';
        this.startView = 'month';
        this.selectedChanged = new EventEmitter();
    }
    Object.defineProperty(DatepickerComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._value = val;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} fn
     * @return {?}
     */
    DatepickerComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    DatepickerComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouch = fn;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DatepickerComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DatepickerComponent.prototype.onChange = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
        if (this.onModelChange) {
            this.onModelChange(value);
        }
    };
    /**
     * @param {?} input
     * @return {?}
     */
    DatepickerComponent.prototype.onBlur = /**
     * @param {?} input
     * @return {?}
     */
    function (input) {
        var /** @type {?} */ date = new Date(input.value);
        if (DateHelper.IsValidDate(date)) {
            this.changeSelected(date);
        }
        else {
            input.value = DateHelper.FormatDate(this.value);
        }
    };
    Object.defineProperty(DatepickerComponent.prototype, "id", {
        get: /**
         * @return {?}
         */
        function () {
            return this.datepicker.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DatepickerComponent.prototype, "opened", {
        get: /**
         * @return {?}
         */
        function () {
            return this.datepicker.opened;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    DatepickerComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.startAt = this.value;
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DatepickerComponent.prototype.changeSelected = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        this.onChange(date);
        this.selectedChanged.emit(date);
    };
    /**
     * @return {?}
     */
    DatepickerComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.datepicker.close();
    };
    /**
     * @return {?}
     */
    DatepickerComponent.prototype.open = /**
     * @return {?}
     */
    function () {
        this.datepicker.open();
    };
    DatepickerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-datepicker',
                    template: "<mat-form-field>\n  <input matInput [placeholder]=\"placeholder\" [matDatepicker]=\"picker\" (blur)=\"onBlur(pickerInput)\" (change)=\"onChange(value)\"\n    [min]=\"min\" [max]=\"max\" [value]=\"value\" #pickerInput>\n  <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n  <mat-datepicker #picker [startAt]=\"startAt\" [startView]=\"startView\" [touchUi]=\"touchUi\" (selectedChanged)=\"changeSelected($event)\"></mat-datepicker>\n</mat-form-field>",
                    styles: [".mat-input-container{float:left}"],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [DATEPICKER_ACCESSOR]
                },] },
    ];
    /** @nocollapse */
    DatepickerComponent.ctorParameters = function () { return []; };
    DatepickerComponent.propDecorators = {
        min: [{ type: Input }],
        max: [{ type: Input }],
        placeholder: [{ type: Input }],
        startAt: [{ type: Input }],
        startView: [{ type: Input }],
        touchUi: [{ type: Input }],
        selectedChanged: [{ type: Output }],
        datepicker: [{ type: ViewChild, args: ['picker',] }],
        value: [{ type: Input }]
    };
    return DatepickerComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ DATERANGE_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(function () { return DaterangeComponent; }),
    multi: true
};
var DaterangeComponent = /** @class */ (function () {
    function DaterangeComponent(changeDetectorRef) {
        this.changeDetectorRef = changeDetectorRef;
        this.inline = false;
        this.startLabel = 'Start Date';
        this.endLabel = 'End Date';
        this.startDateChanged = new EventEmitter();
        this.endDateChanged = new EventEmitter();
        this._value = new DateRange();
        this.focused = new DateRange();
    }
    Object.defineProperty(DaterangeComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._value = val;
            if (this && this.changeDetectorRef && !this.changeDetectorRef['destroyed']) {
                this.changeDetectorRef.detectChanges();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "startDateId", {
        get: /**
         * @return {?}
         */
        function () {
            return this.startDatepicker.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "startDateOpened", {
        get: /**
         * @return {?}
         */
        function () {
            return this.startDatepicker.opened;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "endDateId", {
        get: /**
         * @return {?}
         */
        function () {
            return this.endDatepicker.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "endDateOpened", {
        get: /**
         * @return {?}
         */
        function () {
            return this.endDatepicker.opened;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "startDateValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this.value.startDate;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.changeStartDate(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "endDateValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this.value.endDate;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.changeEndDate(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} date
     * @return {?}
     */
    DaterangeComponent.prototype.changeStartDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        this.onChange(build(DateRange, {
            endDate: this.value.endDate,
            startDate: date
        }));
        this.startDateChanged.emit(date);
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.closeStartDate = /**
     * @return {?}
     */
    function () {
        this.startDatepicker.close();
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.openStateDate = /**
     * @return {?}
     */
    function () {
        this.startDatepicker.open();
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DaterangeComponent.prototype.changeEndDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        this.onChange(build(DateRange, {
            endDate: date,
            startDate: this.value.startDate
        }));
        this.endDateChanged.emit(date);
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.closeEndDate = /**
     * @return {?}
     */
    function () {
        this.endDatepicker.close();
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.openEndDate = /**
     * @return {?}
     */
    function () {
        this.endDatepicker.open();
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    DaterangeComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    DaterangeComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouch = fn;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.onChange = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
        if (this.onModelChange) {
            this.onModelChange(value);
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.onBlur = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.onFocus = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.focused = value;
        if (this.onTouch) {
            this.onTouch();
        }
    };
    DaterangeComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-daterange',
                    template: "<div class=\"daterange\">\n  <div class=\"start-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\n    <label class=\"lbl-date iu-primary\">{{ startLabel }}:</label>\n    <iu-datepicker #startDate (selectedChanged)=\"changeStartDate($event)\" [value]=\"startDateValue\"></iu-datepicker>\n  </div>\n  <div class=\"end-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\n    <label class=\"lbl-date iu-primary\">{{ endLabel }}:</label>\n    <iu-datepicker #endDate (selectedChanged)=\"changeEndDate($event)\" [value]=\"endDateValue\"></iu-datepicker>\n  </div>\n</div>\n",
                    styles: [".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{width:76px;display:inline-block;font-size:14px;padding-top:22px}"],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [DATERANGE_ACCESSOR]
                },] },
    ];
    /** @nocollapse */
    DaterangeComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    DaterangeComponent.propDecorators = {
        inline: [{ type: Input }],
        min: [{ type: Input }],
        max: [{ type: Input }],
        startAt: [{ type: Input }],
        startLabel: [{ type: Input }],
        endLabel: [{ type: Input }],
        startView: [{ type: Input }],
        touchUi: [{ type: Input }],
        startDateChanged: [{ type: Output }],
        endDateChanged: [{ type: Output }],
        startDatepicker: [{ type: ViewChild, args: ['startDate',] }],
        endDatepicker: [{ type: ViewChild, args: ['endDate',] }],
        value: [{ type: Input }]
    };
    return DaterangeComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DatepickerModule = /** @class */ (function () {
    function DatepickerModule() {
    }
    DatepickerModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        MatDatepickerModule,
                        MatNativeDateModule,
                        MatInputModule,
                    ],
                    declarations: [
                        DatepickerComponent,
                        DaterangeComponent,
                    ],
                    exports: [
                        DatepickerComponent,
                        DaterangeComponent,
                    ]
                },] },
    ];
    return DatepickerModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DialogModel = /** @class */ (function () {
    function DialogModel() {
        this.title = ' ';
        this.actions = [];
        /**
         * Whether the dialog has a backdrop.
         */
        this.hasBackdrop = true;
        /**
         * Whether the user can use escape or clicking outside to close a modal.
         */
        this.disableClose = false;
    }
    Object.defineProperty(DialogModel.prototype, "config", {
        get: /**
         * @return {?}
         */
        function () {
            return {
                viewContainerRef: this.viewContainerRef,
                role: this.role,
                panelClass: this.panelClass,
                hasBackdrop: this.hasBackdrop,
                backdropClass: this.backdropClass,
                disableClose: this.disableClose,
                width: this.width,
                height: this.height,
                position: this.position,
                data: this.data,
                direction: this.direction
            };
        },
        enumerable: true,
        configurable: true
    });
    return DialogModel;
}());
var DialogAction = /** @class */ (function () {
    function DialogAction() {
        this.value = null;
        this.label = '';
        this.color = 'accent';
    }
    return DialogAction;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DialogComponent = /** @class */ (function () {
    function DialogComponent() {
        this.model = new DialogModel();
        this.showActions = true;
        this.showCloseAction = false;
        this.showCloseIcon = true;
        this.defaultActionColor = 'accent';
    }
    Object.defineProperty(DialogComponent.prototype, "actions", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.actions;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DialogComponent.prototype, "actionWidth", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ actionsCount = Math.max(this.actions.length, 1);
            return 100 / actionsCount + "%";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DialogComponent.prototype, "title", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.title;
        },
        enumerable: true,
        configurable: true
    });
    DialogComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-dialog',
                    template: "<mat-toolbar color=\"primary\" mat-dialog-title>\n  <span class=\"dialog-title\">\n    {{ title }}\n    <button *ngIf=\"showCloseIcon\" mat-button [mat-dialog-close]=\"null\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </span>\n</mat-toolbar>\n<mat-dialog-content class=\"scrollable\">\n  <ng-content></ng-content>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf=\"showActions && actions.length > 0\">\n  <button *ngFor=\"let action of actions\" mat-raised-button [mat-dialog-close]=\"action.value\" [style.width]=\"actionWidth\" [style.color]=\"action.color\">{{ action.label }}</button>\n</mat-dialog-actions>\n<mat-dialog-actions *ngIf=\"showCloseAction && actions.length === 0\">\n  <button mat-raised-button mat-dialog-close=\"close\" [style.width]=\"actionWidth\" [style.color]=\"defaultActionColor\">Close</button>\n</mat-dialog-actions>\n",
                    styles: ["iu-dialog .mat-toolbar{margin:-24px -24px 0;width:calc(100% + 48px);min-height:32px}iu-dialog .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}iu-dialog .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}iu-dialog .mat-toolbar .dialog-title button:hover,iu-dialog .mat-toolbar .dialog-title button:hover mat-icon{font-weight:700}iu-dialog .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}iu-dialog .mat-toolbar-row{height:48px}iu-dialog .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}iu-dialog .mat-dialog-actions button{padding:12px 0}iu-dialog .mat-dialog-actions .mat-accent{color:#fff!important}"],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    DialogComponent.ctorParameters = function () { return []; };
    DialogComponent.propDecorators = {
        model: [{ type: Input }],
        showActions: [{ type: Input }],
        showCloseAction: [{ type: Input }],
        showCloseIcon: [{ type: Input }],
        defaultActionColor: [{ type: Input }]
    };
    return DialogComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DialogModule = /** @class */ (function () {
    function DialogModule() {
    }
    DialogModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        MatDialogModule,
                        MatIconModule,
                        MatToolbarModule,
                    ],
                    declarations: [
                        DialogComponent,
                    ],
                    exports: [
                        DialogComponent,
                    ]
                },] },
    ];
    return DialogModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var FileUpload = /** @class */ (function () {
    function FileUpload() {
        this.lastModified = 0;
        this.lastModifiedDate = new Date();
        this.name = '';
        this.size = 0;
        this.type = '';
        this.webkitRelativePath = '';
        this.order = 0;
        this.readyState = 'EMPTY';
        this.src = '';
    }
    /**
     * @param {?} file
     * @return {?}
     */
    FileUpload.BuildFromFile = /**
     * @param {?} file
     * @return {?}
     */
    function (file) {
        return build(FileUpload, {
            name: file.fileName,
            size: file.fileSize,
            type: file.mimeType,
            src: file.src,
            order: file.order
        });
    };
    /**
     * @param {?} reader
     * @return {?}
     */
    FileUpload.GetReadyState = /**
     * @param {?} reader
     * @return {?}
     */
    function (reader) {
        switch (reader.readyState) {
            case 0:
                return 'EMPTY';
            case 1:
                return 'LOADING';
            case 2:
                return 'DONE';
            default:
                return 'EMPTY';
        }
    };
    Object.defineProperty(FileUpload.prototype, "extension", {
        get: /**
         * @return {?}
         */
        function () {
            return this.name.split('.').pop();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUpload.prototype, "isImage", {
        get: /**
         * @return {?}
         */
        function () {
            return this.type.split('/')[0] === 'image';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUpload.prototype, "loading", {
        get: /**
         * @return {?}
         */
        function () {
            return this.readyState === 'LOADING';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUpload.prototype, "file", {
        get: /**
         * @return {?}
         */
        function () {
            return File.BuildFromFileUpload(this);
        },
        enumerable: true,
        configurable: true
    });
    return FileUpload;
}());
/**
 * @param {?} reader
 * @return {?}
 */
function getReadyState(reader) {
    switch (reader.readyState) {
        case 0:
            return 'EMPTY';
        case 1:
            return 'LOADING';
        case 2:
            return 'DONE';
        default:
            return 'EMPTY';
    }
}
var File = /** @class */ (function () {
    function File() {
        this.id = 0;
        this.fileBinary = [];
        this.fileExtension = '';
        this.fileName = '';
        this.fileSize = 0;
        this.mimeType = '';
        this.order = 0;
    }
    /**
     * @param {?} upload
     * @return {?}
     */
    File.BuildFromFileUpload = /**
     * @param {?} upload
     * @return {?}
     */
    function (upload) {
        return build(File, {
            fileBinary: upload.src.replace(File.GetSrcPrefix(upload.type), ''),
            fileExtension: upload.extension,
            fileName: upload.name,
            fileSize: upload.size,
            mimeType: upload.type,
            order: upload.order
        });
    };
    /**
     * @param {?} img
     * @param {?=} defaultSrc
     * @return {?}
     */
    File.GetImageBinarySrc = /**
     * @param {?} img
     * @param {?=} defaultSrc
     * @return {?}
     */
    function (img, defaultSrc) {
        if (defaultSrc === void 0) { defaultSrc = ''; }
        if (Array.isArray(img)) {
            if (img.length > 0) {
                return "data:" + img[0].mimeType + ";base64," + img[0].fileBinary;
            }
            else {
                return defaultSrc;
            }
        }
        return img && img.mimeType && img.fileBinary ? "data:" + img.mimeType + ";base64," + img.fileBinary : defaultSrc;
    };
    /**
     * @param {?} mimeType
     * @return {?}
     */
    File.GetSrcPrefix = /**
     * @param {?} mimeType
     * @return {?}
     */
    function (mimeType) {
        return "data:" + mimeType + ";base64,";
    };
    Object.defineProperty(File.prototype, "src", {
        // get fileUpload(): FileUpload {
        //     return FileUpload.BuildFromFile(this);
        // }
        get: /**
         * @return {?}
         */
        function () {
            return File.GetImageBinarySrc(this);
        },
        enumerable: true,
        configurable: true
    });
    return File;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var  /**
 * @template T
 */
Permutation = /** @class */ (function () {
    function Permutation(order) {
        this.order = order;
        this._timestamp = new Date();
    }
    Object.defineProperty(Permutation.prototype, "ranks", {
        get: /**
         * @return {?}
         */
        function () {
            return this.order.sort(function (a, b) { return a.order - b.order; })
                .map(function (x, index) { return Object.assign(/** @type {?} */ ({}), x, { rank: index + 1 }); });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Permutation.prototype, "timestamp", {
        get: /**
         * @return {?}
         */
        function () {
            return this._timestamp;
        },
        enumerable: true,
        configurable: true
    });
    return Permutation;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
OrderedItem = /** @class */ (function () {
    function OrderedItem(item) {
        this.item = item;
    }
    return OrderedItem;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
Ordering = /** @class */ (function () {
    function Ordering(_items, ctor, orderKey, idKey) {
        if (idKey === void 0) { idKey = 'id'; }
        this._items = _items;
        this.ctor = ctor;
        this.orderKey = orderKey;
        this.idKey = idKey;
        this._history = [];
    }
    Object.defineProperty(Ordering.prototype, "count", {
        get: /**
         * @return {?}
         */
        function () {
            return this.items.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "history", {
        get: /**
         * @return {?}
         */
        function () {
            return this._history;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "instance", {
        get: /**
         * @return {?}
         */
        function () {
            return new this.ctor();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "items", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return this._items.sort(function (a, b) { return _this.getItemOrder(a) - _this.getItemOrder(b); });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "maxIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this.count === 0 ? 0 : Math.max.apply(Math, __spread(this.order.map(function (x) { return x.order; })));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "order", {
        get: /**
         * @return {?}
         */
        function () {
            return this.permutation.ranks;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "permutation", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return new Permutation(this.items.map(function (item) { return ({
                id: _this.getItemId(item),
                order: _this.getItemOrder(item)
            }); }));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Ordering.prototype, "nextPosition", {
        get: /**
         * @return {?}
         */
        function () {
            return this.maxIndex + 1;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} item
     * @return {?}
     */
    Ordering.prototype.addItem = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.addItemAtPosition(item, this.nextPosition);
    };
    /**
     * @param {?} item
     * @param {?} pos
     * @return {?}
     */
    Ordering.prototype.addItemAtPosition = /**
     * @param {?} item
     * @param {?} pos
     * @return {?}
     */
    function (item, pos) {
        var _this = this;
        var /** @type {?} */ newItemId = this.getItemId(item);
        return __spread(this.items, [build(this.ctor, item, { order: pos })]).map(function (x) {
            var /** @type {?} */ order = _this.getItemOrder(x);
            var /** @type {?} */ id = _this.getItemId(x);
            return (order <= pos || id === newItemId) ? x : build(_this.ctor, x, { order: order + 1 });
        });
    };
    /**
     * @param {?=} items
     * @return {?}
     */
    Ordering.prototype.archive = /**
     * @param {?=} items
     * @return {?}
     */
    function (items) {
        var /** @type {?} */ permutation = items ? this.getPermutation(items) : this.permutation;
        this._history = __spread(this._history, [permutation]);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    Ordering.prototype.getItemId = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return item[this.idKey];
    };
    /**
     * @param {?} item
     * @return {?}
     */
    Ordering.prototype.getItemOrder = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return item[this.orderKey];
    };
    /**
     * @param {?} items
     * @return {?}
     */
    Ordering.prototype.getPermutation = /**
     * @param {?} items
     * @return {?}
     */
    function (items) {
        var _this = this;
        return new Permutation(items.map(function (item) { return ({
            id: _this.getItemId(item),
            order: _this.getItemOrder(item)
        }); }));
    };
    /**
     * @param {?} item
     * @param {?} to
     * @return {?}
     */
    Ordering.prototype.move = /**
     * @param {?} item
     * @param {?} to
     * @return {?}
     */
    function (item, to) {
        var _this = this;
        var /** @type {?} */ from$$1 = this.getItemOrder(item);
        var /** @type {?} */ itemId = this.getItemId(item);
        if (to === from$$1) {
            return __spread(this.items);
        }
        else if (to < from$$1) {
            return this.items.map(function (x) {
                var /** @type {?} */ order = _this.getItemOrder(x);
                var /** @type {?} */ id = _this.getItemId(x);
                return id === itemId ? build(_this.ctor, x, { order: to })
                    : (order < to || order > from$$1) ? x : build(_this.ctor, x, { order: order + 1 });
            });
        }
        else {
            // to > from
            return this.items.map(function (x) {
                var /** @type {?} */ order = _this.getItemOrder(x);
                var /** @type {?} */ id = _this.getItemId(x);
                return id === itemId ? build(_this.ctor, x, { order: to })
                    : (order < from$$1 || order > to) ? x : build(_this.ctor, x, { order: order - 1 });
            });
        }
    };
    /**
     * @param {?} item
     * @return {?}
     */
    Ordering.prototype.moveDown = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.move(item, this.getItemOrder(item) + 1);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    Ordering.prototype.moveUp = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.move(item, this.getItemOrder(item) - 1);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    Ordering.prototype.removeItem = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return this.removeItemAtPosition(this.getItemOrder(item));
    };
    /**
     * @param {?} pos
     * @return {?}
     */
    Ordering.prototype.removeItemAtPosition = /**
     * @param {?} pos
     * @return {?}
     */
    function (pos) {
        var _this = this;
        return this.items.filter(function (item) { return _this.getItemOrder(item) !== pos; })
            .map(function (x) {
            var /** @type {?} */ order = _this.getItemOrder(x);
            return order < pos ? x : build(_this.ctor, x, { order: order - 1 });
        });
    };
    /**
     * @param {?} items
     * @return {?}
     */
    Ordering.prototype.updateItems = /**
     * @param {?} items
     * @return {?}
     */
    function (items) {
        this.archive();
        this._items = items;
    };
    return Ordering;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ FILE_UPLOAD_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(function () { return FileUploadComponent; }),
    multi: true
};
var FileUploadComponent = /** @class */ (function () {
    function FileUploadComponent(ref) {
        this.ref = ref;
        this.id = "files-" + guid();
        this.multiple = false;
        this.ordered = true;
        this.preview = true;
        this.upload = new EventEmitter();
        this.changes$ = new BehaviorSubject(new FileUpload());
        this.ordering = new Ordering([], FileUpload, 'order', 'name');
    }
    Object.defineProperty(FileUploadComponent.prototype, "activeFile", {
        get: /**
         * @return {?}
         */
        function () {
            return this.hasUploads ? this.uploads[0] : new FileUpload();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUploadComponent.prototype, "hasUploads", {
        get: /**
         * @return {?}
         */
        function () {
            return this.uploads.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUploadComponent.prototype, "showMultiple", {
        get: /**
         * @return {?}
         */
        function () {
            return this.preview && this.multiple;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUploadComponent.prototype, "uploads", {
        get: /**
         * @return {?}
         */
        function () {
            return this.ordering.items.filter(function (upload) { return upload.name !== ''; });
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.ordering.updateItems(value.filter(function (upload) { return upload.name !== ''; }));
            this.onChange(this.uploads);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FileUploadComponent.prototype, "orderedUploads", {
        get: /**
         * @return {?}
         */
        function () {
            return this.uploads;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FileUploadComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.changes$.subscribe(function (upload) {
            _this.onUpload(upload);
        });
    };
    /**
     * @param {?} f
     * @return {?}
     */
    FileUploadComponent.prototype.add = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        if (!this.multiple && this.hasUploads) {
            this.remove();
        }
        this.uploads = this.ordering.addItem(f);
    };
    /**
     * @return {?}
     */
    FileUploadComponent.prototype.emit = /**
     * @return {?}
     */
    function () {
        if (this.value.length > 0) {
            if (this.multiple) {
                this.upload.emit(this.value);
            }
            else {
                this.upload.emit(this.value[0]);
            }
        }
    };
    /**
     * @param {?} f
     * @return {?}
     */
    FileUploadComponent.prototype.moveUp = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        this.uploads = this.ordering.moveUp(f);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    FileUploadComponent.prototype.moveDown = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        this.uploads = this.ordering.moveDown(f);
    };
    /**
     * @param {?=} f
     * @return {?}
     */
    FileUploadComponent.prototype.remove = /**
     * @param {?=} f
     * @return {?}
     */
    function (f) {
        var /** @type {?} */ removeFile = f || this.activeFile;
        this.uploads = this.ordering.removeItem(removeFile);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    FileUploadComponent.prototype.update = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        var /** @type {?} */ index = this.uploads.findIndex(function (item) { return item['name'] === f.name; });
        if (index === -1) {
            this.add(f);
        }
        else {
            this.uploads = this.uploads.map(function (x, i) { return i === index ? build(FileUpload, f, { order: x.order }) : x; });
            this.ref.detectChanges();
        }
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    FileUploadComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    FileUploadComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouch = fn;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FileUploadComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
        this.uploadAll(value);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FileUploadComponent.prototype.onChange = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!equals(this.value, value)) {
            this.value = value;
            if (value.every(function (x) { return x.readyState === 'DONE'; })) {
                this.emit();
            }
            if (this.onModelChange) {
                this.onModelChange(value);
            }
        }
    };
    /**
     * @param {?} e
     * @return {?}
     */
    FileUploadComponent.prototype.onInputChange = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        var /** @type {?} */ input = event.target;
        var /** @type {?} */ files = input['files'];
        if (files && files.length > 0) {
            for (var /** @type {?} */ i = 0; i < files.length; i++) {
                this.setupReader(files[i]);
            }
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FileUploadComponent.prototype.onBlur = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.focused = [];
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FileUploadComponent.prototype.onFocus = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.focused = value;
        this.onTouch();
    };
    /**
     * @param {?} upload
     * @return {?}
     */
    FileUploadComponent.prototype.onUpload = /**
     * @param {?} upload
     * @return {?}
     */
    function (upload) {
        var /** @type {?} */ f = build(FileUpload, upload);
        this.update(f);
    };
    /**
     * @param {?} file
     * @return {?}
     */
    FileUploadComponent.prototype.setupReader = /**
     * @param {?} file
     * @return {?}
     */
    function (file) {
        var /** @type {?} */ reader = new FileReader();
        var /** @type {?} */ changes$ = this.changes$;
        var /** @type {?} */ upload = build(FileUpload, {
            lastModified: file['lastModified'],
            lastModifiedDate: file['lastModifiedDate'],
            name: file['name'],
            size: file['size'],
            type: file['type'],
            webkitRelativePath: file['webkitRelativePath']
        });
        reader.onload = function (e) {
            var /** @type {?} */ src = reader.result;
            var /** @type {?} */ readyState = FileUpload.GetReadyState(reader);
            changes$.next(Object.assign(upload, { src: src, readyState: readyState }));
        };
        reader.readAsDataURL(file);
        this.onUpload(build(FileUpload, upload, { readyState: FileUpload.GetReadyState(reader) }));
    };
    /**
     * @param {?} uploads
     * @return {?}
     */
    FileUploadComponent.prototype.uploadAll = /**
     * @param {?} uploads
     * @return {?}
     */
    function (uploads) {
        var _this = this;
        uploads.forEach(function (upload) {
            _this.onUpload(upload);
        });
    };
    FileUploadComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-file-upload',
                    template: "<div class=\"file-upload\">\n  <div class=\"box\" fxLayout=\"row\" fxLayoutAlign=\"center end\">\n    <p id=\"dragdrop-message\" *ngIf=\"showMultiple\">\n      <strong>Choose files</strong>\n      <span class=\"dragndrop\"> or drag them here</span>.\n    </p>\n    <input id=\"file-upload\" *ngIf=\"showMultiple\" type=\"file\" (change)=\"onInputChange($event)\" [id]=\"id\" multiple/>\n    <p id=\"dragdrop-message\" *ngIf=\"!multiple\">\n      <strong>Choose a file</strong>\n      <span class=\"dragndrop\"> or drag it here</span>.\n    </p>\n    <input id=\"file-upload\" *ngIf=\"!multiple\" type=\"file\" (change)=\"onInputChange($event)\" [id]=\"id\" />\n    <label [for]=\"id\" class=\"custom-file-upload\">\n      <figure>\n        <mat-icon>cloud_upload</mat-icon>\n      </figure>\n    </label>\n  </div>\n  <iu-uploads *ngIf=\"multiple\" [uploads]=\"uploads\" [ordered]=\"ordered\" (moveUp)=\"moveUp($event)\" (moveDown)=\"moveDown($event)\"\n    (remove)=\"remove($event)\"></iu-uploads>\n  <iu-upload *ngIf=\"preview && !multiple && hasUploads\" [upload]=\"activeFile\" [height]=\"200\" (remove)=\"remove()\"></iu-upload>\n</div>\n",
                    styles: [".file-upload{margin:10px;padding:10px}.file-upload input[type=file]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-upload .box{padding:100px 20px;margin:10px;display:flex;outline:-webkit-focus-ring-color auto 5px;outline-offset:-10px;position:relative}.file-upload .box #dragdrop-message{position:absolute;top:60px;max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;font-size:24px}.file-upload .box #dragdrop-message span{display:inline}.file-upload .custom-file-upload{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);max-width:80%;font-size:20px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;padding:10px 20px;margin-top:50px}.file-upload .custom-file-upload figure{width:50px;height:70px;display:flex;position:relative;padding:30px;margin:0 auto 10px}.file-upload .custom-file-upload figure mat-icon{font-size:50px;height:50px;width:50px}.file-upload .custom-file-upload figure::after,.file-upload .custom-file-upload figure::before{width:0;height:0;content:'';position:absolute;top:0;right:0}.file-upload .custom-file-upload figure::before{border-left:20px solid transparent}.file-upload .custom-file-upload figure::after{border-right:20px solid transparent}"],
                    providers: [FILE_UPLOAD_ACCESSOR],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    FileUploadComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    FileUploadComponent.propDecorators = {
        id: [{ type: Input }],
        multiple: [{ type: Input }],
        ordered: [{ type: Input }],
        preview: [{ type: Input }],
        upload: [{ type: Output }]
    };
    return FileUploadComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var FilePreviewComponent = /** @class */ (function () {
    function FilePreviewComponent() {
        this.file = new FileUpload();
        this.ordered = true;
        this.first = false;
        this.last = false;
        this.moveUp = new EventEmitter();
        this.moveDown = new EventEmitter();
        this.remove = new EventEmitter();
    }
    Object.defineProperty(FilePreviewComponent.prototype, "cursorStyle", {
        get: /**
         * @return {?}
         */
        function () {
            return this.ordered ? 'move' : 'default';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilePreviewComponent.prototype, "graphic", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.file.loading) {
                return 'cloud_upload';
            }
            else if (this.file.isImage) {
                return 'image';
            }
            else {
                switch (this.file.extension) {
                    case 'pdf':
                        return 'picture_as_pdf';
                    default:
                        return 'cloud_done';
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilePreviewComponent.prototype, "showImage", {
        get: /**
         * @return {?}
         */
        function () {
            return this.graphic === 'image';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilePreviewComponent.prototype, "showUpArrow", {
        get: /**
         * @return {?}
         */
        function () {
            return this.ordered && !this.first;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilePreviewComponent.prototype, "showDownArrow", {
        get: /**
         * @return {?}
         */
        function () {
            return this.ordered && !this.last;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FilePreviewComponent.prototype.onMoveUp = /**
     * @return {?}
     */
    function () {
        this.moveUp.emit(this.file);
    };
    /**
     * @return {?}
     */
    FilePreviewComponent.prototype.onMoveDown = /**
     * @return {?}
     */
    function () {
        this.moveDown.emit(this.file);
    };
    /**
     * @return {?}
     */
    FilePreviewComponent.prototype.onRemove = /**
     * @return {?}
     */
    function () {
        this.remove.emit(this.file);
    };
    FilePreviewComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-file-preview',
                    template: "<mat-card class=\"file-preview\" [style.cursor]=\"cursorStyle\">\n  <div class=\"graphic\">\n    <img *ngIf=\"showImage\" [src]=\"file.src\" [style.height]=\"height\" [style.width]=\"width\">\n    <mat-icon *ngIf=\"!showImage\" class=\"icon-graphic\">{{ graphic }}</mat-icon>\n  </div>\n  <mat-progress-bar mode=\"indeterminate\" *ngIf=\"file.loading\"></mat-progress-bar>\n  <div class=\"file-info\">\n    <span class=\"file-name\">{{ file.name }}</span>\n  </div>\n  <mat-icon *ngIf=\"showUpArrow\" class=\"up-arrow\" (click)=\"onMoveUp()\">keyboard_arrow_up</mat-icon>\n  <mat-icon *ngIf=\"showDownArrow\" class=\"down-arrow\" (click)=\"onMoveDown()\">keyboard_arrow_down</mat-icon>\n  <mat-icon class=\"remove-upload\" (click)=\"onRemove()\">cancel</mat-icon>\n</mat-card>\n",
                    styles: [".file-preview{height:80px;margin:2px 0;position:relative}.mat-card{padding:0}.file-preview img{max-height:72px}.graphic{position:absolute;left:50px;height:72px;max-width:200px;text-align:center;padding-left:20px;overflow:hidden}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{position:absolute;left:250px;height:72px;max-width:300px;text-align:center}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:16px;height:36px;font-weight:700;color:#000}.arrow,.down-arrow,.up-arrow{cursor:pointer}.up-arrow{position:absolute;left:6px;top:0;font-size:36px;height:36px;width:36px;font-weight:700}.down-arrow{position:absolute;left:6px;top:36px;font-size:36px;height:36px;width:36px;font-weight:700}.remove-upload{cursor:pointer;position:absolute;right:10px;top:20px;font-size:40px;height:40px;width:40px}.down-arrow:hover,.up-arrow:hover{color:#fff}"]
                },] },
    ];
    /** @nocollapse */
    FilePreviewComponent.ctorParameters = function () { return []; };
    FilePreviewComponent.propDecorators = {
        file: [{ type: Input }],
        height: [{ type: Input }],
        width: [{ type: Input }],
        ordered: [{ type: Input }],
        first: [{ type: Input }],
        last: [{ type: Input }],
        moveUp: [{ type: Output }],
        moveDown: [{ type: Output }],
        remove: [{ type: Output }]
    };
    return FilePreviewComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var UploadComponent = /** @class */ (function () {
    function UploadComponent() {
        this.upload = new FileUpload();
        this.height = 200;
        this.width = 600;
        this.remove = new EventEmitter();
    }
    Object.defineProperty(UploadComponent.prototype, "graphic", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.upload.loading) {
                return 'cloud_upload';
            }
            else if (this.upload.isImage) {
                return 'image';
            }
            else {
                switch (this.upload.extension) {
                    case 'pdf':
                        return 'picture_as_pdf';
                    default:
                        return 'cloud_done';
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UploadComponent.prototype, "showImage", {
        get: /**
         * @return {?}
         */
        function () {
            return this.graphic === 'image';
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    UploadComponent.prototype.onRemove = /**
     * @return {?}
     */
    function () {
        this.remove.emit(this.upload);
    };
    UploadComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-upload',
                    template: "<div class=\"upload\" [style.height]=\"img?.style?.height\">\n  <div class=\"graphic\" #img>\n    <img *ngIf=\"showImage\" [src]=\"upload.src\" [style.max-height.px]=\"height\" [style.max-width.px]=\"width\">\n    <mat-icon *ngIf=\"!showImage\" class=\"icon-graphic\" [style.max-height.px]=\"height\" [style.max-width.px]=\"width\">{{ graphic }}</mat-icon>\n    <mat-icon *ngIf=\"!upload.loading\" class=\"remove-upload\" (click)=\"onRemove()\">cancel</mat-icon>\n  </div>\n  <mat-spinner mode=\"indeterminate\" *ngIf=\"upload.loading\"></mat-spinner>\n  <div class=\"file-info\" *ngIf=\"!upload.loading\">\n    <span class=\"file-name\">{{ upload.name }}</span>\n  </div>\n</div>\n",
                    styles: [".upload{max-height:420px;max-width:600px;margin:10px 20px;position:relative;display:flex}.upload img{max-height:400px}.graphic{padding:0!important;float:left;margin:10px;position:relative}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{float:right}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:20px;height:36px;font-weight:700;color:#000}.remove-upload{color:red;cursor:pointer;position:absolute;right:-20px;top:-20px;font-size:40px;height:40px;width:40px}"]
                },] },
    ];
    /** @nocollapse */
    UploadComponent.ctorParameters = function () { return []; };
    UploadComponent.propDecorators = {
        upload: [{ type: Input }],
        height: [{ type: Input }],
        width: [{ type: Input }],
        remove: [{ type: Output }]
    };
    return UploadComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var UploadsComponent = /** @class */ (function () {
    function UploadsComponent() {
        this.uploads = [];
        this.ordered = true;
        this.moveUp = new EventEmitter();
        this.moveDown = new EventEmitter();
        this.remove = new EventEmitter();
    }
    /**
     * @param {?} f
     * @return {?}
     */
    UploadsComponent.prototype.onMoveUp = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        this.moveUp.emit(f);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    UploadsComponent.prototype.onMoveDown = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        this.moveDown.emit(f);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    UploadsComponent.prototype.onRemove = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        this.remove.emit(f);
    };
    UploadsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-uploads',
                    template: "<div class=\"uploads\" [style.height]=\"height\" [style.width]=\"width\">\n  <iu-file-preview *ngFor=\"let upload of uploads; let first = first; let last = last;\" [file]=\"upload\" [first]=\"first\" [last]=\"last\"\n    [ordered]=\"ordered\" (moveUp)=\"onMoveUp($event)\" (moveDown)=\"onMoveDown($event)\" (remove)=\"onRemove($event)\"></iu-file-preview>\n</div>\n",
                    styles: [".uploads{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads::-webkit-scrollbar{width:12px;background-color:#424242}.uploads::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads .dragging{background-color:#424242}"],
                    changeDetection: ChangeDetectionStrategy.OnPush
                },] },
    ];
    /** @nocollapse */
    UploadsComponent.ctorParameters = function () { return []; };
    UploadsComponent.propDecorators = {
        uploads: [{ type: Input }],
        height: [{ type: Input }],
        width: [{ type: Input }],
        ordered: [{ type: Input }],
        moveUp: [{ type: Output }],
        moveDown: [{ type: Output }],
        remove: [{ type: Output }]
    };
    return UploadsComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var FileUploadModule = /** @class */ (function () {
    function FileUploadModule() {
    }
    FileUploadModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        MatCardModule,
                        MatIconModule,
                        MatProgressBarModule,
                        MatProgressSpinnerModule,
                    ],
                    declarations: [
                        FileUploadComponent,
                        FilePreviewComponent,
                        UploadComponent,
                        UploadsComponent,
                    ],
                    exports: [
                        FileUploadComponent,
                        FilePreviewComponent,
                        UploadComponent,
                        UploadsComponent,
                    ]
                },] },
    ];
    return FileUploadModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var  /**
 * @template T
 */
Collection = /** @class */ (function () {
    function Collection(ctor) {
        this.activeId = 0;
        this.metadata = {};
        this._items = {};
        if (ctor) {
            this.ctor = ctor;
        }
    }
    /**
     * @template T
     * @param {?} state
     * @param {?} key
     * @param {?} item
     * @return {?}
     */
    Collection.AddItem = /**
     * @template T
     * @param {?} state
     * @param {?} key
     * @param {?} item
     * @return {?}
     */
    function (state$$1, key, item) {
        var /** @type {?} */ newState = {};
        Object.keys(state$$1)
            .forEach(function (k) {
            newState[k] = state$$1[k];
        });
        newState[key] = item;
        return newState;
    };
    /**
     * @template T
     * @param {?} items
     * @param {?=} findByKey
     * @return {?}
     */
    Collection.BuildCollection = /**
     * @template T
     * @param {?} items
     * @param {?=} findByKey
     * @return {?}
     */
    function (items, findByKey) {
        if (findByKey === void 0) { findByKey = 'id'; }
        var /** @type {?} */ dictionary = Collection.BuildItems(items, findByKey);
        return Object.assign(new Collection(), { items: dictionary });
    };
    /**
     * @template T
     * @param {?} value
     * @param {?=} key
     * @return {?}
     */
    Collection.BuildDictionaryFromArray = /**
     * @template T
     * @param {?} value
     * @param {?=} key
     * @return {?}
     */
    function (value, key) {
        if (key === void 0) { key = 'id'; }
        var /** @type {?} */ obj = {};
        value.forEach(function (item) {
            obj[item[key]] = item;
        });
        return obj;
    };
    /**
     * @template T
     * @param {?} items
     * @param {?=} findByKey
     * @return {?}
     */
    Collection.BuildFromArray = /**
     * @template T
     * @param {?} items
     * @param {?=} findByKey
     * @return {?}
     */
    function (items, findByKey) {
        if (findByKey === void 0) { findByKey = 'id'; }
        var /** @type {?} */ dictionary = Collection.BuildItems(items, findByKey);
        return Object.assign(new Collection(), { items: dictionary });
    };
    /**
     * @template T
     * @param {?} items
     * @param {?=} findByKey
     * @return {?}
     */
    Collection.BuildItems = /**
     * @template T
     * @param {?} items
     * @param {?=} findByKey
     * @return {?}
     */
    function (items, findByKey) {
        if (findByKey === void 0) { findByKey = 'id'; }
        var /** @type {?} */ dictionary = {};
        items.forEach(function (item) {
            var /** @type {?} */ key = item[findByKey];
            dictionary[key] = item;
        });
        return dictionary;
    };
    /**
     * @template T
     * @param {?} item
     * @param {?} path
     * @return {?}
     */
    Collection.Filter = /**
     * @template T
     * @param {?} item
     * @param {?} path
     * @return {?}
     */
    function (item, path) {
        return Array.isArray(item['matches']) && inArray(item['matches'], path);
    };
    /**
     * @template T
     * @param {?} item
     * @param {?} paths
     * @return {?}
     */
    Collection.FilterAnd = /**
     * @template T
     * @param {?} item
     * @param {?} paths
     * @return {?}
     */
    function (item, paths) {
        return Array.isArray(item['matches']) && paths.every(function (path) { return inArray(item['matches'], path); });
    };
    /**
     * @template T
     * @param {?} item
     * @param {?} paths
     * @return {?}
     */
    Collection.FilterOr = /**
     * @template T
     * @param {?} item
     * @param {?} paths
     * @return {?}
     */
    function (item, paths) {
        return Array.isArray(item['matches']) && paths.some(function (path) { return inArray(item['matches'], path); });
    };
    /**
     * @template T
     * @param {?} state
     * @param {?} key
     * @return {?}
     */
    Collection.RemoveItem = /**
     * @template T
     * @param {?} state
     * @param {?} key
     * @return {?}
     */
    function (state$$1, key) {
        var /** @type {?} */ newState = {};
        Object.keys(state$$1)
            .filter(function (k) { return k !== key; })
            .forEach(function (k) {
            newState[k] = state$$1[k];
        });
        return newState;
    };
    Object.defineProperty(Collection.prototype, "active", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ item = this.items[this.activeId] || /** @type {?} */ ({});
            return this.ctor ? build(this.ctor, item) : item;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "ctor", {
        get: /**
         * @return {?}
         */
        function () {
            return this._ctor;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._ctor = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "count", {
        get: /**
         * @return {?}
         */
        function () {
            return this.toArray().length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "defaultItem", {
        get: /**
         * @return {?}
         */
        function () {
            return this.ctor ? new this.ctor() : /** @type {?} */ ({});
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "empty", {
        get: /**
         * @return {?}
         */
        function () {
            return this.toArray().length === 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "instance", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ activeId = this.activeId;
            var /** @type {?} */ ctor = this.ctor;
            var /** @type {?} */ lastUpdated = this.lastUpdated;
            var /** @type {?} */ metadata = this.metadata;
            // const collection = this.constructor();
            var /** @type {?} */ collection = new Collection();
            collection.activeId = activeId;
            collection.ctor = ctor;
            collection.lastUpdated = lastUpdated;
            collection.metadata = metadata;
            return collection;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "items", {
        get: /**
         * @return {?}
         */
        function () {
            return this._items;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._items = value;
            this.lastUpdated = new Date();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "keys", {
        get: /**
         * @return {?}
         */
        function () {
            return Object.keys(this.items);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "asArray", {
        get: /**
         * @return {?}
         */
        function () {
            return this.toArray();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Collection.prototype, "itemsArray", {
        get: /**
         * @return {?}
         */
        function () {
            return this.asArray;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Collection.prototype.toArray = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return Object.keys(this.items).map(function (key) { return (_this.items[key]); });
    };
    /**
     * @param {?} id
     * @param {?=} key
     * @return {?}
     */
    Collection.prototype.activate = /**
     * @param {?} id
     * @param {?=} key
     * @return {?}
     */
    function (id, key) {
        if (key === void 0) { key = 'id'; }
        var /** @type {?} */ items = this.items[id] ? this.copyItems() : Object.assign(this.copyItems(), (_a = {}, _a[id] = (_b = {}, _b[key] = id, _b), _a));
        return Object.assign(new Collection(), this, { activeId: id, items: items });
        var _a, _b;
    };
    /**
     * @param {?} item
     * @param {?=} key
     * @return {?}
     */
    Collection.prototype.addItem = /**
     * @param {?} item
     * @param {?=} key
     * @return {?}
     */
    function (item, key) {
        var /** @type {?} */ items = this.copyItems();
        return Object.assign(this.constructor(), this, {
            items: Object.assign(items, (_a = {}, _a[key] = item, _a))
        });
        var _a;
    };
    /**
     * @param {?} items
     * @param {?=} key
     * @return {?}
     */
    Collection.prototype.addItems = /**
     * @param {?} items
     * @param {?=} key
     * @return {?}
     */
    function (items, key) {
        var _this = this;
        if (key === void 0) { key = 'id'; }
        var /** @type {?} */ newItems = {};
        this.toArray().forEach(function (item) {
            newItems[item[key]] = item;
        });
        items.forEach(function (item) {
            var /** @type {?} */ existingItem = newItems[item[key]] ? newItems[item[key]] : /** @type {?} */ ({});
            var /** @type {?} */ existingMatches = existingItem['matches'] || [];
            var /** @type {?} */ newMatches = item['matches'] || [];
            var /** @type {?} */ matches = arrayUnion(existingMatches, newMatches);
            var /** @type {?} */ newItem = _this.buildItem(item, { matches: matches });
            newItems[item[key]] = _this.buildItem(existingItem, newItem);
        });
        this.items = newItems;
        return Object.assign(new Collection(), this);
    };
    /**
     * @param {?} items
     * @param {?=} ctor
     * @return {?}
     */
    Collection.prototype.build = /**
     * @param {?} items
     * @param {?=} ctor
     * @return {?}
     */
    function (items, ctor) {
        return ctor ? build(ctor, { items: items })
            : /** @type {?} */ (Object.assign(this.instance, { items: items }));
    };
    /**
     * @param {?} existingItem
     * @param {?} newItem
     * @param {?=} ctor
     * @return {?}
     */
    Collection.prototype.buildItem = /**
     * @param {?} existingItem
     * @param {?} newItem
     * @param {?=} ctor
     * @return {?}
     */
    function (existingItem, newItem, ctor) {
        var /** @type {?} */ existing = existingItem || {};
        var /** @type {?} */ item = ctor ? build(ctor, existing, newItem)
            : this.ctor ? build(this.ctor, existing, newItem)
                : Object.assign({}, existing, newItem);
        return item;
    };
    /**
     * @param {?} items
     * @param {?=} ctor
     * @return {?}
     */
    Collection.prototype.buildItems = /**
     * @param {?} items
     * @param {?=} ctor
     * @return {?}
     */
    function (items, ctor) {
        var /** @type {?} */ factory = ctor ? ctor : this.ctor;
        return items.map(function (x) { return factory ? build(factory, x) : Object.assign(/** @type {?} */ ({}), x); });
    };
    /**
     * @return {?}
     */
    Collection.prototype.copyItems = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return Object.keys(this.items)
            .reduce(function (acc, key) {
            acc[key] = _this.get(key);
            return acc;
        }, {});
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Collection.prototype.delete = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this.removeAt(key);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    Collection.prototype.filter = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        var /** @type {?} */ items = Collection.BuildDictionaryFromArray(this.toArray().filter(f));
        return Object.assign(new Collection(), this, { items: items });
    };
    /**
     * @param {?} f
     * @return {?}
     */
    Collection.prototype.filterBy = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        return this.filterItems(f);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    Collection.prototype.filterItems = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        return this.toArray().filter(f);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    Collection.prototype.findBy = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        return this.asArray.find(f) || this.defaultItem;
    };
    /**
     * @param {?} id
     * @return {?}
     */
    Collection.prototype.get = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        var /** @type {?} */ existing = this.items[id];
        return this.ctor ? build(this.ctor, existing)
            : Object.assign(/** @type {?} */ ({}), existing);
    };
    /**
     * @param {?} f
     * @return {?}
     */
    Collection.prototype.map = /**
     * @param {?} f
     * @return {?}
     */
    function (f) {
        var /** @type {?} */ items = Collection.BuildDictionaryFromArray(this.toArray().map(f));
        return Object.assign(new Collection(), this, { items: items });
    };
    /**
     * @param {?} path
     * @return {?}
     */
    Collection.prototype.query = /**
     * @param {?} path
     * @return {?}
     */
    function (path) {
        return this.toArray().filter(function (item) { return Collection.Filter(item, path); });
    };
    /**
     * @param {?} paths
     * @return {?}
     */
    Collection.prototype.queryAnd = /**
     * @param {?} paths
     * @return {?}
     */
    function (paths) {
        return this.toArray().filter(function (item) { return Collection.FilterAnd(item, paths); });
    };
    /**
     * @param {?} paths
     * @return {?}
     */
    Collection.prototype.queryOr = /**
     * @param {?} paths
     * @return {?}
     */
    function (paths) {
        return this.toArray().filter(function (item) { return Collection.FilterOr(item, paths); });
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Collection.prototype.removeAt = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        var _this = this;
        var /** @type {?} */ keys = Object.keys(this.items);
        var /** @type {?} */ items = Collection.BuildDictionaryFromArray(keys.filter(function (x) { return x.toString() !== key.toString(); }).map(function (y) { return _this.items[y]; }));
        return Object.assign(new Collection(), this, { items: items });
    };
    /**
     * @param {?} key
     * @return {?}
     */
    Collection.prototype.removeItem = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        var _this = this;
        var /** @type {?} */ collection = this.constructor();
        var /** @type {?} */ keys = Object.keys(this.items).filter(function (k) { return k !== key; });
        keys.forEach(function (k) {
            collection.items[k] = /** @type {?} */ (Object.assign({}, _this.items[k]));
        });
        return collection;
    };
    /**
     * @param {?} filter
     * @param {?=} key
     * @return {?}
     */
    Collection.prototype.removeItems = /**
     * @param {?} filter
     * @param {?=} key
     * @return {?}
     */
    function (filter$$1, key) {
        if (key === void 0) { key = 'id'; }
        var /** @type {?} */ keys = this.toArray().filter(filter$$1).map(function (x) { return x[key]; });
        this.removeKeys(keys);
    };
    /**
     * @param {?} keys
     * @return {?}
     */
    Collection.prototype.removeKeys = /**
     * @param {?} keys
     * @return {?}
     */
    function (keys) {
        var _this = this;
        keys.forEach(function (key) {
            _this.removeItem(key);
        });
    };
    /**
     * @param {?} itemsArray
     * @return {?}
     */
    Collection.prototype.replace = /**
     * @param {?} itemsArray
     * @return {?}
     */
    function (itemsArray) {
        var /** @type {?} */ items = Collection.BuildDictionaryFromArray(this.buildItems(itemsArray));
        return Object.assign(new Collection(), this, { items: items });
    };
    /**
     * @param {?} items
     * @param {?=} filter
     * @return {?}
     */
    Collection.prototype.replaceItems = /**
     * @param {?} items
     * @param {?=} filter
     * @return {?}
     */
    function (items, filter$$1) {
        if (filter$$1) {
            var /** @type {?} */ f = function (x) { return !filter$$1(x); };
            return this.replaceItems(__spread(this.filterItems(f), items));
        }
        return Object.assign(new Collection(), this, { items: items });
    };
    /**
     * @param {?} value
     * @return {?}
     */
    Collection.prototype.setValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Object.assign(new Collection(), this, value);
    };
    /**
     * @param {?} value
     * @param {?=} ctor
     * @param {?=} key
     * @return {?}
     */
    Collection.prototype.update = /**
     * @param {?} value
     * @param {?=} ctor
     * @param {?=} key
     * @return {?}
     */
    function (value, ctor, key) {
        if (key === void 0) { key = 'id'; }
        if (Array.isArray(value)) {
            return this.updateItems(value, ctor, key);
        }
        return this.updateItem(value, value[key], ctor);
    };
    /**
     * @param {?} item
     * @param {?} key
     * @param {?=} ctor
     * @return {?}
     */
    Collection.prototype.updateItem = /**
     * @param {?} item
     * @param {?} key
     * @param {?=} ctor
     * @return {?}
     */
    function (item, key, ctor) {
        var /** @type {?} */ items = this.copyItems();
        var /** @type {?} */ updatedItem = this.buildItem(items[key], item, ctor);
        return this.build(Object.assign(items, (_a = {}, _a[key] = updatedItem, _a)));
        var _a;
    };
    /**
     * @param {?} items
     * @param {?=} ctor
     * @param {?=} key
     * @return {?}
     */
    Collection.prototype.updateItems = /**
     * @param {?} items
     * @param {?=} ctor
     * @param {?=} key
     * @return {?}
     */
    function (items, ctor, key) {
        var _this = this;
        if (key === void 0) { key = 'id'; }
        var /** @type {?} */ existingItems = this.copyItems();
        var /** @type {?} */ updatedItems = items.reduce(function (acc, item) {
            var /** @type {?} */ existingItem = acc[item[key]];
            acc[item[key]] = _this.buildItem(existingItem, item, ctor);
            return acc;
        }, existingItems);
        return this.build(updatedItems);
    };
    return Collection;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var  /**
 * @template T
 */
Grid = /** @class */ (function () {
    function Grid(data) {
        this.data = data;
        this.query = new QueryModel();
        this.style = new StyleModel();
        this.filterable = true;
        this.sortable = { mode: 'multiple' };
    }
    /**
     * @param {?} acc
     * @param {?} operator
     * @param {?} field
     * @param {?} value
     * @return {?}
     */
    Grid.ApplyFilter = /**
     * @param {?} acc
     * @param {?} operator
     * @param {?} field
     * @param {?} value
     * @return {?}
     */
    function (acc, operator, field, value) {
        switch (operator) {
            case 'contains':
                return acc.filter(function (row) { return Grid.Contains(row[field], value); });
            case 'gte':
                return acc.filter(function (row) { return Grid.MatchDate(row[field], value); });
        }
    };
    /**
     * @template T
     * @param {?} items
     * @return {?}
     */
    Grid.Build = /**
     * @template T
     * @param {?} items
     * @return {?}
     */
    function (items) {
        var /** @type {?} */ data = Object.assign(new Collection(), { items: items });
        return new Grid(data);
    };
    /**
     * @param {?} field
     * @param {?=} dir
     * @return {?}
     */
    Grid.BuildSort = /**
     * @param {?} field
     * @param {?=} dir
     * @return {?}
     */
    function (field, dir) {
        if (dir === void 0) { dir = 'asc'; }
        return /** @type {?} */ ({ dir: dir, field: field });
    };
    /**
     * @param {?} str
     * @param {?} substr
     * @return {?}
     */
    Grid.Contains = /**
     * @param {?} str
     * @param {?} substr
     * @return {?}
     */
    function (str, substr) {
        if (typeof (str) === 'string' && typeof (substr) === 'string') {
            return str.toLowerCase().includes(substr.toLowerCase());
        }
        return true;
    };
    /**
     * @param {?} rows
     * @param {?} filters
     * @return {?}
     */
    Grid.FilterRows = /**
     * @param {?} rows
     * @param {?} filters
     * @return {?}
     */
    function (rows, filters) {
        return filters.reduce(function (acc, filter$$1) {
            var /** @type {?} */ operator = filter$$1['operator'];
            var /** @type {?} */ field = filter$$1['field'];
            var /** @type {?} */ value = filter$$1['value'];
            return Grid.ApplyFilter(rows, operator, field, value);
        }, rows);
    };
    /**
     * @param {?} date1
     * @param {?} date2
     * @return {?}
     */
    Grid.MatchDate = /**
     * @param {?} date1
     * @param {?} date2
     * @return {?}
     */
    function (date1, date2) {
        return DateHelper.IsSameDay(date1, date2);
    };
    /**
     * @param {?} rows
     * @param {?} skip
     * @param {?} take
     * @return {?}
     */
    Grid.PageRows = /**
     * @param {?} rows
     * @param {?} skip
     * @param {?} take
     * @return {?}
     */
    function (rows, skip$$1, take$$1) {
        return rows.filter(function (row, index) { return index >= skip$$1 && index < skip$$1 + take$$1; });
    };
    /**
     * @param {?} rows
     * @param {?} sort
     * @return {?}
     */
    Grid.SortRows = /**
     * @param {?} rows
     * @param {?} sort
     * @return {?}
     */
    function (rows, sort) {
        return orderBy(rows, sort);
    };
    /**
     * @param {?} grid
     * @return {?}
     */
    Grid.prototype.update = /**
     * @param {?} grid
     * @return {?}
     */
    function (grid) {
    };
    return Grid;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var  /**
 * @template T
 */
GridColumn = /** @class */ (function () {
    function GridColumn(name, label) {
        this.name = name;
        this.label = label;
        this.styleModel = new StyleModel();
        this.editable = true;
        this.editor = 'text';
        this.filter = 'text';
        this.filterable = true;
        this.hidden = false;
        this.locked = false;
        this.sortable = true;
        this.metadata = { name: name, label: label };
        this.title = label;
    }
    Object.defineProperty(GridColumn.prototype, "class", {
        get: /**
         * @return {?}
         */
        function () {
            return this._class;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._class = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridColumn.prototype, "field", {
        get: /**
         * @return {?}
         */
        function () {
            return this._field ? this._field : this.metadata.name;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._field = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridColumn.prototype, "title", {
        get: /**
         * @return {?}
         */
        function () {
            return this._title ? this._title : this.metadata.label;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._title = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridColumn.prototype, "width", {
        get: /**
         * @return {?}
         */
        function () {
            return this._width;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._width = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} col
     * @return {?}
     */
    GridColumn.prototype.update = /**
     * @param {?} col
     * @return {?}
     */
    function (col) {
        this.class = col.class;
        this.editable = col.editable;
        this.editor = col.editor;
        this.field = col.field;
        this.filter = col.filter;
        this.filterable = col.filterable;
        this.footerClass = col.footerClass;
        this.footerStyle = col.footerStyle;
        this.format = col.format;
        this.headerClass = col.headerClass;
        this.headerStyle = col.headerStyle;
        this.hidden = col.hidden;
        this.locked = col.locked;
        this.media = col.media;
        this.sortable = col.sortable;
        this.style = col.style;
        this.title = col.title;
        this.width = col.width;
    };
    return GridColumn;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridColumnComponent = /** @class */ (function () {
    function GridColumnComponent(view) {
        this.view = view;
        this.editable = true;
        this.field = '';
        this.filter = 'text';
        this.filterable = true;
        this.hidden = false;
        this.locked = false;
        this.sortable = true;
    }
    Object.defineProperty(GridColumnComponent.prototype, "colField", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.metadata.name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridColumnComponent.prototype, "colTitle", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.title;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridColumnComponent.prototype, "colWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.width;
        },
        enumerable: true,
        configurable: true
    });
    GridColumnComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-grid-column',
                    template: "<kendo-grid-column [field]=\"colField\" [title]=\"colTitle\" [width]=\"colWidth\" #kendoGridColumn>\n  <span #content>\n    <ng-content></ng-content>\n  </span>\n</kendo-grid-column>\n",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    GridColumnComponent.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    GridColumnComponent.propDecorators = {
        model: [{ type: Input }],
        templateRef: [{ type: Input }],
        class: [{ type: Input }],
        editable: [{ type: Input }],
        editor: [{ type: Input }],
        field: [{ type: Input }],
        filter: [{ type: Input }],
        filterable: [{ type: Input }],
        footerClass: [{ type: Input }],
        footerStyle: [{ type: Input }],
        format: [{ type: Input }],
        headerClass: [{ type: Input }],
        headerStyle: [{ type: Input }],
        hidden: [{ type: Input }],
        locked: [{ type: Input }],
        media: [{ type: Input }],
        sortable: [{ type: Input }],
        style: [{ type: Input }],
        title: [{ type: Input }],
        width: [{ type: Input }],
        content: [{ type: ViewChild, args: ['content',] }]
    };
    return GridColumnComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridComponent = /** @class */ (function () {
    function GridComponent(_elementRef, _renderer) {
        this._elementRef = _elementRef;
        this._renderer = _renderer;
        this.advancedFilter = false;
        this.autoCalculateHeight = true;
        this.buttonColor = '#fff';
        this.buttonCount = 5;
        this.buttonClass = 'toolbar-button';
        this.pagerInfo = true;
        this.pagerType = 'numeric';
        this.pageSizes = true;
        this.previousNext = true;
        this.export = false;
        this.fileName = 'export';
        this.filter = { logic: 'and', filters: [] };
        this.filterable = true;
        this.pageSize = 20;
        this.pager = {
            pageSizes: [10, 20, 50, 100]
        };
        this.pdfHeader = '';
        this.skip = 0;
        this.sortable = { mode: 'multiple' };
        this.sort = [];
        this.total = 0;
        this.changes = new EventEmitter();
        this.columns = [];
        this.filtering = true;
    }
    Object.defineProperty(GridComponent.prototype, "color", {
        /** The color of the toolbar. Can be primary, accent, or warn. */
        get: /**
         * The color of the toolbar. Can be primary, accent, or warn.
         * @return {?}
         */
        function () {
            return this._color;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._updateColor(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} newColor
     * @return {?}
     */
    GridComponent.prototype._updateColor = /**
     * @param {?} newColor
     * @return {?}
     */
    function (newColor) {
        this._setElementColor(this._color, false);
        this._setElementColor(newColor, true);
        this._color = newColor;
    };
    /**
     * @param {?} color
     * @param {?} isAdd
     * @return {?}
     */
    GridComponent.prototype._setElementColor = /**
     * @param {?} color
     * @param {?} isAdd
     * @return {?}
     */
    function (color, isAdd) {
        if (color != null && color !== '') {
            var /** @type {?} */ element = this._elementRef.nativeElement;
            if (isAdd) {
                this._renderer.addClass(element, "mat-" + color);
            }
            else {
                this._renderer.removeClass(element, "mat-" + color);
            }
        }
    };
    Object.defineProperty(GridComponent.prototype, "activeRows", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pageRows(this.filterRows(this.sortRows(this.rows)));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "computedRowHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.rowHeightMax || 32;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "dynamicHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.autoCalculateHeight ? (this.activeRows.length === 0 || !this.numericHeight) ?
                null : Math.max(96 + this.headerHeight + this.pagerHeight + this.toolbarHeight, Math.min(this.computedRowHeight * this.activeRows.length + this.headerHeight + this.pagerHeight + this.toolbarHeight, this.numericHeight))
                : this.numericHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "excelFileName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.fileName + ".xlsx";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "filters", {
        get: /**
         * @return {?}
         */
        function () {
            return this.filter.filters;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "gridData", {
        get: /**
         * @return {?}
         */
        function () {
            return {
                data: this.activeRows,
                total: this.total ? this.total : this.rows.length
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "headerHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.filterable ? 66 : 27;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "numericHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return typeof (this.height) === 'string' ? str2int(this.height) : this.height;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "pagerHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pageable ? 46 : 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "pagerSettings", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pager;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "pdfFileName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.fileName + ".pdf";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "rows", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.data ? this.model.data.toArray() : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "showFilters", {
        get: /**
         * @return {?}
         */
        function () {
            return this.filterable && this.filtering;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "take", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pageSize || 20;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "toolbarHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.export ? 53 : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    GridComponent.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        this.model.update(this);
    };
    /**
     * @return {?}
     */
    GridComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.pageable = {
            buttonCount: this.buttonCount,
            info: this.pagerInfo,
            type: this.pagerType,
            pageSizes: this.pageSizes,
            previousNext: this.previousNext
        };
    };
    /**
     * @return {?}
     */
    GridComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.contentChildren.forEach(function (x) {
            _this.columns.push(x);
        });
    };
    /**
     * @param {?} state
     * @return {?}
     */
    GridComponent.prototype.dataStateChange = /**
     * @param {?} state
     * @return {?}
     */
    function (state$$1) {
        this.filterChange(state$$1['filter']);
        this.pageChange({ skip: state$$1['skip'], take: state$$1['take'] });
        this.sortChange(state$$1['sort']);
        this.changes.emit(state$$1);
    };
    /**
     * @param {?} component
     * @return {?}
     */
    GridComponent.prototype.save = /**
     * @param {?} component
     * @return {?}
     */
    function (component) {
        var /** @type {?} */ options = component.workbookOptions();
        var /** @type {?} */ rows = options.sheets[0].rows;
        var /** @type {?} */ altIdx = 0;
        rows.forEach(function (row) {
            if (row.type === 'data') {
                if (altIdx % 2 !== 0) {
                    row.cells.forEach(function (cell) {
                        cell.background = '#aabbcc';
                    });
                }
                altIdx++;
            }
        });
        component.save(options);
    };
    /**
     * @param {?} e
     * @return {?}
     */
    GridComponent.prototype.filterChange = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.filter = e;
    };
    /**
     * @param {?} e
     * @return {?}
     */
    GridComponent.prototype.pageChange = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.skip = e.skip;
        this.pageSize = str2int(e.take.toString());
    };
    /**
     * @param {?} sort
     * @return {?}
     */
    GridComponent.prototype.sortChange = /**
     * @param {?} sort
     * @return {?}
     */
    function (sort) {
        this.sort = sort;
    };
    /**
     * @param {?} rows
     * @return {?}
     */
    GridComponent.prototype.filterRows = /**
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        return Grid.FilterRows(rows, this.filters);
    };
    /**
     * @param {?} rows
     * @return {?}
     */
    GridComponent.prototype.pageRows = /**
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        return this.pager ? Grid.PageRows(rows, this.skip, this.take) : rows;
    };
    /**
     * @param {?} rows
     * @return {?}
     */
    GridComponent.prototype.sortRows = /**
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        return Grid.SortRows(rows, this.sort);
    };
    GridComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-grid',
                    template: "<mat-card class=\"grid mat-primary\" [class.mat-card]=\"!export\">\n  <kendo-grid [data]=\"gridData\" [filter]=\"filter\" [filterable]=\"showFilters\" [groupable]=\"groupable\" [height]=\"dynamicHeight\"\n    [pageSize]=\"pageSize\" [pageable]=\"pagerSettings\" [rowHeight]=\"rowHeight\" [scrollable]=\"scrollable\" [selectable]=\"selectable\"\n    [skip]=\"skip\" [sortable]=\"sortable\" [group]=\"group\" [sort]=\"sort\" (dataStateChange)=\"dataStateChange($event)\" #kendoGridInstance=\"kendoGrid\">\n\n    <!-- Toolbar Template -->\n    <ng-template kendoGridToolbarTemplate *ngIf=\"export\">\n      <button mat-raised-button class=\"toolbar-button pdf-button\" kendoGridPDFCommand>\n        <mat-icon>picture_as_pdf</mat-icon>Export to PDF</button>\n      <button mat-raised-button class=\"toolbar-button excel-button\" (click)=\"save(excelexport)\">\n        <mat-icon>import_export</mat-icon>Export To Excel</button>\n    </ng-template>\n\n    <!-- Grid Columns -->\n    <kendo-grid-column *ngFor=\"let col of columns\" [class]=\"col.class\" [editable]=\"col.editable\" [editor]=\"col.editor\" [field]=\"col.colField\"\n      [filter]=\"col.filter\" [filterable]=\"col.filterable\" [footerClass]=\"col.footerClass\" [footerStyle]=\"col.footerStyle\" [format]=\"col.format\"\n      [headerClass]=\"col.headerClass\" [headerStyle]=\"col.headerStyle\" [hidden]=\"col.hidden\" [locked]=\"col.locked\" [media]=\"col.media\"\n      [sortable]=\"col.sortable\" [style]=\"col.style\" [title]=\"col.colTitle\" [width]=\"col.width\">\n      <ng-template *ngIf=\"col.templateRef\" kendoGridCellTemplate let-dataItem>\n        <iu-grid-cell [templateRef]=\"col.templateRef\" [dataItem]=\"dataItem\"></iu-grid-cell>\n      </ng-template>\n    </kendo-grid-column>\n\n    <!-- Export to PDF -->\n    <kendo-grid-pdf *ngIf=\"export\" [fileName]=\"pdfFileName\" [allPages]=\"true\" paperSize=\"A4\" [repeatHeaders]=\"true\" [landscape]=\"true\">\n      <kendo-grid-pdf-margin top=\"2cm\" left=\"1cm\" right=\"1cm\" bottom=\"2cm\"></kendo-grid-pdf-margin>\n      <ng-template kendoGridPDFTemplate let-pageNum=\"pageNum\" let-totalPages=\"totalPages\">\n        <div class=\"page-template\">\n          <div class=\"header\">\n            <div style=\"float: right\">Page {{ pageNum }} of {{ totalPages }}</div>\n            {{ pdfHeader }}\n          </div>\n          <div class=\"footer\">\n            Page {{ pageNum }} of {{ totalPages }}\n          </div>\n        </div>\n      </ng-template>\n    </kendo-grid-pdf>\n\n    <!-- Export to Excel -->\n    <kendo-excelexport [data]=\"activeRows\" [fileName]=\"excelFileName\" [filterable]=\"true\" #excelexport>\n      <kendo-excelexport-column *ngFor=\"let col of columns\" [field]=\"col.colField\" [title]=\"col.colTitle\">\n      </kendo-excelexport-column>\n    </kendo-excelexport>\n\n  </kendo-grid>\n</mat-card>\n",
                    styles: [".mat-card.grid{padding:0}.grid .k-grid-header{padding-right:13px}.grid th.k-grid-header:first-child{padding-left:6px}.grid .mat-raised-button{color:#fff}.k-grid-header .k-header>.k-link{font-size:16px;padding:2px 12px}.k-grid td{border:none;padding:6px 12px}.k-widget{border:none}.k-filter-row>th{padding:4px;max-width:190px;border-width:0 0 1px 1px;border-style:solid}.k-input.k-textbox,.k-textbox{height:calc(1em + (4px * 2) + (1px * 2))!important;min-width:80px}.k-filtercell .k-filtercell-wrapper,.k-filtercell>span{padding-right:calc(1.5em + 8px + 2px + 4px)}.k-filtercell .k-dropdown-operator{display:none}.k-picker-wrap.k-state-default{border-bottom-width:1px}.page-template{font-family:\"DejaVu Sans\",Arial,sans-serif;position:absolute;width:100%;height:100%;top:0;left:0}.page-template .header{position:absolute;top:30px;left:30px;right:30px;border-bottom:1px solid #888;color:#888}.page-template .footer{position:absolute;bottom:30px;left:30px;right:30px;border-top:1px solid #888;text-align:center;color:#888}.toolbar-button{color:#fff;background-image:none;vertical-align:middle}"],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    GridComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 }
    ]; };
    GridComponent.propDecorators = {
        model: [{ type: Input }],
        advancedFilter: [{ type: Input }],
        autoCalculateHeight: [{ type: Input }],
        buttonColor: [{ type: Input }],
        buttonCount: [{ type: Input }],
        buttonClass: [{ type: Input }],
        pagerInfo: [{ type: Input }],
        pagerType: [{ type: Input }],
        pageSizes: [{ type: Input }],
        previousNext: [{ type: Input }],
        detailRowHeight: [{ type: Input }],
        export: [{ type: Input }],
        fileName: [{ type: Input }],
        filter: [{ type: Input }],
        filterable: [{ type: Input }],
        groupable: [{ type: Input }],
        height: [{ type: Input }],
        pageSize: [{ type: Input }],
        pageable: [{ type: Input }],
        pager: [{ type: Input }],
        pdfHeader: [{ type: Input }],
        rowHeight: [{ type: Input }],
        rowHeightMax: [{ type: Input }],
        scrollable: [{ type: Input }],
        selectable: [{ type: Input }],
        skip: [{ type: Input }],
        sortable: [{ type: Input }],
        group: [{ type: Input }],
        rowClass: [{ type: Input }],
        sort: [{ type: Input }],
        total: [{ type: Input }],
        changes: [{ type: Output }],
        grid: [{ type: ViewChild, args: ['kendoGridInstance',] }],
        contentChildren: [{ type: ContentChildren, args: [GridColumnComponent,] }],
        color: [{ type: Input }]
    };
    return GridComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridCellComponent = /** @class */ (function () {
    function GridCellComponent(viewContainerRef) {
        this.viewContainerRef = viewContainerRef;
    }
    /**
     * @return {?}
     */
    GridCellComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.viewContainerRef.createEmbeddedView(this.templateRef, this.dataItem);
    };
    GridCellComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-grid-cell',
                    template: "<div></div>",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    GridCellComponent.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    GridCellComponent.propDecorators = {
        dataItem: [{ type: Input }],
        templateRef: [{ type: Input }]
    };
    return GridCellComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var SimpleGridComponent = /** @class */ (function () {
    function SimpleGridComponent() {
        this.data = [];
        this.export = false;
        this.filterable = false;
        this.fileName = 'export';
        this.height = 600;
        this.pageSize = 30;
    }
    Object.defineProperty(SimpleGridComponent.prototype, "metadata", {
        get: /**
         * @return {?}
         */
        function () {
            return this._metadata ? this._metadata : (toArray(this.data).length > 0 ? toArray(this.data)[0].metadata : null);
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._metadata = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SimpleGridComponent.prototype, "columns", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return this.metadata ? this.columnKeys.map(function (key) { return new GridColumn(key, _this.metadata[key].columnLabel); }) : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SimpleGridComponent.prototype, "columnKeys", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return this.metadata ? Object.keys(this.metadata).filter(function (key) { return _this.metadata[key].columnLabel ? true : false; }) : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SimpleGridComponent.prototype, "columnLabels", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return this.metadata ? this.columnKeys.map(function (key) { return _this.metadata[key].columnLabel; }) : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SimpleGridComponent.prototype, "gridData", {
        get: /**
         * @return {?}
         */
        function () {
            return Grid.Build(toArray(this.data));
        },
        enumerable: true,
        configurable: true
    });
    SimpleGridComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-simple-grid',
                    template: "<iu-grid [model]=\"gridData\" [export]=\"export\" [filterable]=\"filterable\" [fileName]=\"fileName\" [pageSize]=\"pageSize\" [height]=\"height\">\n  <iu-grid-column *ngFor=\"let column of columns\" [model]=\"column\"></iu-grid-column>\n</iu-grid>\n",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    SimpleGridComponent.ctorParameters = function () { return []; };
    SimpleGridComponent.propDecorators = {
        data: [{ type: Input }],
        export: [{ type: Input }],
        filterable: [{ type: Input }],
        fileName: [{ type: Input }],
        height: [{ type: Input }],
        pageSize: [{ type: Input }],
        metadata: [{ type: Input }]
    };
    return SimpleGridComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridModule$1 = /** @class */ (function () {
    function GridModule$$1() {
    }
    GridModule$$1.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        ExcelExportModule,
                        GridModule,
                        PDFModule,
                        MatCardModule,
                        MatIconModule
                    ],
                    declarations: [
                        GridComponent,
                        GridColumnComponent,
                        SimpleGridComponent,
                        GridCellComponent,
                    ],
                    exports: [
                        GridModule,
                        GridComponent,
                        GridColumnComponent,
                        SimpleGridComponent,
                    ]
                },] },
    ];
    return GridModule$$1;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NotFoundComponent = /** @class */ (function () {
    function NotFoundComponent() {
    }
    /**
     * @return {?}
     */
    NotFoundComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    NotFoundComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-not-found',
                    template: "<p>\n  not-found works!\n</p>\n",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    NotFoundComponent.ctorParameters = function () { return []; };
    return NotFoundComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NotFoundModule = /** @class */ (function () {
    function NotFoundModule() {
    }
    NotFoundModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                    ],
                    declarations: [NotFoundComponent],
                    exports: [NotFoundComponent]
                },] },
    ];
    return NotFoundModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var WallpaperComponent = /** @class */ (function () {
    function WallpaperComponent(elementRef) {
        this.elementRef = elementRef;
        this.images = [];
        this.windowHeight = 0;
        this.windowWidth = 0;
    }
    Object.defineProperty(WallpaperComponent.prototype, "canvasHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.windowWidth * 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "canvasWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.windowWidth - 100;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "elementHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.elementRef && this.elementRef.nativeElement && this.elementRef.nativeElement.style ?
                this.elementRef.nativeElement.style.height : 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "elementHeightPx", {
        get: /**
         * @return {?}
         */
        function () {
            return toPx(this.elementHeight);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "elementWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.elementRef && this.elementRef.nativeElement && this.elementRef.nativeElement.style ?
                this.elementRef.nativeElement.style.width : 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "elementWidthPx", {
        get: /**
         * @return {?}
         */
        function () {
            return toPx(this.elementWidth);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "maxColumns", {
        get: /**
         * @return {?}
         */
        function () {
            return 3;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "maxRows", {
        get: /**
         * @return {?}
         */
        function () {
            return 3;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "totalColumns", {
        get: /**
         * @return {?}
         */
        function () {
            return 12;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WallpaperComponent.prototype, "totalRows", {
        get: /**
         * @return {?}
         */
        function () {
            return 24;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    WallpaperComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    WallpaperComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-wallpaper',
                    template: "<div class=\"wallpaper\" [style.height.px]=\"windowHeight\" [style.width.px]=\"windowWidth\">\n  <iu-collage [images]=\"images\" [canvasHeight]=\"canvasHeight\" [canvasWidth]=\"canvasWidth\" [totalRows]=\"totalRows\" [totalColumns]=\"totalColumns\"\n    [maxRows]=\"maxRows\" [maxColumns]=\"maxColumns\"></iu-collage>\n</div>",
                    styles: [".wallpaper{height:100%;width:100%}"],
                    changeDetection: ChangeDetectionStrategy.OnPush
                },] },
    ];
    /** @nocollapse */
    WallpaperComponent.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    WallpaperComponent.propDecorators = {
        images: [{ type: Input }],
        windowHeight: [{ type: Input }],
        windowWidth: [{ type: Input }]
    };
    return WallpaperComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var WallpaperModule = /** @class */ (function () {
    function WallpaperModule() {
    }
    WallpaperModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        CollageModule,
                    ],
                    declarations: [
                        WallpaperComponent,
                    ],
                    exports: [
                        WallpaperComponent,
                    ]
                },] },
    ];
    return WallpaperModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ListPipe = /** @class */ (function () {
    function ListPipe() {
    }
    /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    ListPipe.prototype.transform = /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    function (value, args) {
        return Array.isArray(value) ? value.reduce(function (acc, x) { return acc ? acc + ", " + x : x; }, '') : '';
    };
    ListPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'list'
                },] },
    ];
    return ListPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var PhoneNumberPipe = /** @class */ (function () {
    function PhoneNumberPipe() {
    }
    /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    PhoneNumberPipe.prototype.transform = /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    function (value, args) {
        return value.length !== 10 ? value
            : "(" + value[0] + value[1] + value[2] + ") " + value[3] + value[4] + value[5] + "-" + value[6] + value[7] + value[8] + value[9];
    };
    PhoneNumberPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'phone'
                },] },
    ];
    return PhoneNumberPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var TimeAgoPipe = /** @class */ (function () {
    function TimeAgoPipe() {
    }
    /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    TimeAgoPipe.prototype.transform = /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    function (value, args) {
        return DateHelper.TimeAgo(value);
    };
    TimeAgoPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'timeago'
                },] },
    ];
    return TimeAgoPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var YesNoPipe = /** @class */ (function () {
    function YesNoPipe() {
    }
    /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    YesNoPipe.prototype.transform = /**
     * @param {?} value
     * @param {?=} args
     * @return {?}
     */
    function (value, args) {
        return value ? 'Yes' : 'No';
    };
    YesNoPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'yesno'
                },] },
    ];
    return YesNoPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LibraryModule = /** @class */ (function () {
    function LibraryModule() {
    }
    LibraryModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        AccordionModule,
                        DatepickerModule,
                        DialogModule,
                        FileUploadModule,
                        GridModule$1,
                        NotFoundModule,
                        MatButtonModule,
                        MatCardModule,
                        MatCheckboxModule,
                        MatIconModule$1,
                        MatInputModule,
                        MatProgressBarModule,
                        MatProgressSpinnerModule,
                        MatRadioModule,
                        MatSelectModule,
                        MatTabsModule,
                        MatToolbarModule,
                    ],
                    declarations: [
                        LibraryComponent,
                        ListPipe,
                        PhoneNumberPipe,
                        TimeAgoPipe,
                        YesNoPipe,
                    ],
                    exports: [
                        LibraryComponent,
                        SharedModule,
                        AccordionModule,
                        CollageModule,
                        DatepickerModule,
                        DialogModule,
                        FileUploadModule,
                        ListPipe,
                        NotFoundModule,
                        PhoneNumberPipe,
                        TileModule,
                        TimeAgoPipe,
                        WallpaperModule,
                        YesNoPipe,
                        MatButtonModule,
                        MatCardModule,
                        MatCheckboxModule,
                        MatIconModule$1,
                        MatInputModule,
                        MatProgressBarModule,
                        MatProgressSpinnerModule,
                        MatRadioModule,
                        MatSelectModule,
                        MatTabsModule,
                        MatToolbarModule,
                    ]
                },] },
    ];
    return LibraryModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var AnimationsModule = /** @class */ (function () {
    function AnimationsModule() {
    }
    AnimationsModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule
                    ],
                    declarations: []
                },] },
    ];
    return AnimationsModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EditorWindowComponent = /** @class */ (function () {
    function EditorWindowComponent(data, dialogRef) {
        this.data = data;
        this.dialogRef = dialogRef;
        this.actionWidth = '100%';
    }
    Object.defineProperty(EditorWindowComponent.prototype, "actions", {
        get: /**
         * @return {?}
         */
        function () {
            return [
                build(DialogAction, { value: this.data, label: 'Save and Close' }),
            ];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorWindowComponent.prototype, "dialog", {
        get: /**
         * @return {?}
         */
        function () {
            return build(DialogModel, {
                title: this.title,
                actions: this.actions
            });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorWindowComponent.prototype, "title", {
        get: /**
         * @return {?}
         */
        function () {
            return 'Editor';
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    EditorWindowComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.dialogRef.close(this.data);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    EditorWindowComponent.prototype.update = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.data = data;
    };
    EditorWindowComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-editor-window',
                    template: "<span id=\"editor-window\">\n  <mat-toolbar color=\"primary\" mat-dialog-title>\n    <span class=\"dialog-title\">\n      {{ title }}\n      <button mat-button [mat-dialog-close]=\"null\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </span>\n  </mat-toolbar>\n  <mat-dialog-content>\n    <div id=\"expanded-editor\">\n      <iu-editor [value]=\"data\" [expanded]=\"true\" [height]=\"380\" (changes)=\"update($event)\"></iu-editor>\n    </div>\n  </mat-dialog-content>\n  <mat-dialog-actions>\n    <button mat-raised-button (click)=\"close()\" [style.width]=\"actionWidth\" color=\"accent\">Save and Close</button>\n  </mat-dialog-actions>\n</span>\n",
                    styles: ["#editor-window #expanded-editor{margin:0;padding:0;height:60vh}#editor-window .mat-toolbar{margin:-24px -24px 0;width:calc(100% + 48px);min-height:32px!important}#editor-window .mat-toolbar .mat-toolbar-row{height:48px}#editor-window .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}#editor-window .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}#editor-window .mat-toolbar .dialog-title button:hover,#editor-window .mat-toolbar .dialog-title button:hover mat-icon{font-weight:700}#editor-window .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}#editor-window .mat-toolbar-row{height:48px}#editor-window .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}#editor-window .mat-dialog-actions button{padding:12px 0}#editor-window .mat-dialog-actions .mat-accent{color:#fff!important}"],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    EditorWindowComponent.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] },
        { type: MatDialogRef }
    ]; };
    return EditorWindowComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ EDITOR_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(function () { return EditorComponent; }),
    multi: true
};
var EditorComponent = /** @class */ (function () {
    function EditorComponent(dialog, ref) {
        this.dialog = dialog;
        this.ref = ref;
        this.type = 'full';
        this.expanded = false;
        this.height = 100;
        this.plugins = [
            'advlist autolink lists link image charmap print preview hr anchor pagebreak',
            'searchreplace wordcount visualblocks visualchars code fullscreen',
            'insertdatetime media nonbreaking save table contextmenu directionality',
            'emoticons template paste textcolor colorpicker textpattern imagetools toc help'
        ];
        this.skinUrl = '/assets/skins/lightgray-gradient';
        this.templates = [
            { title: 'Test template 1', content: 'Test 1' },
            { title: 'Test template 2', content: 'Test 2' }
        ];
        this.changes = new EventEmitter();
    }
    Object.defineProperty(EditorComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._value = val;
            this.setContent(this._value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "basic", {
        get: /**
         * @return {?}
         */
        function () {
            return this.type === 'basic';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "full", {
        get: /**
         * @return {?}
         */
        function () {
            return this.type === 'full';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "config", {
        get: /**
         * @return {?}
         */
        function () {
            switch (this.type) {
                case 'basic':
                    return this.configBasic;
                case 'full':
                    return this.configFull;
                default:
                    return this.configFull;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "configBasic", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return {
                height: this.height,
                selector: '#' + this.elementId,
                menubar: false,
                skin_url: this.skinUrl,
                theme: 'modern',
                plugins: [
                    'advlist autolink lists link image charmap print preview anchor',
                    'searchreplace visualblocks code fullscreen',
                    'insertdatetime media table contextmenu paste code'
                ],
                toolbar: "undo redo | insert | styleselect | bold italic |\n       alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link",
                content_css: [
                    '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
                    '//www.tinymce.com/css/codepen.min.css'
                ],
                setup: function (editor) {
                    _this.editorRef = editor;
                    editor.on('keyup', function (e) {
                        e.preventDefault();
                        var /** @type {?} */ content = editor.getContent();
                        _this.onKeyup(content);
                    });
                    editor.on('change', function (e) {
                        e.preventDefault();
                        var /** @type {?} */ content = editor.getContent();
                        _this.onChange(content);
                    });
                    editor.on('viewcontentloaded', function (e) {
                        editor.setContent('');
                    });
                },
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "configFull", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            return {
                height: this.height,
                selector: '#' + this.elementId,
                plugins: this.plugins,
                skin_url: this.skinUrl,
                templates: this.templates,
                theme: 'modern',
                toolbar1: "undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent",
                toolbar2: 'print preview | forecolor backcolor | link',
                setup: function (editor) {
                    _this.editorRef = editor;
                    editor.on('keyup', function (e) {
                        e.preventDefault();
                        var /** @type {?} */ content = editor.getContent();
                        _this.onKeyup(content);
                    });
                    editor.on('change', function (e) {
                        e.preventDefault();
                        var /** @type {?} */ content = editor.getContent();
                        _this.onChange(content);
                    });
                    editor.on('viewcontentloaded', function (e) {
                        editor.setContent('');
                    });
                },
                image_advtab: true,
                content_css: [
                    '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
                    '//www.tinymce.com/css/codepen.min.css'
                ]
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "hasValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this.value ? true : false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EditorComponent.prototype, "showExpand", {
        get: /**
         * @return {?}
         */
        function () {
            return this.full && !this.expanded;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    EditorComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    EditorComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        tinymce.init(this.config);
    };
    /**
     * @return {?}
     */
    EditorComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        tinymce.remove(this.editorRef);
    };
    /**
     * @return {?}
     */
    EditorComponent.prototype.clear = /**
     * @return {?}
     */
    function () {
        this.value = '';
    };
    /**
     * @param {?} e
     * @return {?}
     */
    EditorComponent.prototype.expand = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        var /** @type {?} */ config = {
            data: this.editorRef.getContent(),
            width: '1200px'
        };
        this.openDialog(config);
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    EditorComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    EditorComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouch = fn;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.onChange = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
        this.changes.emit(value);
        if (this.onModelChange) {
            this.onModelChange(value);
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.onUpdate = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.onChange(value);
        this.setContent(this.value);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.onKeyup = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.onChange(value);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.onBlur = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.focused = '';
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.onFocus = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.focused = value;
        if (this.onTouch) {
            this.onTouch();
        }
    };
    /**
     * @param {?} config
     * @return {?}
     */
    EditorComponent.prototype.openDialog = /**
     * @param {?} config
     * @return {?}
     */
    function (config) {
        var _this = this;
        var /** @type {?} */ dialogRef = this.dialog.open(EditorWindowComponent, config);
        this.dialogRef = dialogRef.afterClosed().subscribe(function (result) {
            _this.closeDialog(result);
        });
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.closeDialog = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value) {
            this.onChange(value);
        }
        this.dialogRef.unsubscribe();
    };
    /**
     * @param {?} value
     * @return {?}
     */
    EditorComponent.prototype.setContent = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (this.editorRef && this.editorRef.getContent) {
            var /** @type {?} */ content = this.editorRef.getContent();
            if (value && content != value) {
                this.editorRef.setContent(value);
            }
        }
    };
    EditorComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-editor',
                    template: "<mat-card class=\"editor\">\n  <textarea [id]=\"elementId\">\n    <ng-content *ngIf=\"!hasValue\"></ng-content>\n    <span *ngIf=\"hasValue\">{{ value }}</span>\n  </textarea>\n  <button *ngIf=\"showExpand\" id=\"expand-editor\" (click)=\"expand($event)\" mat-button>\n    <mat-icon>fullscreen</mat-icon>\n  </button>\n</mat-card>\n",
                    styles: [".mat-card{display:block;clear:both;padding:1px 3px 1px 1px;border-radius:2px}#expand-editor{font-size:36px;position:absolute;right:3px;top:3px;color:#fff;text-align:center;min-width:36px;line-height:24px;padding:2px}.mat-icon{font-size:36px;position:relative;left:-6px;top:-7px}"],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [EDITOR_ACCESSOR]
                },] },
    ];
    /** @nocollapse */
    EditorComponent.ctorParameters = function () { return [
        { type: MatDialog },
        { type: ChangeDetectorRef }
    ]; };
    EditorComponent.propDecorators = {
        type: [{ type: Input }],
        elementId: [{ type: Input }],
        expanded: [{ type: Input }],
        height: [{ type: Input }],
        plugins: [{ type: Input }],
        skinUrl: [{ type: Input }],
        templates: [{ type: Input }],
        changes: [{ type: Output }],
        value: [{ type: Input }]
    };
    return EditorComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EditorModule = /** @class */ (function () {
    function EditorModule() {
    }
    EditorModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        SharedModule,
                        FormsModule,
                        DialogModule,
                        MatButtonModule,
                        MatCardModule,
                        MatDialogModule,
                        MatIconModule,
                        MatToolbarModule,
                    ],
                    declarations: [
                        EditorComponent,
                        EditorWindowComponent,
                    ],
                    entryComponents: [
                        EditorWindowComponent,
                    ],
                    exports: [
                        EditorComponent,
                        EditorWindowComponent,
                    ],
                },] },
    ];
    return EditorModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EffectsModule$1 = /** @class */ (function () {
    function EffectsModule$$1() {
    }
    /**
     * @param {?} featureEffects
     * @return {?}
     */
    EffectsModule$$1.forFeature = /**
     * @param {?} featureEffects
     * @return {?}
     */
    function (featureEffects) {
        return EffectsModule.forFeature(featureEffects);
    };
    /**
     * @param {?} rootEffects
     * @return {?}
     */
    EffectsModule$$1.forRoot = /**
     * @param {?} rootEffects
     * @return {?}
     */
    function (rootEffects) {
        return EffectsModule.forRoot(rootEffects);
    };
    EffectsModule$$1.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        EffectsModule
                    ],
                    declarations: []
                },] },
    ];
    return EffectsModule$$1;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ErrorActions = /** @class */ (function () {
    function ErrorActions() {
    }
    /**
     * @param {?} e
     * @param {?} outlet
     * @return {?}
     */
    ErrorActions.addAtOutlet = /**
     * @param {?} e
     * @param {?} outlet
     * @return {?}
     */
    function (e, outlet) {
        var /** @type {?} */ payload = {
            key: outlet.key,
            error: outlet.handler ? outlet.handler(e) : e
        };
        return ErrorActions.add(payload);
    };
    /**
     * @param {?} key
     * @param {?} e
     * @return {?}
     */
    ErrorActions.addError = /**
     * @param {?} key
     * @param {?} e
     * @return {?}
     */
    function (key, e) {
        var /** @type {?} */ payload = {
            key: key,
            error: e
        };
        return ErrorActions.add(payload);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    ErrorActions.add = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: ErrorActions.ADD,
            payload: payload
        };
    };
    /**
     * @param {?} key
     * @return {?}
     */
    ErrorActions.remove = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return {
            type: ErrorActions.REMOVE,
            payload: key
        };
    };
    ErrorActions.ADD = '[Error] Add Error';
    ErrorActions.REMOVE = '[Error] Remove Error';
    ErrorActions.HANDLE_ERROR = '[Error Handler] Handle Error';
    ErrorActions.THROW_ERROR = '[Error Handler] Throw Error';
    return ErrorActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ErrorsService = /** @class */ (function () {
    function ErrorsService() {
    }
    ErrorsService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    ErrorsService.ctorParameters = function () { return []; };
    /** @nocollapse */ ErrorsService.ngInjectableDef = defineInjectable({ factory: function ErrorsService_Factory() { return new ErrorsService(); }, token: ErrorsService, providedIn: "root" });
    return ErrorsService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ErrorEffects = /** @class */ (function () {
    function ErrorEffects(actions$, service) {
        this.actions$ = actions$;
        this.service = service;
        /**
         * Listens for thrown errors and handles them accordingly
         */
        this.handleError$ = this.actions$.pipe(filter(function (action) { return action.type === ErrorActions.THROW_ERROR; }), map(function (data) {
            return /** @type {?} */ ({ type: ErrorActions.HANDLE_ERROR });
        }));
    }
    ErrorEffects.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    ErrorEffects.ctorParameters = function () { return [
        { type: Actions },
        { type: ErrorsService }
    ]; };
    __decorate([
        Effect(),
        __metadata("design:type", Observable)
    ], ErrorEffects.prototype, "handleError$", void 0);
    return ErrorEffects;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GlobalErrorsService = /** @class */ (function () {
    function GlobalErrorsService() {
    }
    /**
     * @param {?} error
     * @return {?}
     */
    GlobalErrorsService.prototype.handleError = /**
     * @param {?} error
     * @return {?}
     */
    function (error) {
        alert(error);
        // IMPORTANT: Rethrow the error otherwise it gets swallowed
        throw error;
    };
    GlobalErrorsService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    GlobalErrorsService.ctorParameters = function () { return []; };
    /** @nocollapse */ GlobalErrorsService.ngInjectableDef = defineInjectable({ factory: function GlobalErrorsService_Factory() { return new GlobalErrorsService(); }, token: GlobalErrorsService, providedIn: "root" });
    return GlobalErrorsService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ErrorsModule = /** @class */ (function () {
    function ErrorsModule() {
    }
    /**
     * @return {?}
     */
    ErrorsModule.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: ErrorsModule,
            providers: [
                ErrorsService,
                ErrorEffects,
                {
                    provide: ErrorHandler,
                    useClass: GlobalErrorsService
                }
            ]
        };
    };
    ErrorsModule.decorators = [
        { type: NgModule, args: [{
                    imports: [],
                    declarations: []
                },] },
    ];
    return ErrorsModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Error = /** @class */ (function () {
    function Error() {
        this.message = '';
        this.statusCode = 0;
    }
    return Error;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function errorsReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = {}; }
    switch (action.type) {
        case ErrorActions.ADD:
            var /** @type {?} */ newState = Collection.AddItem(state$$1, 'lastError', action.payload.error);
            if (action.payload.key === 'lastError') {
                return newState;
            }
            return Collection.AddItem(state$$1, action.payload.key, action.payload.error);
        case ErrorActions.REMOVE:
            return Collection.RemoveItem(state$$1, action.payload);
        default:
            return state$$1;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} store
 * @return {?}
 */
function errorsSelector(store) {
    return store.select(function (s) { return s['errors']; });
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function errorSelector(store, key) {
    return errorsSelector(store).pipe(map(function (errors) { return errors[key]; }));
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Event = /** @class */ (function () {
    function Event() {
        this.emittedCount = 0;
        this.key = '';
        this.onAction = '';
        this.value = null;
    }
    return Event;
}());
var Events = /** @class */ (function (_super) {
    __extends(Events, _super);
    function Events() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(Events.prototype, "actions", {
        get: /**
         * @return {?}
         */
        function () {
            return this.toArray().reduce(function (acc, event) {
                var /** @type {?} */ addValues = !event.onAction ?
                    [] : typeof event.onAction === 'string' ?
                    acc.indexOf(event.onAction) === -1 ? [event.onAction] : []
                    : event.onAction.filter(function (x) { return acc.indexOf(x) === -1; });
                return __spread(acc, addValues);
            }, []);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Events.prototype, "eventsByAction", {
        get: /**
         * @return {?}
         */
        function () {
            return this.toArray().reduce(function (acc, event) {
                if (typeof event.onAction === 'string') {
                    var /** @type {?} */ val = acc[event.onAction] || [];
                    acc[event.onAction] = __spread(val, [event]);
                }
                else {
                    event.onAction.forEach(function (actionType) {
                        var /** @type {?} */ val = acc[actionType] || [];
                        acc[actionType] = __spread(val, [event]);
                    });
                }
                return acc;
            }, {});
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} payload
     * @return {?}
     */
    Events.prototype.addEvent = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return build(Events, this.addItem(payload, payload.key));
    };
    /**
     * @param {?} actionType
     * @return {?}
     */
    Events.prototype.getActionEvents = /**
     * @param {?} actionType
     * @return {?}
     */
    function (actionType) {
        return this.eventsByAction[actionType];
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    Events.prototype.removeEvent = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return build(Events, this.removeItem(payload));
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    Events.prototype.replaceEvents = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        var /** @type {?} */ events = this.copyItems();
        payload.forEach(function (e) {
            events[e.key] = e;
        });
        return build(Events, this, { items: events });
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    Events.prototype.triggerEvent = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        var /** @type {?} */ events = this.getActionEvents(payload.type)
            .map(function (e) { return build(Event, e, { value: e.handler ? e.handler(payload) : payload }); });
        return this.replaceEvents(events);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    Events.prototype.updateValue = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        var /** @type {?} */ event = build(Event, this.items[payload.key], { value: payload.value });
        return build(Events, this.updateItem(event, payload.key, Event));
    };
    return Events;
}(Collection));
var UpdateValuePayload = /** @class */ (function () {
    function UpdateValuePayload() {
    }
    return UpdateValuePayload;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EventActions = /** @class */ (function () {
    function EventActions() {
    }
    /**
     * @param {?} onAction
     * @param {?=} handler
     * @param {?=} value
     * @return {?}
     */
    EventActions.addEvent = /**
     * @param {?} onAction
     * @param {?=} handler
     * @param {?=} value
     * @return {?}
     */
    function (onAction, handler, value) {
        if (value === void 0) { value = null; }
        var /** @type {?} */ e = build(Event, {
            onAction: onAction,
            handler: handler,
            value: value,
            key: guid()
        });
        return {
            type: EventActions.ADD_EVENT,
            payload: e,
            key: e.key
        };
    };
    /**
     * @param {?} key
     * @return {?}
     */
    EventActions.removeEvent = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return {
            type: EventActions.REMOVE_EVENT,
            payload: key
        };
    };
    /**
     * @param {?} action
     * @return {?}
     */
    EventActions.triggerEvent = /**
     * @param {?} action
     * @return {?}
     */
    function (action) {
        return {
            type: EventActions.TRIGGER_EVENT,
            payload: action
        };
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    EventActions.updateValue = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        var /** @type {?} */ payload = build(UpdateValuePayload, {
            key: key,
            value: value
        });
        return {
            type: EventActions.UPDATE_VALUE,
            payload: payload
        };
    };
    EventActions.ADD_EVENT = '[Events] Add Event';
    EventActions.REMOVE_EVENT = '[Events] Remove Event';
    EventActions.TRIGGER_EVENT = '[Events] Trigger Event';
    EventActions.UPDATE_VALUE = '[Events] Update Value';
    return EventActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EventEffects = /** @class */ (function () {
    function EventEffects(actions$, store) {
        var _this = this;
        this.actions$ = actions$;
        this.store = store;
        this.events = new Events();
        /**
         * Trigger event if action is a registered trigger.
         */
        this.onTriggerEvent = this.actions$.pipe(filter(function (action) { return _this.events.actions.indexOf(action.type) !== -1; }), map(this.trigger));
        this.store.select(function (s) { return s['events']; })
            .subscribe(function (events) {
            _this.events = events;
        });
    }
    /**
     * @param {?} action
     * @return {?}
     */
    EventEffects.prototype.trigger = /**
     * @param {?} action
     * @return {?}
     */
    function (action) {
        return EventActions.triggerEvent(action);
    };
    EventEffects.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    EventEffects.ctorParameters = function () { return [
        { type: Actions },
        { type: Store }
    ]; };
    __decorate([
        Effect(),
        __metadata("design:type", Observable)
    ], EventEffects.prototype, "onTriggerEvent", void 0);
    return EventEffects;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} store
 * @return {?}
 */
function eventsSelector(store) {
    return store.select(function (s) { return s['events']; }).pipe(map(function (events) { return events.items; }));
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function eventSelector(store, key) {
    return eventsSelector(store).pipe(map(function (events) { return events[key]; }));
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function eventValueSelector(store, key) {
    return eventSelector(store, key).pipe(map(function (e) { return e ? e.value : null; }));
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EventsService = /** @class */ (function () {
    function EventsService(store) {
        this.store = store;
        this.eventIndex = 0;
        this.events = [];
    }
    Object.defineProperty(EventsService.prototype, "eventKey", {
        get: /**
         * @return {?}
         */
        function () {
            this.eventIndex++;
            return "event-" + this.eventIndex;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} actionType
     * @param {?=} handler
     * @return {?}
     */
    EventsService.prototype.addEvent = /**
     * @param {?} actionType
     * @param {?=} handler
     * @return {?}
     */
    function (actionType, handler) {
        var /** @type {?} */ f = handler ? handler : function (action) { return true; };
        var /** @type {?} */ actionWithKey = EventActions.addEvent(actionType, f, false);
        this.store.dispatch(actionWithKey);
        return actionWithKey.key;
    };
    /**
     * @param {?} action
     * @param {?=} handler
     * @return {?}
     */
    EventsService.prototype.dispatch = /**
     * @param {?} action
     * @param {?=} handler
     * @return {?}
     */
    function (action, handler) {
        return this.dispatchHttpAction(action, handler);
    };
    /**
     * @param {?} action
     * @param {?=} handler
     * @return {?}
     */
    EventsService.prototype.dispatchHttpAction = /**
     * @param {?} action
     * @param {?=} handler
     * @return {?}
     */
    function (action, handler) {
        var /** @type {?} */ successAction = action.payload.onSuccess;
        var /** @type {?} */ errorAction = typeof (action.payload.onError) === 'string' ? action.payload.onError : null;
        var /** @type {?} */ success = this.takeOne(successAction, handler);
        var /** @type {?} */ obs = errorAction ? success.pipe(combineLatest(this.takeOne(errorAction, handler), function (x, y) { return true; })) : success;
        this.store.dispatch(action);
        return obs;
    };
    /**
     * @param {?} eventKey
     * @return {?}
     */
    EventsService.prototype.removeEvent = /**
     * @param {?} eventKey
     * @return {?}
     */
    function (eventKey) {
        this.store.dispatch(EventActions.removeEvent(eventKey));
    };
    /**
     * @param {?} action
     * @param {?} handler
     * @return {?}
     */
    EventsService.prototype.subscribe = /**
     * @param {?} action
     * @param {?} handler
     * @return {?}
     */
    function (action, handler) {
        return this.take(1, action).subscribe(handler);
    };
    /**
     * @param {?=} n
     * @param {?=} actionType
     * @param {?=} handler
     * @return {?}
     */
    EventsService.prototype.take = /**
     * @param {?=} n
     * @param {?=} actionType
     * @param {?=} handler
     * @return {?}
     */
    function (n, actionType, handler) {
        if (n === void 0) { n = 1; }
        var /** @type {?} */ key = this.addEvent(actionType, handler);
        return eventValueSelector(this.store, key).pipe(skip(1), take(n));
    };
    /**
     * @param {?=} n
     * @param {?=} actions
     * @param {?=} handler
     * @return {?}
     */
    EventsService.prototype.takeFrom = /**
     * @param {?=} n
     * @param {?=} actions
     * @param {?=} handler
     * @return {?}
     */
    function (n, actions, handler) {
        var _this = this;
        if (n === void 0) { n = 1; }
        var /** @type {?} */ keys = actions.map(function (action) { return _this.addEvent(action, handler); });
        return keys.map(function (key) { return eventValueSelector(_this.store, key); })
            .reduce(function (acc, obs) {
            return acc.pipe(combineLatest(obs, function (x, y) { return true; }));
        }, of(false)).pipe(skip(1), take(n));
    };
    /**
     * @param {?} actionType
     * @param {?=} handler
     * @return {?}
     */
    EventsService.prototype.takeOne = /**
     * @param {?} actionType
     * @param {?=} handler
     * @return {?}
     */
    function (actionType, handler) {
        return this.take(1, actionType, handler);
    };
    EventsService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    EventsService.ctorParameters = function () { return [
        { type: Store }
    ]; };
    /** @nocollapse */ EventsService.ngInjectableDef = defineInjectable({ factory: function EventsService_Factory() { return new EventsService(inject(Store)); }, token: EventsService, providedIn: "root" });
    return EventsService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EventsModule = /** @class */ (function () {
    function EventsModule() {
    }
    EventsModule.decorators = [
        { type: NgModule, args: [{
                    providers: [
                        EventEffects,
                        EventsService,
                    ],
                    exports: []
                },] },
    ];
    return EventsModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function eventsReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = new Events(); }
    switch (action.type) {
        case EventActions.ADD_EVENT:
            return state$$1.addEvent(action.payload);
        case EventActions.REMOVE_EVENT:
            return state$$1.removeEvent(action.payload);
        case EventActions.TRIGGER_EVENT:
            return state$$1.triggerEvent(action.payload);
        case EventActions.UPDATE_VALUE:
            return state$$1.updateValue(action.payload);
        default:
            return state$$1;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var FormsModule$1 = /** @class */ (function () {
    function FormsModule$$1() {
    }
    /**
     * @return {?}
     */
    FormsModule$$1.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: FormsModule$$1,
            providers: []
        };
    };
    FormsModule$$1.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        FormsModule,
                        ReactiveFormsModule,
                    ],
                    exports: [
                        FormsModule,
                        ReactiveFormsModule,
                    ]
                },] },
    ];
    return FormsModule$$1;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var FormActions = /** @class */ (function () {
    function FormActions() {
    }
    /**
     * @param {?} control
     * @return {?}
     */
    FormActions.addForm = /**
     * @param {?} control
     * @return {?}
     */
    function (control) {
        return {
            type: FormActions.ADD,
            payload: control
        };
    };
    /**
     * @param {?} control
     * @param {?} changes
     * @return {?}
     */
    FormActions.changeStatus = /**
     * @param {?} control
     * @param {?} changes
     * @return {?}
     */
    function (control, changes) {
        return {
            type: FormActions.STATUS_CHANGES,
            payload: {
                control: control,
                changes: changes
            }
        };
    };
    /**
     * @param {?} control
     * @param {?} changes
     * @return {?}
     */
    FormActions.changeValue = /**
     * @param {?} control
     * @param {?} changes
     * @return {?}
     */
    function (control, changes) {
        return {
            type: FormActions.VALUE_CHANGES,
            payload: {
                control: control,
                changes: changes
            }
        };
    };
    /**
     * @param {?} route
     * @return {?}
     */
    FormActions.navigateToForm = /**
     * @param {?} route
     * @return {?}
     */
    function (route) {
        return {
            type: FormActions.NAVIGATE,
            payload: route
        };
    };
    /**
     * @param {?} forms
     * @return {?}
     */
    FormActions.resetForms = /**
     * @param {?} forms
     * @return {?}
     */
    function (forms) {
        return {
            type: FormActions.RESET,
            payload: forms
        };
    };
    FormActions.ADD = '[forms] Add Form';
    FormActions.RESET = '[forms] Reset Forms';
    FormActions.NAVIGATE = '[forms] Navigate to Form';
    FormActions.STATUS_CHANGES = '[form] Status Changes';
    FormActions.VALUE_CHANGES = '[form] Value Changes';
    return FormActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var FormArray$1 = /** @class */ (function (_super) {
    __extends(FormArray$$1, _super);
    function FormArray$$1(fb, controls, validator, asyncValidator) {
        var _this = _super.call(this, controls, validator, asyncValidator) || this;
        _this.fb = fb;
        return _this;
    }
    /**
     * @template T
     * @param {?} fb
     * @param {?} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    FormArray$$1.Build = /**
     * @template T
     * @param {?} fb
     * @param {?} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    function (fb, controls, validator, asyncValidator) {
        return new FormArray$$1(fb, controls, validator, asyncValidator);
    };
    /**
     * @template T
     * @param {?} ctor
     * @param {?} fb
     * @param {?=} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    FormArray$$1.BuildWithType = /**
     * @template T
     * @param {?} ctor
     * @param {?} fb
     * @param {?=} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    function (ctor, fb, controls, validator, asyncValidator) {
        if (controls === void 0) { controls = []; }
        var /** @type {?} */ fa = new FormArray$$1(fb, controls, validator, asyncValidator);
        fa.ctor = ctor;
        return fa;
    };
    /**
     * @template T
     * @param {?} ctor
     * @param {?} value
     * @param {?} fb
     * @param {?=} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    FormArray$$1.BuildWithTypeAndValue = /**
     * @template T
     * @param {?} ctor
     * @param {?} value
     * @param {?} fb
     * @param {?=} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    function (ctor, value, fb, controls, validator, asyncValidator) {
        if (controls === void 0) { controls = []; }
        var /** @type {?} */ fa = new FormArray$$1(fb, controls, validator, asyncValidator);
        fa.ctor = ctor;
        fa.setValue(value);
        return fa;
    };
    /**
     * @template T
     * @param {?} value
     * @param {?} fb
     * @param {?=} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    FormArray$$1.BuildWithValue = /**
     * @template T
     * @param {?} value
     * @param {?} fb
     * @param {?=} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
    function (value, fb, controls, validator, asyncValidator) {
        if (controls === void 0) { controls = []; }
        var /** @type {?} */ fa = new FormArray$$1(fb, controls, validator, asyncValidator);
        fa.setValue(value);
        return fa;
    };
    /**
     * @param {?} value
     * @param {?} ctor
     * @return {?}
     */
    FormArray$$1.GetValue = /**
     * @param {?} value
     * @param {?} ctor
     * @return {?}
     */
    function (value, ctor) {
        return toArray(value).map(function (x) { return getValue(build(ctor, x)); });
    };
    Object.defineProperty(FormArray$$1.prototype, "maxIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this.length - 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormArray$$1.prototype, "values", {
        get: /**
         * @return {?}
         */
        function () {
            return __spread(this.value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} n
     * @return {?}
     */
    FormArray$$1.prototype.buildControls = /**
     * @param {?} n
     * @return {?}
     */
    function (n) {
        var _this = this;
        return this.buildItems(n).map(function (x) { return buildAbstractControl(_this.fb, x); });
    };
    /**
     * @param {?} n
     * @return {?}
     */
    FormArray$$1.prototype.buildItems = /**
     * @param {?} n
     * @return {?}
     */
    function (n) {
        var _this = this;
        return Array.from(Array(n).keys()).map(function (x) { return _this.ctor ? getValue(new _this.ctor()) : {}; });
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FormArray$$1.prototype.getValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        return this.ctor ? toArray(value).map(function (x) { return getValue(build(_this.ctor, x)); }) : value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FormArray$$1.prototype.resetValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.removeAll();
        this.addControls(value);
        this.setValue(value);
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FormArray$$1.prototype.setLength = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (this.length < value) {
            this.add(value - this.length);
        }
        else if (this.length > value) {
            this.remove(this.length - value);
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FormArray$$1.prototype.setValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.setLength(value.length);
        _super.prototype.setValue.call(this, this.getValue(value));
    };
    /**
     * @param {?} id
     * @return {?}
     */
    FormArray$$1.prototype.findControlById = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.controls.find(function (control) { return control.value && control.value['id'] && control.value['id'] === id; });
    };
    /**
     * @return {?}
     */
    FormArray$$1.prototype.removeAll = /**
     * @return {?}
     */
    function () {
        this.controls = [];
    };
    /**
     * @param {?} indexes
     * @return {?}
     */
    FormArray$$1.prototype.removeIndexes = /**
     * @param {?} indexes
     * @return {?}
     */
    function (indexes) {
        var _this = this;
        indexes.forEach(function (index) {
            _this.removeAt(index);
        });
    };
    /**
     * @param {?} n
     * @return {?}
     */
    FormArray$$1.prototype.add = /**
     * @param {?} n
     * @return {?}
     */
    function (n) {
        var _this = this;
        this.buildControls(n).forEach(function (x) {
            _this.push(x);
        });
    };
    /**
     * @param {?} n
     * @return {?}
     */
    FormArray$$1.prototype.remove = /**
     * @param {?} n
     * @return {?}
     */
    function (n) {
        var _this = this;
        var /** @type {?} */ k = Math.min(n, this.length);
        Array.from(Array(k).keys()).forEach(function (x) {
            _this.removeAt(_this.maxIndex);
        });
    };
    /**
     * @param {?} value
     * @return {?}
     */
    FormArray$$1.prototype.addControls = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        var /** @type {?} */ controls = value.map(function (x) { return _this.fb.group(buildControlsConfig(x, _this.fb)); });
        controls.forEach(function (control) {
            _this.push(control);
        });
    };
    /**
     * Set value of each control.
     * @param ctor Class constructor
     * @param props Values to assign to props of each control
     */
    /**
     * Set value of each control.
     * @param {?} ctor Class constructor
     * @param {?} props Values to assign to props of each control
     * @return {?}
     */
    FormArray$$1.prototype.setAll = /**
     * Set value of each control.
     * @param {?} ctor Class constructor
     * @param {?} props Values to assign to props of each control
     * @return {?}
     */
    function (ctor, props) {
        this.controls.forEach(function (control) {
            control.setValue(build(new ctor(), control.value, props));
        });
    };
    return FormArray$$1;
}(FormArray));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} fb
 * @param {?} value
 * @return {?}
 */
function buildAbstractControl(fb, value) {
    return isGroupValue(value) ? fb.group(buildControlsConfig(value, fb)) : fb.control(value);
}
/**
 * Construct form builder and initialize new form array
 * @template T
 * @param {?} ctor
 * @param {?=} validator
 * @param {?=} asyncValidator
 * @return {?}
 */
function buildArrayFromType(ctor, validator, asyncValidator) {
    var /** @type {?} */ fb = new FormBuilder();
    return FormArray$1.BuildWithType(ctor, fb, [], validator, asyncValidator);
}
/**
 * @param {?} fb
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function buildControl(fb, model, key) {
    return isFormGroup(model, key) ?
        fb.group(buildControlsConfig(model[key], fb))
        : (isFormArray(model, key) ? buildFormArray(fb, model, key)
            : (hasValidators(model, key) ? [model[key], model['metadata'][key]['validators']]
                : [model[key]]));
}
/**
 * Construct form builder and initialize new form group.
 * @template T
 * @param {?} model
 * @return {?}
 */
function buildControlFromModel(model) {
    var /** @type {?} */ fb = new FormBuilder();
    var /** @type {?} */ controlsConfig = buildControlsConfig(model, fb);
    return hasGroupValidators(model) ? fb.group(controlsConfig, model['metadata']['validators']) : fb.group(controlsConfig);
}
/**
 * Function to recursively construct form control config object.
 * @param {?} model
 * @param {?} fb
 * @return {?}
 */
function buildControlsConfig(model, fb) {
    var /** @type {?} */ keys = getAllProps(model);
    return keys.filter(function (key) { return key !== 'metadata' && !ignoreKey(model, key); })
        .reduce(function (acc, key) {
        return Object.assign({}, acc, (_a = {}, _a[key] = buildControl(fb, model, key), _a));
        var _a;
    }, {});
}
/**
 * Initialize new form array.
 * @template T
 * @param {?} fb
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function buildFormArray(fb, model, key) {
    var /** @type {?} */ ctor = findFormArrayType(model, key);
    var /** @type {?} */ value = model[key];
    var /** @type {?} */ controls = buildFormArrayControls(fb, value, ctor);
    return ctor ? FormArray$1.BuildWithType(ctor, fb, controls) : FormArray$1.Build(fb, []);
}
/**
 * @template T
 * @param {?} fb
 * @param {?} value
 * @param {?=} ctor
 * @return {?}
 */
function buildFormArrayControls(fb, value, ctor) {
    return ctor ? value.map(function (x) { return buildAbstractControl(fb, getValue(build(ctor, x))); })
        : value.map(function (x) { return buildAbstractControl(fb, x); });
}
/**
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function findFormArrayType(model, key) {
    return model['metadata'] && model['metadata'][key] ? /** @type {?} */ (model['metadata'][key]['type']) : null;
}
/**
 * @param {?} model
 * @return {?}
 */
function hasGroupValidators(model) {
    return model['metadata'] && model['metadata']['validators'];
}
/**
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function hasValidators(model, key) {
    return model['metadata'] && model['metadata'][key] && model['metadata'][key]['validators'];
}
/**
 * @param {?} value
 * @return {?}
 */
function isArrayValue(value) {
    return Array.isArray(value);
}
/**
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function isFormArray(model, key) {
    return Array.isArray(model[key]) && model['metadata'] && model['metadata'][key] && model['metadata'][key]['isFormArray'];
}
/**
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function isFormControl(model, key) {
    return model['metadata'] && model['metadata']['controls'] && inArray(model['metadata']['controls'], key);
}
/**
 * @param {?} model
 * @param {?} key
 * @return {?}
 */
function isFormGroup(model, key) {
    return model[key]
        && typeof model[key] === 'object'
        && !Array.isArray(model[key])
        && Object.keys(model[key]).length > 0
        && !isFormControl(model, key)
        && !isFormArray(model, key);
}
/**
 * @param {?} value
 * @return {?}
 */
function isGroupValue(value) {
    return typeof value === 'object' && Object.keys(value).length > 0 && !isArrayValue(value);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * Decorates an abstract control property built using form builder.
 * @template T
 * @param {?} ctor
 * @return {?}
 */
function Control(ctor) {
    var /** @type {?} */ propertyDecorator = function (target, propertySignature) {
        var /** @type {?} */ decoratedProperty = buildControlFromModel(new ctor());
        target[propertySignature] = decoratedProperty;
        return target;
    };
    return propertyDecorator;
}
/**
 * Decorates an abstract control property built using form builder.
 * @template T
 * @param {?} ctor
 * @param {?=} validator
 * @param {?=} asyncValidator
 * @return {?}
 */
function ArrayControl(ctor, validator, asyncValidator) {
    var /** @type {?} */ propertyDecorator = function (target, propertySignature) {
        var /** @type {?} */ decoratedProperty = buildArrayFromType(ctor, validator, asyncValidator);
        target[propertySignature] = decoratedProperty;
        return target;
    };
    return propertyDecorator;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var  /**
 * @template T
 */
HttpDeletePayload = /** @class */ (function () {
    function HttpDeletePayload() {
        this.path = '';
        this.options = new HttpOptions();
        this.headers = undefined;
        this.onSuccess = '';
    }
    return HttpDeletePayload;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
HttpGetPayload = /** @class */ (function () {
    function HttpGetPayload() {
        this.path = '';
        this.options = new HttpOptions();
        this.headers = undefined;
        this.onSuccess = '';
    }
    return HttpGetPayload;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
HttpPutPayload = /** @class */ (function () {
    function HttpPutPayload() {
        this.path = '';
        this.model = null;
        this.options = new HttpOptions();
        this.headers = undefined;
        this.onSuccess = '';
    }
    return HttpPutPayload;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
HttpPostPayload = /** @class */ (function () {
    function HttpPostPayload() {
        this.path = '';
        this.model = null;
        this.options = new HttpOptions();
        this.headers = undefined;
        this.onSuccess = '';
    }
    return HttpPostPayload;
}());
/** @enum {number} */
var HTTP_REQUEST_STATUS = {
    PENDING: 0,
    ERROR: 1,
    SUCCESS: 2,
};
HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS.PENDING] = "PENDING";
HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS.ERROR] = "ERROR";
HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS.SUCCESS] = "SUCCESS";
/** @enum {number} */
var HTTP_STATUS_CODES = {
    CONTINUE: 100,
    SWITCHING_PROTOCOLS: 101,
    OK: 200,
    CREATED: 201,
    ACCEPTED: 202,
    NON_AUTHORITATIVE_INFORMATION: 203,
    NO_CONTENT: 204,
    RESET_CONTENT: 205,
    PARTIAL_CONTENT: 206,
    MULTIPLE_CHOICES: 300,
    MOVED_PERMANENTLY: 301,
    FOUND: 302,
    SEE_OTHER: 303,
    NOT_MODIFIED: 304,
    USE_PROXY: 305,
    TEMPORARY_REDIRECT: 307,
    BAD_REQUEST: 400,
    UNAUTHORIZED: 401,
    PAYMENT_REQUIRED: 402,
    FORBIDDEN: 403,
    NOT_FOUND: 404,
    METHOD_NOT_ALLOWED: 405,
    NOT_ACCEPTABLE: 406,
    PROXY_AUTHENTICATION_REQUIRED: 407,
    REQUEST_TIMEOUT: 408,
    CONFLICT: 409,
    GONE: 410,
    LENGTH_REQUIRED: 411,
    PRECONDITION_FAILED: 412,
    REQUEST_ENTITY_TOO_LARGE: 413,
    REQUEST_URI_TOO_LONG: 414,
    UNSUPPORTED_MEDIA_TYPE: 415,
    REQUESTED_RANGE_NOT_SATISFIABLE: 416,
    EXPECTATION_FAILED: 417,
    UNPROCESSABLE_ENTITY: 422,
    TOO_MANY_REQUESTS: 429,
    INTERNAL_SERVER_ERROR: 500,
    NOT_IMPLEMENTED: 501,
    BAD_GATEWAY: 502,
    SERVICE_UNAVAILABLE: 503,
    GATEWAY_TIMEOUT: 504,
    HTTP_VERSION_NOT_SUPPORTED: 505,
};
HTTP_STATUS_CODES[HTTP_STATUS_CODES.CONTINUE] = "CONTINUE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.SWITCHING_PROTOCOLS] = "SWITCHING_PROTOCOLS";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.OK] = "OK";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.CREATED] = "CREATED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.ACCEPTED] = "ACCEPTED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.NON_AUTHORITATIVE_INFORMATION] = "NON_AUTHORITATIVE_INFORMATION";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.NO_CONTENT] = "NO_CONTENT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.RESET_CONTENT] = "RESET_CONTENT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.PARTIAL_CONTENT] = "PARTIAL_CONTENT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.MULTIPLE_CHOICES] = "MULTIPLE_CHOICES";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.MOVED_PERMANENTLY] = "MOVED_PERMANENTLY";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.FOUND] = "FOUND";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.SEE_OTHER] = "SEE_OTHER";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.NOT_MODIFIED] = "NOT_MODIFIED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.USE_PROXY] = "USE_PROXY";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.TEMPORARY_REDIRECT] = "TEMPORARY_REDIRECT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.BAD_REQUEST] = "BAD_REQUEST";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.UNAUTHORIZED] = "UNAUTHORIZED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.PAYMENT_REQUIRED] = "PAYMENT_REQUIRED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.FORBIDDEN] = "FORBIDDEN";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.NOT_FOUND] = "NOT_FOUND";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.METHOD_NOT_ALLOWED] = "METHOD_NOT_ALLOWED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.NOT_ACCEPTABLE] = "NOT_ACCEPTABLE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.PROXY_AUTHENTICATION_REQUIRED] = "PROXY_AUTHENTICATION_REQUIRED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.REQUEST_TIMEOUT] = "REQUEST_TIMEOUT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.CONFLICT] = "CONFLICT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.GONE] = "GONE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.LENGTH_REQUIRED] = "LENGTH_REQUIRED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.PRECONDITION_FAILED] = "PRECONDITION_FAILED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.REQUEST_ENTITY_TOO_LARGE] = "REQUEST_ENTITY_TOO_LARGE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.REQUEST_URI_TOO_LONG] = "REQUEST_URI_TOO_LONG";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.UNSUPPORTED_MEDIA_TYPE] = "UNSUPPORTED_MEDIA_TYPE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.REQUESTED_RANGE_NOT_SATISFIABLE] = "REQUESTED_RANGE_NOT_SATISFIABLE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.EXPECTATION_FAILED] = "EXPECTATION_FAILED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.UNPROCESSABLE_ENTITY] = "UNPROCESSABLE_ENTITY";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.TOO_MANY_REQUESTS] = "TOO_MANY_REQUESTS";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR] = "INTERNAL_SERVER_ERROR";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.NOT_IMPLEMENTED] = "NOT_IMPLEMENTED";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.BAD_GATEWAY] = "BAD_GATEWAY";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.SERVICE_UNAVAILABLE] = "SERVICE_UNAVAILABLE";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.GATEWAY_TIMEOUT] = "GATEWAY_TIMEOUT";
HTTP_STATUS_CODES[HTTP_STATUS_CODES.HTTP_VERSION_NOT_SUPPORTED] = "HTTP_VERSION_NOT_SUPPORTED";
var HttpOptions = /** @class */ (function () {
    function HttpOptions() {
        this.prependBaseUrl = true;
    }
    return HttpOptions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var HttpActions = /** @class */ (function () {
    function HttpActions() {
    }
    /**
     * @param {?} path
     * @param {?} target
     * @return {?}
     */
    HttpActions.addPath = /**
     * @param {?} path
     * @param {?} target
     * @return {?}
     */
    function (path, target) {
        var /** @type {?} */ existingMatches = target['matches'] || [];
        var /** @type {?} */ matches = inArray(existingMatches, path) ? existingMatches : __spread(existingMatches, [path]);
        return Object.assign(target, { matches: matches });
    };
    /**
     * @param {?} path
     * @param {?} payload
     * @return {?}
     */
    HttpActions.matchPath = /**
     * @param {?} path
     * @param {?} payload
     * @return {?}
     */
    function (path, payload) {
        if (payload && payload['results']) {
            return Object.assign(payload, { results: HttpActions.matchPath(path, payload['results']) });
        }
        if (Array.isArray(payload)) {
            return payload.map(function (x) { return HttpActions.addPath(path, x); });
        }
        return HttpActions.addPath(path, payload);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpActions.buildError = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return ErrorActions.add(payload);
    };
    /**
     * @param {?} key
     * @param {?} e
     * @return {?}
     */
    HttpActions.buildErrorPayload = /**
     * @param {?} key
     * @param {?} e
     * @return {?}
     */
    function (key, e) {
        return {
            key: key,
            error: e
        };
    };
    /**
     * @param {?} e
     * @param {?} onError
     * @return {?}
     */
    HttpActions.handleError = /**
     * @param {?} e
     * @param {?} onError
     * @return {?}
     */
    function (e, onError) {
        return {
            type: onError,
            payload: e
        };
    };
    /**
     * @param {?} e
     * @param {?} outlet
     * @return {?}
     */
    HttpActions.handleErrorOutlet = /**
     * @param {?} e
     * @param {?} outlet
     * @return {?}
     */
    function (e, outlet) {
        return ErrorActions.addAtOutlet(e, outlet);
    };
    /**
     * @param {?} e
     * @return {?}
     */
    HttpActions.handleErrorDefault = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return {
            type: HttpActions.DELETE_ERROR,
            payload: HttpActions.buildErrorPayload('lastError', e)
        };
    };
    /**
     * @param {?} path
     * @param {?} onSuccessPayload
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.delete = /**
     * @param {?} path
     * @param {?} onSuccessPayload
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (path, onSuccessPayload, onSuccess, onError) {
        var /** @type {?} */ payload = Object.assign(new HttpDeletePayload(), {
            path: path,
            onSuccess: onSuccess || HttpActions.DELETE_SUCCESS,
            onSuccessPayload: onSuccessPayload,
            onError: onError || HttpActions.DELETE_ERROR
        });
        return HttpActions.httpDelete(payload);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpActions.httpDelete = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: HttpActions.DELETE,
            payload: payload
        };
    };
    /**
     * @param {?} model
     * @param {?=} actionType
     * @return {?}
     */
    HttpActions.deleteSuccess = /**
     * @param {?} model
     * @param {?=} actionType
     * @return {?}
     */
    function (model, actionType) {
        return {
            type: actionType || HttpActions.DELETE_SUCCESS,
            payload: model
        };
    };
    /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.deleteError = /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    function (e, onError) {
        if (typeof onError === 'string') {
            return HttpActions.handleError(e, onError);
        }
        // else if (typeof onError === 'ErrorOutlet') {
        //     return HttpActions.handleErrorOutlet(e, onError);
        // }
        return HttpActions.handleErrorDefault(e);
    };
    /**
     * @param {?} path
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.get = /**
     * @param {?} path
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (path, onSuccess, onError) {
        var /** @type {?} */ payload = Object.assign(new HttpGetPayload(), {
            path: path,
            onSuccess: onSuccess || HttpActions.GET_SUCCESS,
            onError: onError || HttpActions.GET_ERROR
        });
        return HttpActions.httpGet(payload);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpActions.httpGet = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: HttpActions.GET,
            payload: payload
        };
    };
    /**
     * @param {?} response
     * @param {?=} actionType
     * @return {?}
     */
    HttpActions.getSuccess = /**
     * @param {?} response
     * @param {?=} actionType
     * @return {?}
     */
    function (response, actionType) {
        return {
            type: actionType || HttpActions.GET_SUCCESS,
            payload: response
        };
    };
    /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.getError = /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    function (e, onError) {
        if (typeof onError === 'string') {
            return HttpActions.handleError(e, onError);
        }
        // else if (typeof onError === 'ErrorOutlet') {
        //     return HttpActions.handleErrorOutlet(e, onError);
        // }
        return HttpActions.handleErrorDefault(e);
    };
    /**
     * @param {?} path
     * @param {?} model
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.post = /**
     * @param {?} path
     * @param {?} model
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (path, model, onSuccess, onError) {
        var /** @type {?} */ payload = Object.assign(new HttpPostPayload(), {
            path: path,
            model: model,
            onSuccess: onSuccess || HttpActions.POST_SUCCESS,
            onError: onError || HttpActions.POST_ERROR
        });
        return HttpActions.httpPost(payload);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpActions.httpPost = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: HttpActions.POST,
            payload: payload
        };
    };
    /**
     * @param {?} path
     * @param {?} model
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.postFormUrlEncoded = /**
     * @param {?} path
     * @param {?} model
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (path, model, onSuccess, onError) {
        var /** @type {?} */ payload = Object.assign(new HttpPostPayload(), {
            path: path,
            model: model,
            onSuccess: onSuccess || HttpActions.GET_SUCCESS,
            onError: onError || HttpActions.GET_ERROR
        });
        return {
            type: HttpActions.POST_FORM_URL_ENCODED,
            payload: payload
        };
    };
    /**
     * @param {?} model
     * @param {?=} actionType
     * @return {?}
     */
    HttpActions.postSuccess = /**
     * @param {?} model
     * @param {?=} actionType
     * @return {?}
     */
    function (model, actionType) {
        return {
            type: actionType || HttpActions.POST_SUCCESS,
            payload: model
        };
    };
    /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.postError = /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    function (e, onError) {
        if (typeof onError === 'string') {
            return HttpActions.handleError(e, onError);
        }
        else if (typeof onError === 'object') {
            return HttpActions.handleErrorOutlet(e, onError);
        }
        return HttpActions.handleErrorDefault(e);
    };
    /**
     * @param {?} path
     * @param {?} model
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.put = /**
     * @param {?} path
     * @param {?} model
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (path, model, onSuccess, onError) {
        var /** @type {?} */ payload = Object.assign(new HttpPutPayload(), {
            path: path,
            model: model,
            onSuccess: onSuccess || HttpActions.PUT_SUCCESS,
            onError: onError || HttpActions.PUT_ERROR
        });
        return HttpActions.httpPut(payload);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpActions.httpPut = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: HttpActions.PUT,
            payload: payload
        };
    };
    /**
     * @param {?} model
     * @param {?=} actionType
     * @return {?}
     */
    HttpActions.putSuccess = /**
     * @param {?} model
     * @param {?=} actionType
     * @return {?}
     */
    function (model, actionType) {
        return {
            type: actionType || HttpActions.PUT_SUCCESS,
            payload: model
        };
    };
    /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.putError = /**
     * @param {?} e
     * @param {?=} onError
     * @return {?}
     */
    function (e, onError) {
        if (typeof onError === 'string') {
            return HttpActions.handleError(e, onError);
        }
        // else if (typeof onError === 'ErrorOutlet') {
        //     return HttpActions.handleErrorOutlet(e, onError);
        // }
        return HttpActions.handleErrorDefault(e);
    };
    /**
     * @param {?} path
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    HttpActions.search = /**
     * @param {?} path
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (path, onSuccess, onError) {
        var /** @type {?} */ payload = Object.assign(new HttpGetPayload(), {
            path: path,
            onSuccess: onSuccess || HttpActions.SEARCH_SUCCESS,
            onError: onError || HttpActions.SEARCH_ERROR
        });
        return {
            type: HttpActions.SEARCH,
            payload: payload
        };
    };
    /**
     * @param {?} response
     * @param {?=} actionType
     * @param {?=} path
     * @return {?}
     */
    HttpActions.searchSuccess = /**
     * @param {?} response
     * @param {?=} actionType
     * @param {?=} path
     * @return {?}
     */
    function (response, actionType, path) {
        var /** @type {?} */ payload = path ? HttpActions.matchPath(path, response) : response;
        return {
            type: actionType || HttpActions.SEARCH_SUCCESS,
            payload: payload
        };
    };
    HttpActions.DELETE = "[Http] DELETE";
    HttpActions.DELETE_SUCCESS = "[Http] DELETE Success";
    HttpActions.DELETE_ERROR = "[Http] DELETE Error";
    HttpActions.GET = "[Http] GET";
    HttpActions.GET_SUCCESS = "[Http] GET Success";
    HttpActions.GET_ERROR = "[Http] GET Error";
    HttpActions.POST = "[Http] POST";
    HttpActions.POST_SUCCESS = "[Http] POST Success";
    HttpActions.POST_ERROR = "[Http] POST Error";
    HttpActions.POST_FORM_URL_ENCODED = "[Http] POST Form URL Encoded";
    HttpActions.PUT = "[Http] PUT";
    HttpActions.PUT_SUCCESS = "[Http] PUT Success";
    HttpActions.PUT_ERROR = "[Http] PUT Error";
    HttpActions.SEARCH = "[Http] SEARCH";
    HttpActions.SEARCH_SUCCESS = "[Http] SEARCH Success";
    HttpActions.SEARCH_ERROR = "[Http] SEARCH Error";
    return HttpActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var HttpService = /** @class */ (function () {
    function HttpService(http, baseUrl$, authToken$) {
        var _this = this;
        this.http = http;
        this.baseUrl$ = baseUrl$;
        this.authToken$ = authToken$;
        this._authToken = '';
        this._baseUrl = '';
        this.headers = {};
        this.logEvents = true;
        this.useDefaultHeaders = true;
        this.authTokenChanges = this.authToken$.subscribe(function (x) {
            _this.authToken = x;
        });
        this.baseUrlChanges = this.baseUrl$.subscribe(function (x) {
            _this.baseUrl = x;
        });
    }
    Object.defineProperty(HttpService.prototype, "authToken", {
        get: /**
         * @return {?}
         */
        function () {
            return this._authToken;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._authToken = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HttpService.prototype, "baseUrl", {
        get: /**
         * @return {?}
         */
        function () {
            return this._baseUrl;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._baseUrl = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HttpService.prototype, "defaultHeaders", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ headers = new HttpHeaders();
            headers = headers.append('Content-type', 'application/json');
            if (this.authToken) {
                headers = headers.append('Authorization', 'Bearer ' + this.authToken);
            }
            return headers;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(HttpService.prototype, "requestHeaders", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            var /** @type {?} */ headers = this.useDefaultHeaders ? this.defaultHeaders : new HttpHeaders();
            Object.keys(this.headers).forEach(function (key) {
                headers = headers.append(key, _this.headers[key]);
            });
            return headers;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?=} headers
     * @return {?}
     */
    HttpService.prototype.appendHeaders = /**
     * @param {?=} headers
     * @return {?}
     */
    function (headers) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        var /** @type {?} */ requestHeaders = this.requestHeaders;
        Object.keys(headers).forEach(function (key) {
            requestHeaders = requestHeaders.append(key, _this.headers[key]);
        });
        return requestHeaders;
    };
    /**
     * Make a DELETE request.
     * @param relativePath
     * @param headers
     * @param options
     */
    /**
     * Make a DELETE request.
     * @param {?} relativePath
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    HttpService.prototype.delete = /**
     * Make a DELETE request.
     * @param {?} relativePath
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    function (relativePath, headers, options) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        if (options === void 0) { options = new HttpOptions(); }
        var /** @type {?} */ url = options.prependBaseUrl ? this.formatUrl(relativePath) : relativePath;
        var /** @type {?} */ httpHeaders = this.appendHeaders(headers);
        var /** @type {?} */ obs = this.http.delete(url, {
            headers: httpHeaders
        });
        return obs.pipe(map(function (res) { return res && res['json'] && typeof res['json'] === 'function' ? res['json']() : res; }), catchError(function (err) { return _this.onError(err); }), finalize(function () {
            _this.onComplete('DELETE', url);
        }));
    };
    /**
     * Make a GET request.
     * @param relativePath
     * @param headers
     * @param options
     */
    /**
     * Make a GET request.
     * @param {?} relativePath
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    HttpService.prototype.get = /**
     * Make a GET request.
     * @param {?} relativePath
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    function (relativePath, headers, options) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        if (options === void 0) { options = new HttpOptions(); }
        var /** @type {?} */ url = options.prependBaseUrl ? this.formatUrl(relativePath) : relativePath;
        var /** @type {?} */ httpHeaders = this.appendHeaders(headers);
        var /** @type {?} */ obs = this.http.get(url, {
            headers: httpHeaders
        });
        return obs.pipe(map(function (res) { return res && res['json'] && typeof res['json'] === 'function' ? res['json']() : res; }), catchError(function (err) { return _this.onError(err); }), finalize(function () {
            _this.onComplete('GET', url);
        }));
    };
    /**
     * Make an autocomplete GET request.
     * @param relativePath
     * @param headers
     * @param options
     */
    /**
     * Make an autocomplete GET request.
     * @param {?} relativePath
     * @param {?} query
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    HttpService.prototype.autocomplete = /**
     * Make an autocomplete GET request.
     * @param {?} relativePath
     * @param {?} query
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    function (relativePath, query, headers, options) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        if (options === void 0) { options = new HttpOptions(); }
        if (!query.term || query.term.length < 1) {
            return of([]);
        }
        var /** @type {?} */ path = relativePath + "/" + QueryModel.BuildQueryString(query);
        var /** @type {?} */ url = options.prependBaseUrl ? this.formatUrl(relativePath) : relativePath;
        var /** @type {?} */ httpHeaders = this.appendHeaders(headers);
        var /** @type {?} */ obs = this.http.get(url, {
            headers: httpHeaders
        });
        return obs.pipe(map(function (res) { return res && res['json'] && typeof res['json'] === 'function' ? res['json']() : res; }), debounceTime(500), distinctUntilChanged(), map(function (json) { return HttpActions.matchPath(path, json); }), catchError(function (err) { return _this.onError(err); }), finalize(function () {
            _this.onComplete('GET', url);
        }));
    };
    /**
     * Make a POST request.
     * @param relativePath
     * @param body
     * @param headers
     * @param options
     */
    /**
     * Make a POST request.
     * @param {?} relativePath
     * @param {?} body
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    HttpService.prototype.post = /**
     * Make a POST request.
     * @param {?} relativePath
     * @param {?} body
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    function (relativePath, body, headers, options) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        if (options === void 0) { options = new HttpOptions(); }
        var /** @type {?} */ url = options.prependBaseUrl ? this.formatUrl(relativePath) : relativePath;
        var /** @type {?} */ httpHeaders = this.appendHeaders(headers);
        var /** @type {?} */ obs = this.http.post(url, serialize(body), {
            headers: httpHeaders
        });
        return obs.pipe(map(function (res) { return res && res['json'] && typeof res['json'] === 'function' ? res['json']() : res; }), catchError(function (err) { return _this.onError(err); }), finalize(function () {
            _this.onComplete('POST', url);
        }));
    };
    /**
     * Make a POST request with form url-encoded content type.
     * @param relativePath
     * @param body
     * @param headers
     * @param options
     */
    /**
     * Make a POST request with form url-encoded content type.
     * @param {?} relativePath
     * @param {?} body
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    HttpService.prototype.postFormUrlEncoded = /**
     * Make a POST request with form url-encoded content type.
     * @param {?} relativePath
     * @param {?} body
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    function (relativePath, body, headers, options) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        if (options === void 0) { options = new HttpOptions(); }
        var /** @type {?} */ url = options.prependBaseUrl ? this.formatUrl(relativePath) : relativePath;
        var /** @type {?} */ httpHeaders = new HttpHeaders({ 'content-type': 'application/x-www-form-urlencoded' });
        var /** @type {?} */ obs = this.http.post(url, body, {
            headers: httpHeaders
        });
        return obs.pipe(map(function (res) { return res && res['json'] && typeof res['json'] === 'function' ? res['json']() : res; }), catchError(function (err) { return _this.onError(err); }), finalize(function () {
            _this.onComplete('POST FORM URL-ENCODED', url);
        }));
    };
    /**
     * Make a PUT request.
     * @param relativePath
     * @param body
     * @param headers
     * @param options
     */
    /**
     * Make a PUT request.
     * @param {?} relativePath
     * @param {?} body
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    HttpService.prototype.put = /**
     * Make a PUT request.
     * @param {?} relativePath
     * @param {?} body
     * @param {?=} headers
     * @param {?=} options
     * @return {?}
     */
    function (relativePath, body, headers, options) {
        var _this = this;
        if (headers === void 0) { headers = {}; }
        if (options === void 0) { options = new HttpOptions(); }
        var /** @type {?} */ url = options.prependBaseUrl ? this.formatUrl(relativePath) : relativePath;
        var /** @type {?} */ httpHeaders = this.appendHeaders(headers);
        var /** @type {?} */ obs = this.http.put(url, serialize(body), {
            headers: httpHeaders
        });
        return obs.pipe(map(function (res) { return res && res['json'] && typeof res['json'] === 'function' ? res['json']() : res; }), catchError(function (err) { return _this.onError(err); }), finalize(function () {
            _this.onComplete('PUT', url);
        }));
    };
    /**
     * This method will be used to format URLs for all cross-origin requests.
     */
    /**
     * This method will be used to format URLs for all cross-origin requests.
     * @param {?} path
     * @return {?}
     */
    HttpService.prototype.formatUrl = /**
     * This method will be used to format URLs for all cross-origin requests.
     * @param {?} path
     * @return {?}
     */
    function (path) {
        return this.baseUrl + "/" + path;
    };
    /**
     * Use this method when a promise is preferred over an observable.
     */
    /**
     * Use this method when a promise is preferred over an observable.
     * @param {?} url
     * @return {?}
     */
    HttpService.prototype.getPromise = /**
     * Use this method when a promise is preferred over an observable.
     * @param {?} url
     * @return {?}
     */
    function (url) {
        return this.get(url)
            .toPromise()
            .then(function (res) { return res.json(); });
    };
    /**
     * @param {?} error
     * @return {?}
     */
    HttpService.prototype.onError = /**
     * @param {?} error
     * @return {?}
     */
    function (error) {
        var /** @type {?} */ errorBody;
        try {
            errorBody = (error._body) ? JSON.parse(error._body) : { message: 'Internal server error', statusCode: error.status };
        }
        catch (/** @type {?} */ e) {
            if (error.status <= 0) {
                errorBody = { message: 'Internal server error.', statusCode: 500 };
            }
        }
        if (errorBody.message) {
            errorBody.message = errorBody.message.replace('An error has occured in the api.System.Exception: ', '');
            errorBody.message = errorBody.message.substring(0, errorBody.message.indexOf(' at'));
        }
        return throwError(errorBody);
    };
    /**
     * @param {?} method
     * @param {?} url
     * @return {?}
     */
    HttpService.prototype.onComplete = /**
     * @param {?} method
     * @param {?} url
     * @return {?}
     */
    function (method, url) {
        if (this.logEvents) {
            console.log("Completed " + method + " request to " + url);
        }
    };
    HttpService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    HttpService.ctorParameters = function () { return [
        { type: HttpClient },
        { type: Observable },
        { type: Observable }
    ]; };
    /** @nocollapse */ HttpService.ngInjectableDef = defineInjectable({ factory: function HttpService_Factory() { return new HttpService(inject(HttpClient), inject(Observable$1), inject(Observable$1)); }, token: HttpService, providedIn: "root" });
    return HttpService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var BaseEntity = /** @class */ (function () {
    function BaseEntity() {
        this.createdBy = null;
        this.createdById = 0;
        this.createdDate = new Date();
        this.formId = 0;
        this.lastModifiedBy = null;
        this.lastModifiedById = 0;
        this.lastModifiedDate = new Date();
        this.matches = [];
        this.ignore = [
            '_metadata',
            'metadata',
            'ignore',
            'createdBy',
            'createdById',
            'createdDate',
            'formId',
            'lastModifiedBy',
            'lastModifiedById',
            'lastModifiedDate',
            'lastModifiedOn',
            'lastUpdated',
            'matches',
        ];
        this._metadata = new Metadata();
    }
    Object.defineProperty(BaseEntity.prototype, "metadata", {
        get: /**
         * @return {?}
         */
        function () {
            return build(Metadata, this._metadata, {
                ignore: this.ignore
            });
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._metadata = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    BaseEntity.getGetters = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return Object.keys(this.prototype).filter(function (name) {
            return typeof Object.getOwnPropertyDescriptor(_this.prototype, name)['get'] === 'function';
        });
    };
    /**
     * @return {?}
     */
    BaseEntity.getSetters = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return Object.keys(this.prototype).filter(function (name) {
            return typeof Object.getOwnPropertyDescriptor(_this.prototype, name)['set'] === 'function';
        });
    };
    /**
     * @return {?}
     */
    BaseEntity.prototype.getGetters = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return Object.keys(this.constructor.prototype).filter(function (name) {
            return typeof Object.getOwnPropertyDescriptor(_this.constructor.prototype, name)['get'] === 'function';
        });
    };
    /**
     * @return {?}
     */
    BaseEntity.prototype.getSetters = /**
     * @return {?}
     */
    function () {
        var _this = this;
        return Object.keys(this.constructor.prototype).filter(function (name) {
            return typeof Object.getOwnPropertyDescriptor(_this.constructor.prototype, name)['set'] === 'function';
        });
    };
    /**
     * @param {?} value
     * @return {?}
     */
    BaseEntity.prototype.update = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return Object.assign(new BaseEntity(), value);
    };
    return BaseEntity;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ ActionCreator = function (actionType) {
    return function (target, propertySignature) {
        var /** @type {?} */ method = target[propertySignature];
        var /** @type {?} */ decoratedMethod = function () {
            var /** @type {?} */ $this = this;
            var /** @type {?} */ action = method.apply($this, arguments);
            action.actionType = actionType;
            return action;
        };
        target[propertySignature] = decoratedMethod;
        return target;
    };
};
var /** @type {?} */ ActionType = function () {
    return function (target, propertySignature) {
        return target;
    };
};
/**
 * Class Decorator Factory
 * Decorates a class.
 */
var /** @type {?} */ Class = function (metadata) {
    var /** @type {?} */ classDecorator = function (target) {
        return target;
    };
    return classDecorator;
};
var /** @type {?} */ Command = function () {
    return function (target, propertySignature) {
        return target;
    };
};
var /** @type {?} */ Dispatcher = function () {
    return function (target, propertySignature) {
        return target;
    };
};
/**
 * Decorates a class with properties from BaseEntity
 */
var /** @type {?} */ Entity = function (metadata) {
    /**
     * @template TFunction
     * @param {?} target
     * @return {?}
     */
    function classDecorator(target) {
        var /** @type {?} */ ctor = function () {
            Object.assign(this, new BaseEntity(), { metadata: metadata || {} });
        };
        ctor.prototype = Object.create(target.prototype);
        ctor.prototype.constructor = target;
        return /** @type {?} */ (ctor);
    }
    return classDecorator;
};
var /** @type {?} */ EventHandler = function () {
    return function (target, propertySignature) {
        return target;
    };
};
var /** @type {?} */ LifecycleHook = function () {
    return function (target, propertySignature) {
        return target;
    };
};
/**
 * Method Decorator Factory
 * Decorates a method.
 */
var /** @type {?} */ Method = function (metadata) {
    var /** @type {?} */ methodDecorator = function (target, propertySignature, descriptor) {
        return target;
    };
    return methodDecorator;
};
/**
 * Parameter Decorator Factory
 * Decorates a parameter.
 */
var /** @type {?} */ Parameter = function (metadata) {
    var /** @type {?} */ parameterDecorator = function (target, propertySignature, parameterIndex) {
        return target;
    };
    return parameterDecorator;
};
/**
 * Property Decorator Factory
 * Decorates a Property.
 */
var /** @type {?} */ Property = function (metadata) {
    var /** @type {?} */ propertyDecorator = function (target, propertySignature) {
        if (!target.metadata) {
            target.metadata = {};
        }
        target.metadata[propertySignature] = Object.assign(metadata, { propertyName: propertySignature });
        return target;
    };
    return propertyDecorator;
};
/**
 * Static Method Decorator Factory
 * Decorates a static method.
 */
var /** @type {?} */ StaticMethod = function (metadata) {
    var /** @type {?} */ staticMethodDecorator = function (target, propertySignature) {
        return target;
    };
    return staticMethodDecorator;
};
/**
 *  Static Property Decorator Factory
 * Decorates a static property.
 */
var /** @type {?} */ StaticProperty = function (metadata) {
    var /** @type {?} */ staticPropertyDecorator = function (target, propertySignature) {
        return target;
    };
    return staticPropertyDecorator;
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var HttpCommands = /** @class */ (function () {
    function HttpCommands(http) {
        this.http = http;
    }
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpCommands.prototype.delete$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return this.http.delete(payload.path, payload.headers, payload.options);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpCommands.prototype.get$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return this.http.get(payload.path, payload.headers, payload.options);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpCommands.prototype.post$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return this.http.post(payload.path, payload.model, payload.headers, payload.options);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpCommands.prototype.postFormUrlEncoded$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return this.http.postFormUrlEncoded(payload.path, payload.model, payload.headers, payload.options);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpCommands.prototype.put$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return this.http.put(payload.path, payload.model, payload.headers, payload.options);
    };
    HttpCommands.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    HttpCommands.ctorParameters = function () { return [
        { type: HttpService }
    ]; };
    /** @nocollapse */ HttpCommands.ngInjectableDef = defineInjectable({ factory: function HttpCommands_Factory() { return new HttpCommands(inject(HttpService)); }, token: HttpCommands, providedIn: "root" });
    __decorate([
        Command(),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HttpDeletePayload]),
        __metadata("design:returntype", Observable)
    ], HttpCommands.prototype, "delete$", null);
    __decorate([
        Command(),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HttpGetPayload]),
        __metadata("design:returntype", Observable)
    ], HttpCommands.prototype, "get$", null);
    __decorate([
        Command(),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HttpPostPayload]),
        __metadata("design:returntype", Observable)
    ], HttpCommands.prototype, "post$", null);
    __decorate([
        Command(),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HttpPostPayload]),
        __metadata("design:returntype", Observable)
    ], HttpCommands.prototype, "postFormUrlEncoded$", null);
    __decorate([
        Command(),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [HttpPutPayload]),
        __metadata("design:returntype", Observable)
    ], HttpCommands.prototype, "put$", null);
    return HttpCommands;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var HttpEffects = /** @class */ (function () {
    function HttpEffects(actions$, commands) {
        var _this = this;
        this.actions$ = actions$;
        this.commands = commands;
        this.onDelete$ = this.actions$.pipe(ofType(HttpActions.DELETE), mergeMap(function (action) { return _this.delete$(action.payload); }));
        this.onGet$ = this.actions$.pipe(ofType(HttpActions.GET), mergeMap(function (action) { return _this.get$(action.payload); }));
        this.onPost$ = this.actions$.pipe(ofType(HttpActions.POST), mergeMap(function (action) { return _this.post$(action.payload); }));
        this.onPostFormUrlEncoded$ = this.actions$.pipe(ofType(HttpActions.POST_FORM_URL_ENCODED), mergeMap(function (action) { return _this.postFormUrlEncoded$(action.payload); }));
        this.onPut$ = this.actions$.pipe(ofType(HttpActions.PUT), mergeMap(function (action) { return _this.put$(action.payload); }));
        this.onSearch$ = this.actions$.pipe(ofType(HttpActions.SEARCH), mergeMap(function (action) { return _this.search$(action.payload); }));
    }
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpEffects.prototype.delete$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        // console.log('DELETE:\t', payload.onSuccess);
        return this.commands.delete$(payload).pipe(map(function (model) { return HttpActions.deleteSuccess(payload.onSuccessPayload || model, payload.onSuccess); }), catchError(function (e) { return of(HttpActions.deleteError(e, payload.onError)); }));
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpEffects.prototype.get$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        // console.log('GET:\t', payload.onSuccess);
        return this.commands.get$(payload).pipe(map(function (model) { return HttpActions.getSuccess(model, payload.onSuccess); }), catchError(function (e) { return of(HttpActions.getError(e, payload.onError)); }));
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpEffects.prototype.post$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        // console.log('POST:\t', payload.onSuccess);
        return this.commands.post$(payload).pipe(map(function (model) { return HttpActions.postSuccess(model, payload.onSuccess); }), catchError(function (e) { return of(HttpActions.postError(e, payload.onError)); }));
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpEffects.prototype.postFormUrlEncoded$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        // console.log('POST:\t', payload.onSuccess);
        return this.commands.postFormUrlEncoded$(payload).pipe(map(function (model) { return HttpActions.postSuccess(model, payload.onSuccess); }), catchError(function (e) { return of(HttpActions.postError(e, payload.onError)); }));
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpEffects.prototype.put$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        // console.log('PUT:\t', payload.onSuccess);
        return this.commands.put$(payload).pipe(map(function (model) { return HttpActions.putSuccess(model, payload.onSuccess); }), catchError(function (e) { return of(HttpActions.putError(e, payload.onError)); }));
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    HttpEffects.prototype.search$ = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        // console.log('SEARCH:\t', payload.onSuccess);
        return this.commands.get$(payload).pipe(map(function (model) { return HttpActions.searchSuccess(model, payload.onSuccess, payload.path); }), catchError(function (e) { return of(HttpActions.getError(e, payload.onError)); }));
    };
    HttpEffects.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    HttpEffects.ctorParameters = function () { return [
        { type: Actions },
        { type: HttpCommands }
    ]; };
    __decorate([
        Effect(),
        __metadata("design:type", Object)
    ], HttpEffects.prototype, "onDelete$", void 0);
    __decorate([
        Effect(),
        __metadata("design:type", Object)
    ], HttpEffects.prototype, "onGet$", void 0);
    __decorate([
        Effect(),
        __metadata("design:type", Object)
    ], HttpEffects.prototype, "onPost$", void 0);
    __decorate([
        Effect(),
        __metadata("design:type", Object)
    ], HttpEffects.prototype, "onPostFormUrlEncoded$", void 0);
    __decorate([
        Effect(),
        __metadata("design:type", Object)
    ], HttpEffects.prototype, "onPut$", void 0);
    __decorate([
        Effect(),
        __metadata("design:type", Object)
    ], HttpEffects.prototype, "onSearch$", void 0);
    return HttpEffects;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ BASE_URL$ = new InjectionToken('API Base URL');
var /** @type {?} */ AUTH_TOKEN$ = new InjectionToken('API Auth Token');
/**
 * @param {?} store
 * @param {?} baseUrlSelector
 * @return {?}
 */
function baseUrlFactory(store, baseUrlSelector) {
    return store.pipe(baseUrlSelector);
}
/**
 * @param {?} store
 * @param {?} authTokenSelector
 * @return {?}
 */
function authTokenFactory(store, authTokenSelector) {
    return store.pipe(authTokenSelector);
}
/**
 * @param {?} http
 * @param {?} baseUrl$
 * @param {?} authToken$
 * @return {?}
 */
function httpServiceFactory(http, baseUrl$, authToken$) {
    return new HttpService(http, baseUrl$, authToken$);
}
/**
 * @param {?} urlSelector
 * @param {?} authTokenSelector
 * @return {?}
 */
function provideHttpContext(urlSelector, authTokenSelector) {
    return [
        HttpEffects,
        HttpCommands,
        { provide: HttpService, useFactory: httpServiceFactory, deps: [HttpClient, 'BASE_URL$', 'AUTH_TOKEN$'] },
        { provide: 'URL_SELECTOR', useValue: urlSelector },
        { provide: 'BASE_URL$', useFactory: baseUrlFactory, deps: [Store, 'URL_SELECTOR'] },
        { provide: 'TOKEN_SELECTOR', useValue: authTokenSelector },
        { provide: 'AUTH_TOKEN$', useFactory: authTokenFactory, deps: [Store, 'TOKEN_SELECTOR'] },
    ];
}
var HttpModule = /** @class */ (function () {
    function HttpModule() {
    }
    /**
     * @param {?} baseUrlSelector
     * @param {?} authTokenSelector
     * @return {?}
     */
    HttpModule.forRoot = /**
     * @param {?} baseUrlSelector
     * @param {?} authTokenSelector
     * @return {?}
     */
    function (baseUrlSelector, authTokenSelector) {
        return {
            ngModule: HttpModule,
            providers: provideHttpContext(baseUrlSelector, authTokenSelector)
        };
    };
    HttpModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        HttpClientModule,
                    ],
                    exports: [
                        HttpClientModule,
                    ]
                },] },
    ];
    return HttpModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LookupActions = /** @class */ (function () {
    function LookupActions() {
    }
    /**
     * @param {?} payload
     * @return {?}
     */
    LookupActions.addKey = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: LookupActions.ADD_KEY,
            payload: payload
        };
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    LookupActions.addValues = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: LookupActions.ADD_VALUES,
            payload: payload
        };
    };
    /**
     * @param {?} key
     * @return {?}
     */
    LookupActions.removeKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return {
            type: LookupActions.REMOVE_KEY,
            payload: key
        };
    };
    LookupActions.ADD_KEYS = '[Lookup] Add keys';
    LookupActions.ADD_KEY = '[Lookup] Add key';
    LookupActions.ADD_VALUES = '[Lookup] Add values';
    LookupActions.REMOVE_KEY = '[Lookup] Remove key';
    return LookupActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Lookup = /** @class */ (function () {
    function Lookup() {
        this.typeName = '';
        this.values = [];
        this._key = '';
    }
    Object.defineProperty(Lookup.prototype, "key", {
        get: /**
         * @return {?}
         */
        function () {
            return this._key || this.typeName;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._key = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Lookup.prototype, "name", {
        get: /**
         * @return {?}
         */
        function () {
            return this.key;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.key = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Lookup.prototype, "names", {
        get: /**
         * @return {?}
         */
        function () {
            return this.values.map(function (x) { return x.name; });
        },
        enumerable: true,
        configurable: true
    });
    return Lookup;
}());
var LookupValue = /** @class */ (function () {
    function LookupValue() {
        this.id = 0;
        this.active = true;
        this.description = '';
        this.name = '';
        this.sort = 0;
        this.tooltip = '';
        this._label = '';
    }
    Object.defineProperty(LookupValue.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value || this.id;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._value = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LookupValue.prototype, "label", {
        get: /**
         * @return {?}
         */
        function () {
            return this._label || this.description;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._label = value;
        },
        enumerable: true,
        configurable: true
    });
    return LookupValue;
}());
var Lookups = /** @class */ (function () {
    function Lookups() {
    }
    /**
     * @param {?} state
     * @param {?} lookups
     * @return {?}
     */
    Lookups.AddLookups = /**
     * @param {?} state
     * @param {?} lookups
     * @return {?}
     */
    function (state$$1, lookups) {
        return lookups.reduce(function (acc, lookup) {
            return build(Lookups, acc, (_a = {}, _a[lookup.key] = build(Lookup, lookup), _a));
            var _a;
        }, state$$1);
    };
    /**
     * @param {?} state
     * @param {?} lookup
     * @return {?}
     */
    Lookups.AddLookup = /**
     * @param {?} state
     * @param {?} lookup
     * @return {?}
     */
    function (state$$1, lookup) {
        return build(Lookups, state$$1, (_a = {},
            _a[lookup.key] = build(Lookup, lookup),
            _a));
        var _a;
    };
    /**
     * @param {?} values
     * @param {?} names
     * @return {?}
     */
    Lookups.BuildLookupValues = /**
     * @param {?} values
     * @param {?} names
     * @return {?}
     */
    function (values, names) {
        return names.reduce(function (acc, name) {
            var /** @type {?} */ value = values.find(function (x) { return x.name === name; });
            return value ? __spread(acc, [value]) : __spread(acc);
        }, []);
    };
    /**
     * @param {?} values
     * @param {?} name
     * @return {?}
     */
    Lookups.FindLookupIdByName = /**
     * @param {?} values
     * @param {?} name
     * @return {?}
     */
    function (values, name) {
        var /** @type {?} */ lkp = build(LookupValue, values.find(function (x) { return x.name === name; }));
        return lkp.id;
    };
    /**
     * @param {?} values
     * @param {?} id
     * @return {?}
     */
    Lookups.FindLookupNameById = /**
     * @param {?} values
     * @param {?} id
     * @return {?}
     */
    function (values, id) {
        var /** @type {?} */ lkp = build(LookupValue, values.find(function (x) { return x.id === id; }));
        return lkp.name;
    };
    /**
     * @param {?} state
     * @param {?} removeKey
     * @return {?}
     */
    Lookups.RemoveLookup = /**
     * @param {?} state
     * @param {?} removeKey
     * @return {?}
     */
    function (state$$1, removeKey) {
        var /** @type {?} */ newState = new Lookups();
        var /** @type {?} */ keys = Object.keys(state$$1).filter(function (key) { return key !== removeKey; });
        keys.forEach(function (key) {
            newState[key] = Object.assign({}, state$$1[key]);
        });
        return newState;
    };
    return Lookups;
}());
var AddLookupPayload = /** @class */ (function () {
    function AddLookupPayload() {
        this.key = '';
    }
    return AddLookupPayload;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var LookupService = /** @class */ (function () {
    function LookupService(store, lookupPath, lookupKeys) {
        if (lookupPath === void 0) { lookupPath = 'lookup'; }
        if (lookupKeys === void 0) { lookupKeys = []; }
        this.store = store;
        this._keys = [];
        this.path = 'lookup';
        this.path = lookupPath;
        this.keys = lookupKeys;
    }
    Object.defineProperty(LookupService.prototype, "keys", {
        get: /**
         * @return {?}
         */
        function () {
            return this._keys;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._keys = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} keys
     * @param {?=} values
     * @return {?}
     */
    LookupService.prototype.load = /**
     * @param {?} keys
     * @param {?=} values
     * @return {?}
     */
    function (keys, values) {
        if (values) {
            this.loadValues(values);
        }
        this.loadKeys(keys);
    };
    /**
     * @param {?} keys
     * @return {?}
     */
    LookupService.prototype.loadKeys = /**
     * @param {?} keys
     * @return {?}
     */
    function (keys) {
        this.keys = keys;
        this.store.dispatch(HttpActions.get("" + this.path + this.buildQueryString(), LookupActions.ADD_KEYS));
    };
    /**
     * @param {?} values
     * @return {?}
     */
    LookupService.prototype.loadValues = /**
     * @param {?} values
     * @return {?}
     */
    function (values) {
        this.store.dispatch(LookupActions.addValues(values));
    };
    /**
     * @param {?} key
     * @return {?}
     */
    LookupService.prototype.lookup = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        return this.store.select('lookup').pipe(map(function (s) { return s[key]; }));
    };
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    LookupService.prototype.addKey = /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function (key, value) {
        this.store.dispatch(LookupActions.addKey(build(AddLookupPayload, {
            key: key,
            value: value
        })));
    };
    /**
     * @param {?} key
     * @return {?}
     */
    LookupService.prototype.removeKey = /**
     * @param {?} key
     * @return {?}
     */
    function (key) {
        this.store.dispatch(LookupActions.removeKey(key));
    };
    /**
     * @return {?}
     */
    LookupService.prototype.buildQueryString = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ query = this.keys.length > 0 ? "?keys=" + this.keys[0] : '';
        this.keys.filter(function (key, index) { return index !== 0; })
            .forEach(function (key) {
            query += "&keys=" + key;
        });
        return query;
    };
    LookupService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    LookupService.ctorParameters = function () { return [
        { type: Store },
        { type: undefined, decorators: [{ type: Inject, args: [LOOKUP_PATH,] }] },
        { type: Array, decorators: [{ type: Inject, args: [LOOKUP_KEYS,] }] }
    ]; };
    /** @nocollapse */ LookupService.ngInjectableDef = defineInjectable({ factory: function LookupService_Factory() { return new LookupService(inject(Store), inject(LOOKUP_PATH), inject(LOOKUP_KEYS)); }, token: LookupService, providedIn: "root" });
    return LookupService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ LOOKUP_PATH = new InjectionToken('API lookup endpoint');
var /** @type {?} */ LOOKUP_KEYS = new InjectionToken('API lookup keys');
/**
 * @param {?} store
 * @param {?=} LOOKUP_PATH
 * @param {?=} LOOKUP_KEYS
 * @return {?}
 */
function lookupServiceFactory(store, LOOKUP_PATH, LOOKUP_KEYS) {
    if (LOOKUP_PATH === void 0) { LOOKUP_PATH = 'lookup'; }
    if (LOOKUP_KEYS === void 0) { LOOKUP_KEYS = []; }
    return new LookupService(store, LOOKUP_PATH, LOOKUP_KEYS);
}
/**
 * @param {?=} path
 * @param {?=} keys
 * @return {?}
 */
function provideLookup(path, keys) {
    if (path === void 0) { path = ''; }
    if (keys === void 0) { keys = []; }
    return [
        { provide: LookupService, useFactory: lookupServiceFactory, deps: [Store, LOOKUP_PATH, LOOKUP_KEYS] },
        { provide: LOOKUP_PATH, useValue: path },
        { provide: LOOKUP_KEYS, useValue: keys },
    ];
}
var LookupModule = /** @class */ (function () {
    function LookupModule() {
    }
    /**
     * @return {?}
     */
    LookupModule.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: LookupModule,
            providers: provideLookup('lookup', [])
        };
    };
    /**
     * @param {?=} path
     * @return {?}
     */
    LookupModule.forRootWithPath = /**
     * @param {?=} path
     * @return {?}
     */
    function (path) {
        if (path === void 0) { path = ''; }
        return {
            ngModule: LookupModule,
            providers: provideLookup(path, [])
        };
    };
    /**
     * @param {?} keys
     * @return {?}
     */
    LookupModule.forRootWithKeys = /**
     * @param {?} keys
     * @return {?}
     */
    function (keys) {
        return {
            ngModule: LookupModule,
            providers: provideLookup('lookup', keys)
        };
    };
    /**
     * @param {?=} path
     * @param {?=} keys
     * @return {?}
     */
    LookupModule.forRootWithPathAndKeys = /**
     * @param {?=} path
     * @param {?=} keys
     * @return {?}
     */
    function (path, keys) {
        if (path === void 0) { path = ''; }
        return {
            ngModule: LookupModule,
            providers: provideLookup(path, keys)
        };
    };
    LookupModule.decorators = [
        { type: NgModule, args: [{
                    imports: [],
                    declarations: []
                },] },
    ];
    return LookupModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var AppActions = /** @class */ (function () {
    function AppActions() {
    }
    /**
     * @return {?}
     */
    AppActions.noAction = /**
     * @return {?}
     */
    function () {
        return {
            type: AppActions.NO_ACTION
        };
    };
    AppActions.INIT_STORE = '[Storage] Init Store';
    AppActions.NO_ACTION = '[App] No Action';
    return AppActions;
}());
var ConfigActions = /** @class */ (function () {
    function ConfigActions() {
    }
    /**
     * @param {?} config
     * @return {?}
     */
    ConfigActions.initialize = /**
     * @param {?} config
     * @return {?}
     */
    function (config) {
        return {
            type: ConfigActions.INITIALIZE,
            payload: config
        };
    };
    ConfigActions.INITIALIZE = '[Config] Initialize Configuration';
    return ConfigActions;
}());
var SidenavActions = /** @class */ (function () {
    function SidenavActions() {
    }
    /**
     * @return {?}
     */
    SidenavActions.close = /**
     * @return {?}
     */
    function () {
        return {
            type: SidenavActions.CLOSE
        };
    };
    /**
     * @return {?}
     */
    SidenavActions.open = /**
     * @return {?}
     */
    function () {
        return {
            type: SidenavActions.OPEN
        };
    };
    /**
     * @return {?}
     */
    SidenavActions.toggle = /**
     * @return {?}
     */
    function () {
        return {
            type: SidenavActions.TOGGLE
        };
    };
    SidenavActions.CLOSE = '[Sidenav] Close';
    SidenavActions.OPEN = '[Sidenav] Open';
    SidenavActions.TOGGLE = '[Sidenav] Toggle';
    return SidenavActions;
}());
var WindowActions = /** @class */ (function () {
    function WindowActions() {
    }
    /**
     * @param {?} payload
     * @return {?}
     */
    WindowActions.resize = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return {
            type: WindowActions.RESIZE,
            payload: payload
        };
    };
    WindowActions.RESIZE = '[Window] Resize';
    return WindowActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function lookupReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = new Lookups(); }
    switch (action.type) {
        case LookupActions.ADD_KEYS:
            return Lookups.AddLookups(state$$1, toArray(action.payload).map(function (x) { return build(Lookup, x); }));
        case LookupActions.ADD_KEY:
            return Lookups.AddLookup(state$$1, action.payload);
        case LookupActions.ADD_VALUES:
            return Lookups.AddLookups(state$$1, action.payload);
        case LookupActions.REMOVE_KEY:
            return Lookups.RemoveLookup(state$$1, action.payload);
        case AppActions.INIT_STORE:
            return build(Lookups, action.payload['lookup']);
        default:
            return state$$1;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} store
 * @return {?}
 */
function lookupSelector(store) {
    return store.select(function (s) { return s['lookup']; });
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function lookupKeySelector(store, key) {
    return lookupSelector(store).pipe(map(function (lookup) { return lookup[key] || new Lookup(); }));
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function lookupValuesSelector(store, key) {
    return lookupKeySelector(store, key).pipe(map(function (lookup) { return lookup.values; }));
}
/**
 * @param {?} store
 * @param {?} key
 * @param {?} f
 * @return {?}
 */
function lookupValueSelector(store, key, f) {
    var /** @type {?} */ values$ = lookupValuesSelector(store, key);
    return values$.pipe(map(function (values) { return values.find(f) || new LookupValue(); }));
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var RouterActions = /** @class */ (function () {
    function RouterActions() {
    }
    /**
     * @param {?} routeName
     * @param {?=} parent
     * @return {?}
     */
    RouterActions.activate = /**
     * @param {?} routeName
     * @param {?=} parent
     * @return {?}
     */
    function (routeName, parent) {
        var /** @type {?} */ payload = {
            routeName: routeName,
            parent: parent
        };
        return {
            type: RouterActions.ACTIVATE,
            payload: payload
        };
    };
    /**
     * @param {?} r
     * @return {?}
     */
    RouterActions.navigate = /**
     * @param {?} r
     * @return {?}
     */
    function (r) {
        return {
            type: RouterActions.NAVIGATE,
            payload: r
        };
    };
    /**
     * @return {?}
     */
    RouterActions.navigateSuccess = /**
     * @return {?}
     */
    function () {
        return {
            type: RouterActions.NAVIGATE_SUCCESS
        };
    };
    /**
     * @return {?}
     */
    RouterActions.navigateError = /**
     * @return {?}
     */
    function () {
        return {
            type: RouterActions.NAVIGATE_ERROR
        };
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterActions.navCancel = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return {
            type: RouterActions.NAVIGATION_CANCEL,
            payload: e
        };
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterActions.navEnd = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return {
            type: RouterActions.NAVIGATION_END,
            payload: e
        };
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterActions.navError = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return {
            type: RouterActions.NAVIGATION_ERROR,
            payload: e
        };
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterActions.navStart = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return {
            type: RouterActions.NAVIGATION_START,
            payload: e
        };
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterActions.routesRecognized = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        return {
            type: RouterActions.ROUTES_RECOGNIZED,
            payload: e
        };
    };
    RouterActions.ACTIVATE = '[Router] Activate Route';
    RouterActions.NAVIGATE = '[Router] Navigate';
    RouterActions.NAVIGATE_SUCCESS = '[Router] Navigate Success';
    RouterActions.NAVIGATE_ERROR = '[Router] Navigate Error';
    RouterActions.NAVIGATION_CANCEL = '[Router] Cancel Navigation';
    RouterActions.NAVIGATION_END = '[Router] End Navigation';
    RouterActions.NAVIGATION_ERROR = '[Router] Error Navigation';
    RouterActions.NAVIGATION_START = '[Router] Start Navigation';
    RouterActions.ROUTES_RECOGNIZED = '[Router] Routes Recognized';
    return RouterActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var RouterService = /** @class */ (function () {
    function RouterService(_router, _route, store) {
        var _this = this;
        this._router = _router;
        this._route = _route;
        this.store = store;
        this.navigationCancel = new EventEmitter();
        this.navigationEnd = new EventEmitter();
        this.navigationError = new EventEmitter();
        this.navigationStart = new EventEmitter();
        this.routesRecognized = new EventEmitter();
        _router.events.subscribe(function (e) {
            if (e instanceof NavigationCancel) {
                _this.onNavigationCancel(e);
            }
            else if (e instanceof NavigationEnd) {
                _this.onNavigationEnd(e);
            }
            else if (e instanceof NavigationError) {
                _this.onNavigationError(e);
            }
            else if (e instanceof NavigationStart) {
                _this.onNavigationStart(e);
            }
            else if (e instanceof RoutesRecognized) {
                _this.onRoutesRecognized(e);
            }
        });
    }
    /**
     * @param {?} e
     * @return {?}
     */
    RouterService.prototype.onNavigationCancel = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.store.dispatch(RouterActions.navCancel(e));
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterService.prototype.onNavigationEnd = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.store.dispatch(RouterActions.navEnd(e));
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterService.prototype.onNavigationError = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.store.dispatch(RouterActions.navError(e));
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterService.prototype.onNavigationStart = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.store.dispatch(RouterActions.navStart(e));
    };
    /**
     * @param {?} e
     * @return {?}
     */
    RouterService.prototype.onRoutesRecognized = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.store.dispatch(RouterActions.routesRecognized(e));
    };
    Object.defineProperty(RouterService.prototype, "activatedRoute", {
        get: /**
         * @return {?}
         */
        function () {
            return this._route;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterService.prototype, "routeData$", {
        get: /**
         * @return {?}
         */
        function () {
            return this.activatedRoute.data;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterService.prototype, "routeParams$", {
        get: /**
         * @return {?}
         */
        function () {
            return this.activatedRoute.params;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterService.prototype, "router", {
        get: /**
         * @return {?}
         */
        function () {
            return this._router;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterService.prototype, "url$", {
        get: /**
         * @return {?}
         */
        function () {
            return this.store.select(function (s) { return s.router.url; });
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} commands
     * @param {?=} extras
     * @return {?}
     */
    RouterService.prototype.navigate = /**
     * @param {?} commands
     * @param {?=} extras
     * @return {?}
     */
    function (commands, extras) {
        var /** @type {?} */ promise = this.router.navigate(commands, extras);
        return from(promise);
    };
    /**
     * @param {?} url
     * @param {?=} extras
     * @return {?}
     */
    RouterService.prototype.navigateByUrl = /**
     * @param {?} url
     * @param {?=} extras
     * @return {?}
     */
    function (url, extras) {
        var /** @type {?} */ promise = this.router.navigateByUrl(url, extras);
        return from(promise);
    };
    RouterService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    RouterService.ctorParameters = function () { return [
        { type: Router },
        { type: ActivatedRoute },
        { type: Store }
    ]; };
    /** @nocollapse */ RouterService.ngInjectableDef = defineInjectable({ factory: function RouterService_Factory() { return new RouterService(inject(Router), inject(ActivatedRoute), inject(Store)); }, token: RouterService, providedIn: "root" });
    return RouterService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var RouterEffects = /** @class */ (function () {
    function RouterEffects(actions$, router) {
        var _this = this;
        this.actions$ = actions$;
        this.router = router;
        /**
         * All imperative navigation should be performed using this effects
         * so that the state is aware of the navigation.
         */
        this.navigate = this.actions$.pipe(ofType(RouterActions.NAVIGATE), switchMap(function (action) { return _this.navigate$(action.payload); }));
    }
    /**
     * @param {?} r
     * @return {?}
     */
    RouterEffects.prototype.navigate$ = /**
     * @param {?} r
     * @return {?}
     */
    function (r) {
        var /** @type {?} */ nav$ = typeof (r) === 'string' ? this.router.navigateByUrl(r) : this.router.navigate(r);
        return nav$.pipe(map(function () { return RouterActions.navigateSuccess(); }), catchError(function (e) {
            return of(RouterActions.navigateError());
        }));
    };
    RouterEffects.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    RouterEffects.ctorParameters = function () { return [
        { type: Actions },
        { type: RouterService }
    ]; };
    __decorate([
        Effect(),
        __metadata("design:type", Observable)
    ], RouterEffects.prototype, "navigate", void 0);
    return RouterEffects;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var RouterModule$1 = /** @class */ (function () {
    function RouterModule$$1() {
    }
    /**
     * @return {?}
     */
    RouterModule$$1.forRoot = /**
     * @return {?}
     */
    function () {
        return {
            ngModule: RouterModule$$1,
            providers: [RouterService, RouterEffects]
        };
    };
    RouterModule$$1.decorators = [
        { type: NgModule, args: [{
                    imports: [RouterModule],
                    exports: [RouterModule]
                },] },
    ];
    return RouterModule$$1;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ActivatedRoutePayload = /** @class */ (function () {
    function ActivatedRoutePayload() {
        this.routeName = '';
    }
    return ActivatedRoutePayload;
}());
var Breadcrumbs = /** @class */ (function () {
    function Breadcrumbs(segments) {
        this.segments = segments;
    }
    return Breadcrumbs;
}());
var CustomRoute = /** @class */ (function () {
    function CustomRoute(props) {
        this.children = [];
        this.lazyChildren = [];
        this._path = '';
        assignProps(this, props);
    }
    Object.defineProperty(CustomRoute.prototype, "path", {
        get: /**
         * @return {?}
         */
        function () {
            return this._path;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._path = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CustomRoute.prototype, "route", {
        get: /**
         * @return {?}
         */
        function () {
            return {
                component: this.component,
                children: __spread(this.children, this.lazyChildren)
            };
        },
        enumerable: true,
        configurable: true
    });
    return CustomRoute;
}());
var LazyRoute = /** @class */ (function (_super) {
    __extends(LazyRoute, _super);
    function LazyRoute(props) {
        var _this = _super.call(this, props) || this;
        _this.path = '';
        return _this;
    }
    return LazyRoute;
}(CustomRoute));
/** @enum {number} */
var NavigationStatus = {
    Default: 0,
    NavigationStart: 1,
    NavigationCancel: 2,
    NavigationError: 3,
    RoutesRecognized: 4,
    NavigationEnd: 5,
};
NavigationStatus[NavigationStatus.Default] = "Default";
NavigationStatus[NavigationStatus.NavigationStart] = "NavigationStart";
NavigationStatus[NavigationStatus.NavigationCancel] = "NavigationCancel";
NavigationStatus[NavigationStatus.NavigationError] = "NavigationError";
NavigationStatus[NavigationStatus.RoutesRecognized] = "RoutesRecognized";
NavigationStatus[NavigationStatus.NavigationEnd] = "NavigationEnd";
var RouteSegment = /** @class */ (function () {
    function RouteSegment() {
        /**
         * The URL fragment shared by all the routes
         */
        this.fragment = '';
        /**
         * The order of the segment in the route
         */
        this.order = 0;
        /**
         * The outlet name of the route
         */
        this.outlet = '';
        /**
         * The label to pass to the anchor tag
         */
        this.routeLabel = '';
        /**
         * The unique identifier for the route segment
         */
        this.routeName = '';
    }
    Object.defineProperty(RouteSegment.prototype, "routerLink", {
        /** The link to pass to the anchor tag */
        get: /**
         * The link to pass to the anchor tag
         * @return {?}
         */
        function () {
            return this.pathFromRoot
                .map(function (r) { return r.url; })
                .reduce(function (acc, x) {
                var /** @type {?} */ segment = RouterState.BuildUrlSegment(x);
                return segment && segment !== '/' ? "" + acc + segment : acc;
            }, '');
        },
        enumerable: true,
        configurable: true
    });
    return RouteSegment;
}());
var RouterState = /** @class */ (function () {
    function RouterState() {
        this.id = 0;
        this.error = undefined;
        this.events = [];
        this.history = [];
        this.navigationStatus = NavigationStatus.Default;
        this.reason = '';
        this.state = undefined;
        this.url = '';
        this.urlAfterRedirects = '';
    }
    /**
     * @param {?} props
     * @return {?}
     */
    RouterState.BuildRoute = /**
     * @param {?} props
     * @return {?}
     */
    function (props) {
        var /** @type {?} */ r = new CustomRoute(props);
        return /** @type {?} */ (r);
    };
    /**
     * @param {?} props
     * @return {?}
     */
    RouterState.BuildLazyRoute = /**
     * @param {?} props
     * @return {?}
     */
    function (props) {
        var /** @type {?} */ r = new LazyRoute(props);
        return /** @type {?} */ (r);
    };
    /**
     * @param {?} url
     * @return {?}
     */
    RouterState.BuildUrlSegment = /**
     * @param {?} url
     * @return {?}
     */
    function (url) {
        return url.reduce(function (acc, segment) { return segment.path && segment.path !== '/' ? acc + "/" + segment.path : acc; }, '');
    };
    /**
     * @param {?} root
     * @param {?=} index
     * @return {?}
     */
    RouterState.GetActivatedOutlets = /**
     * @param {?} root
     * @param {?=} index
     * @return {?}
     */
    function (root, index) {
        if (index === void 0) { index = 0; }
        return root ? root.children.reduce(function (acc, r, currentIndex) {
            var /** @type {?} */ i = index + currentIndex;
            var /** @type {?} */ routeName = RouterState.GetRouteName(r);
            var /** @type {?} */ existing = build(RouteSegment, acc[routeName]);
            var /** @type {?} */ outlet = RouterState.GetRouteSegment(r, existing, i);
            return routeName ? Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1), (_a = {}, _a[routeName] = outlet, _a))
                : Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1));
            var _a;
        }, {}) : {};
    };
    /**
     * @param {?} root
     * @return {?}
     */
    RouterState.GetActivatedRoute = /**
     * @param {?} root
     * @return {?}
     */
    function (root) {
        return root.children.reduce(function (acc, r) {
            return RouterState.GetActivatedRoute(r);
        }, root);
    };
    /**
     * @param {?} route
     * @return {?}
     */
    RouterState.GetAllParams = /**
     * @param {?} route
     * @return {?}
     */
    function (route) {
        return route ? route.children.reduce(function (acc, r) {
            return Object.assign({}, acc, RouterState.GetAllParams(r));
        }, Object.assign({}, route.params, route.queryParams)) : {};
    };
    /**
     * @param {?} route
     * @return {?}
     */
    RouterState.GetRouteData = /**
     * @param {?} route
     * @return {?}
     */
    function (route) {
        return route.data;
    };
    /**
     * @param {?} route
     * @param {?=} existing
     * @param {?=} index
     * @return {?}
     */
    RouterState.GetRouteSegment = /**
     * @param {?} route
     * @param {?=} existing
     * @param {?=} index
     * @return {?}
     */
    function (route, existing, index) {
        if (existing === void 0) { existing = new RouteSegment(); }
        if (index === void 0) { index = 0; }
        var /** @type {?} */ routeName = RouterState.GetRouteName(route);
        return build(RouteSegment, existing, {
            data: route.data,
            fragment: route.fragment,
            order: index,
            outlet: route.outlet,
            pathFromRoot: route.pathFromRoot,
            params: route.params,
            routeName: routeName,
            routeLabel: RouterState.GetRouteData(route)['routeLabel'] || existing.routeLabel
        });
    };
    /**
     * @param {?} route
     * @return {?}
     */
    RouterState.GetRouteName = /**
     * @param {?} route
     * @return {?}
     */
    function (route) {
        return route ? RouterState.GetRouteData(route)['routeName'] : '';
    };
    Object.defineProperty(RouterState.prototype, "activatedOutlets", {
        get: /**
         * @return {?}
         */
        function () {
            return RouterState.GetActivatedOutlets(this.rootRoute);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterState.prototype, "lastEvent", {
        get: /**
         * @return {?}
         */
        function () {
            return this.events[-1];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterState.prototype, "params", {
        get: /**
         * @return {?}
         */
        function () {
            return RouterState.GetAllParams(this.rootRoute);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterState.prototype, "routeName", {
        get: /**
         * @return {?}
         */
        function () {
            return RouterState.GetRouteName(this.activatedRoute);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RouterState.prototype, "visited", {
        get: /**
         * @return {?}
         */
        function () {
            return this.history.map(function (x) { return x.link; });
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} e
     * @param {?} eventType
     * @return {?}
     */
    RouterState.prototype.addRouterEvent = /**
     * @param {?} e
     * @param {?} eventType
     * @return {?}
     */
    function (e, eventType) {
        var /** @type {?} */ newEvent = /** @type {?} */ ({ eventType: eventType, event: e });
        return __spread(this.events, [
            newEvent
        ]);
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    RouterState.prototype.navigationCancel = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return build(RouterState, this, {
            navigationStatus: NavigationStatus.NavigationCancel,
            events: this.addRouterEvent(payload, NavigationStatus.NavigationCancel),
            id: payload.id,
            url: payload.url,
            reason: payload.reason
        });
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    RouterState.prototype.navigationEnd = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        var /** @type {?} */ history = __spread([payload.toString()], this.history);
        return build(RouterState, this, {
            history: history,
            navigationStatus: NavigationStatus.NavigationEnd,
            events: this.addRouterEvent(payload, NavigationStatus.NavigationEnd),
            id: payload.id,
            url: payload.url,
            urlAfterRedirects: payload.urlAfterRedirects
        });
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    RouterState.prototype.navigationError = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return build(RouterState, this, {
            navigationStatus: NavigationStatus.NavigationError,
            events: this.addRouterEvent(payload, NavigationStatus.NavigationError),
            id: payload.id,
            url: payload.url,
            error: payload.error
        });
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    RouterState.prototype.navigationStart = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return build(RouterState, this, {
            navigationStatus: NavigationStatus.NavigationStart,
            events: this.addRouterEvent(payload, NavigationStatus.NavigationStart),
            id: payload.id,
            url: payload.url
        });
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    RouterState.prototype.routesRecognized = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        var /** @type {?} */ rootRoute = payload.state.root;
        var /** @type {?} */ activatedRoute = RouterState.GetActivatedRoute(rootRoute);
        return build(RouterState, this, {
            activatedRoute: activatedRoute,
            rootRoute: rootRoute,
            navigationStatus: NavigationStatus.RoutesRecognized,
            events: this.addRouterEvent(payload, NavigationStatus.RoutesRecognized),
            id: payload.id,
            state: payload.state,
            url: payload.url,
            urlAfterRedirects: payload.urlAfterRedirects
        });
    };
    return RouterState;
}());
var VisitedRoute = /** @class */ (function () {
    function VisitedRoute() {
        this.label = '';
        this.link = '';
        this.name = '';
        this.visitTime = new Date();
    }
    return VisitedRoute;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function routerReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = new RouterState(); }
    switch (action.type) {
        case RouterActions.ACTIVATE:
            return state$$1;
        case RouterActions.NAVIGATION_CANCEL:
            // console.log(RouterActions.NAVIGATION_CANCEL, action.payload);
            return state$$1.navigationCancel(action.payload);
        case RouterActions.NAVIGATION_END:
            // console.log(RouterActions.NAVIGATION_END, action.payload);
            return state$$1.navigationEnd(action.payload);
        case RouterActions.NAVIGATION_ERROR:
            // console.log(RouterActions.NAVIGATION_ERROR, action.payload);
            return state$$1.navigationError(action.payload);
        case RouterActions.NAVIGATION_START:
            // console.log(RouterActions.NAVIGATION_START, action.payload);
            return state$$1.navigationStart(action.payload);
        case RouterActions.ROUTES_RECOGNIZED:
            // console.log(RouterActions.ROUTES_RECOGNIZED, action.payload);
            // console.log(getAllParams(action.payload.state.root));
            return state$$1.routesRecognized(action.payload);
        default:
            return state$$1;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} store
 * @return {?}
 */
function routeSelector(store) {
    return store.select('route');
}
/**
 * @param {?} store
 * @return {?}
 */
function breadcrumbsSelector(store) {
    return routeSelector(store).pipe(map(function (r) {
        var /** @type {?} */ outlets = r.activatedOutlets;
        return new Breadcrumbs(Object.keys(outlets).map(function (key) { return outlets[key]; }));
    }));
}
/**
 * @param {?} store
 * @return {?}
 */
function routeNameSelector(store) {
    return routeSelector(store).pipe(map(function (r) { return r.routeName; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @return {?}
 */
function routeParamsSelector(store) {
    return routeSelector(store).pipe(map(function (r) { return r.params; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function lazyRouteParamsSelector(store, key) {
    return routeParamsSelector(store).pipe(map(function (params) { return params[key]; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @param {?} key
 * @param {?=} defaultValue
 * @return {?}
 */
function routeParamSelector(store, key, defaultValue) {
    if (defaultValue === void 0) { defaultValue = null; }
    return combineLatest$1(of(defaultValue), lazyRouteParamsSelector(store, key), function (x, y) {
        return y || x;
    });
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function routeParamArraySelector(store, key) {
    return routeParamSelector(store, key, []).pipe(map(function (x) { return toArray(x); }));
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function routeParamIdSelector(store, key) {
    return routeParamIntSelector(store, key);
}
/**
 * @param {?} store
 * @param {?} key
 * @return {?}
 */
function routeParamIntSelector(store, key) {
    return routeParamSelector(store, key, 0).pipe(map(function (x) { return toInt(x); }));
}
/**
 * @param {?} store
 * @return {?}
 */
function urlSelector(store) {
    return routeSelector(store).pipe(map(function (r) { return r.url; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @return {?}
 */
function querySelector(store) {
    var /** @type {?} */ skip$ = routeParamIntSelector(store, 'skip');
    var /** @type {?} */ take$ = routeParamIntSelector(store, 'take');
    var /** @type {?} */ term$ = routeParamSelector(store, 'term');
    return combineLatest$1(skip$, take$, term$, function (skip$$1, take$$1, term) { return (Object.assign(new QueryModel(), {
        skip: skip$$1,
        take: take$$1,
        term: term
    })); });
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Token = /** @class */ (function () {
    function Token() {
        this.access_token = '';
        this.expiresIn = 0;
    }
    Object.defineProperty(Token.prototype, "authenticated", {
        get: /**
         * @return {?}
         */
        function () {
            return !this.expired;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Token.prototype, "expires_in", {
        get: /**
         * @return {?}
         */
        function () {
            return this.expiresIn;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.expiresIn = value;
            this.expiresInDate = new Date();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Token.prototype, "expirationDate", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ t = new Date(this.expiresInDate);
            t.setSeconds(t.getSeconds() + this.expiresIn);
            return t;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Token.prototype, "expired", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ now = new Date();
            return this.access_token && this.expiresIn && this.expiresInDate ? now > this.expirationDate : true;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    Token.prototype.toString = /**
     * @return {?}
     */
    function () {
        return this.expired ? '' : this.access_token;
    };
    return Token;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Window = /** @class */ (function () {
    function Window() {
        this.windowHeight = 0;
        this.windowWidth = 0;
    }
    Object.defineProperty(Window.prototype, "windowWidthSmall", {
        get: /**
         * @return {?}
         */
        function () {
            return this.windowWidth < 1200;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Window.prototype, "windowWidthMedium", {
        get: /**
         * @return {?}
         */
        function () {
            return !this.windowWidthSmall && this.windowWidth < 1300;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Window.prototype, "windowWidthLarge", {
        get: /**
         * @return {?}
         */
        function () {
            return this.windowWidth >= 1300;
        },
        enumerable: true,
        configurable: true
    });
    return Window;
}());
var WindowResize = /** @class */ (function () {
    function WindowResize() {
        this.windowHeight = 0;
        this.windowWidth = 0;
    }
    return WindowResize;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} store
 * @return {?}
 */
function allSelector(store) {
    return store.pipe(map(function (x) { return x; }));
}
/**
 * @param {?} store
 * @return {?}
 */
function emptySelector(store) {
    return of({});
}
/**
 * @param {?} store
 * @return {?}
 */
function currentUserSelector(store) {
    return store.select('currentUser');
}
/**
 * @param {?} store
 * @return {?}
 */
function authenticatedSelector(store) {
    return currentUserSelector(store).pipe(map(function (user) { return user.authenticated; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @return {?}
 */
function configSelector(store) {
    return store.select('config');
}
/**
 * @param {?} store
 * @return {?}
 */
function windowSelector(store) {
    return store.select('window').pipe(map(function (w) { return build(Window, w); }));
}
/**
 * @param {?} store
 * @return {?}
 */
function windowHeightSelector(store) {
    return windowSelector(store).pipe(map(function (window) { return window.windowHeight; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @return {?}
 */
function windowWidthSelector(store) {
    return windowSelector(store).pipe(map(function (window) { return window.windowWidth; }), distinctUntilChanged());
}
/**
 * @param {?} store
 * @return {?}
 */
function containerHeightSelector(store) {
    return windowHeightSelector(store).pipe(map(function (h) { return h === 0 ? 700 : h; }));
}
/**
 * @param {?} store
 * @return {?}
 */
function containerWidthSelector(store) {
    return windowWidthSelector(store).pipe(map(function (w) { return w === 0 ? 1200 : w; }));
}
/**
 * @param {?} store
 * @return {?}
 */
function contentHeightSelector(store) {
    return windowHeightSelector(store).pipe(map(function (h) { return h === 0 ? 700 : h; }));
}
/**
 * @param {?} store
 * @return {?}
 */
function contentWidthSelector(store) {
    return windowWidthSelector(store).pipe(map(function (w) { return w === 0 ? 1200 : w; }));
}
/**
 * @param {?} store
 * @return {?}
 */
function sidenavOpenedSelector(store) {
    return (/** @type {?} */ (store.select('sidenav'))).pipe(distinctUntilChanged());
}
/**
 * @param {?} store
 * @return {?}
 */
function apiBaseUrlSelector(store) {
    return configSelector(store).pipe(map(function (config) { return config.apiBaseUrl; }));
}
/**
 * @param {?} store
 * @return {?}
 */
function authTokenSelector(store) {
    return currentUserSelector(store).pipe(map(function (user) {
        var /** @type {?} */ token = user && user.token ? build(Token, user.token) : new Token();
        return token.toString();
    }));
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var AuthenticatedGuard = /** @class */ (function () {
    function AuthenticatedGuard(store) {
        this.store = store;
        this.authenticated$ = authenticatedSelector(this.store);
    }
    /**
     * @param {?} route
     * @param {?} state
     * @return {?}
     */
    AuthenticatedGuard.prototype.canActivate = /**
     * @param {?} route
     * @param {?} state
     * @return {?}
     */
    function (route, state$$1) {
        return this.authenticated$;
    };
    AuthenticatedGuard.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    AuthenticatedGuard.ctorParameters = function () { return [
        { type: Store }
    ]; };
    return AuthenticatedGuard;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DumbComponent = /** @class */ (function () {
    function DumbComponent() {
        this.requestState = 'DEFAULT';
        this.subscriptions = [];
    }
    Object.defineProperty(DumbComponent.prototype, "inErrorState", {
        get: /**
         * @return {?}
         */
        function () {
            return this.requestState === 'ERROR';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DumbComponent.prototype, "inSuccessState", {
        get: /**
         * @return {?}
         */
        function () {
            return this.requestState === 'SUCCESS';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DumbComponent.prototype, "message", {
        get: /**
         * @return {?}
         */
        function () {
            return this.inErrorState ? "An error has occurred. Please try again later."
                : this.inSuccessState ? "Saved successfully!" : '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DumbComponent.prototype, "showMessage", {
        get: /**
         * @return {?}
         */
        function () {
            return this.inErrorState || this.inSuccessState;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    DumbComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.removeSubscriptions();
    };
    /**
     * @param {?} subscription
     * @return {?}
     */
    DumbComponent.prototype.addSubscription = /**
     * @param {?} subscription
     * @return {?}
     */
    function (subscription) {
        this.subscriptions.push(subscription);
    };
    /**
     * @param {?} result
     * @return {?}
     */
    DumbComponent.prototype.closeDialog = /**
     * @param {?} result
     * @return {?}
     */
    function (result) {
        this.dialogRef.unsubscribe();
    };
    /**
     * @param {?} component
     * @param {?=} config
     * @return {?}
     */
    DumbComponent.prototype.openDialog = /**
     * @param {?} component
     * @param {?=} config
     * @return {?}
     */
    function (component, config) {
        var _this = this;
        if (config === void 0) { config = {}; }
        var /** @type {?} */ dialogRef = this.dialog.open(component, config);
        this.dialogRef = dialogRef.afterClosed().subscribe(function (result) {
            _this.closeDialog(result);
        });
    };
    /**
     * @return {?}
     */
    DumbComponent.prototype.removeSubscriptions = /**
     * @return {?}
     */
    function () {
        this.subscriptions.forEach(function (s) {
            s.unsubscribe();
        });
    };
    /**
     * @param {?} subscriptions
     * @return {?}
     */
    DumbComponent.prototype.subscribe = /**
     * @param {?} subscriptions
     * @return {?}
     */
    function (subscriptions) {
        var _this = this;
        subscriptions.forEach(function (s) {
            _this.addSubscription(s);
        });
    };
    /**
     * @param {?=} duration
     * @return {?}
     */
    DumbComponent.prototype.flashErrorMessage = /**
     * @param {?=} duration
     * @return {?}
     */
    function (duration) {
        var _this = this;
        if (duration === void 0) { duration = 5000; }
        this.toErrorState();
        setTimeout(function () {
            _this.resetRequestState();
        }, duration);
    };
    /**
     * @param {?=} duration
     * @return {?}
     */
    DumbComponent.prototype.flashSuccessMessage = /**
     * @param {?=} duration
     * @return {?}
     */
    function (duration) {
        var _this = this;
        if (duration === void 0) { duration = 5000; }
        this.toSucessState();
        setTimeout(function () {
            _this.resetRequestState();
        }, duration);
    };
    /**
     * @param {?} e
     * @return {?}
     */
    DumbComponent.prototype.onError = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.flashErrorMessage();
    };
    /**
     * @param {?} e
     * @return {?}
     */
    DumbComponent.prototype.onSuccess = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.flashSuccessMessage();
    };
    /**
     * @return {?}
     */
    DumbComponent.prototype.resetRequestState = /**
     * @return {?}
     */
    function () {
        this.requestState = 'DEFAULT';
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DumbComponent.prototype.setValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (this.form && this.form.setValue) {
            this.form.setValue(getValue(value));
        }
    };
    /**
     * @return {?}
     */
    DumbComponent.prototype.toErrorState = /**
     * @return {?}
     */
    function () {
        this.requestState = 'ERROR';
    };
    /**
     * @return {?}
     */
    DumbComponent.prototype.toSucessState = /**
     * @return {?}
     */
    function () {
        this.requestState = 'SUCCESS';
    };
    return DumbComponent;
}());
var FormComponent = /** @class */ (function (_super) {
    __extends(FormComponent, _super);
    function FormComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(FormComponent.prototype, "editing", {
        get: /**
         * @return {?}
         */
        function () {
            return truthy(this.id);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormComponent.prototype, "id", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FormComponent.prototype, "isValid", {
        get: /**
         * @return {?}
         */
        function () {
            return this.form.valid;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FormComponent.prototype.markAsSubmitted = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.form.markAsTouched();
        Object.keys(this.form.controls).forEach(function (key) {
            _this.form.controls[key].markAsTouched();
        });
    };
    return FormComponent;
}(DumbComponent));
var SmartComponent = /** @class */ (function (_super) {
    __extends(SmartComponent, _super);
    function SmartComponent(store) {
        var _this = _super.call(this) || this;
        _this.store = store;
        return _this;
    }
    /**
     * @param {?} action
     * @return {?}
     */
    SmartComponent.prototype.dispatch = /**
     * @param {?} action
     * @return {?}
     */
    function (action) {
        this.store.dispatch(action);
    };
    /**
     * @param {?} action
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    SmartComponent.prototype.dispatchAndSubscribe = /**
     * @param {?} action
     * @param {?=} onSuccess
     * @param {?=} onError
     * @return {?}
     */
    function (action, onSuccess, onError) {
        var _this = this;
        var /** @type {?} */ f1 = onSuccess ? onSuccess : function (e) {
            _this.flashSuccessMessage();
        };
        var /** @type {?} */ f2 = onError ? onError : function (e) {
            _this.flashErrorMessage();
        };
        if (this.events && this.events.dispatch) {
            this.addSubscription(this.events.dispatch(action).subscribe(f1, f2));
        }
        else {
            this.store.dispatch(action);
        }
    };
    return SmartComponent;
}(DumbComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Config = /** @class */ (function () {
    function Config() {
        this.dev = false;
        this.test = false;
        this.staging = false;
        this.production = false;
        this.apiBaseUrl = '';
    }
    return Config;
}());
var ViewConfig = /** @class */ (function (_super) {
    __extends(ViewConfig, _super);
    function ViewConfig() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.viewMode = 'Default';
        return _this;
    }
    return ViewConfig;
}(Config));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var Question = /** @class */ (function () {
    function Question() {
        this.question = '';
        this.title = '';
    }
    return Question;
}());
var Questions = /** @class */ (function (_super) {
    __extends(Questions, _super);
    function Questions() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * @param {?} questions
     * @param {?} answers
     * @return {?}
     */
    Questions.AnswerQuestions = /**
     * @param {?} questions
     * @param {?} answers
     * @return {?}
     */
    function (questions, answers) {
        return questions.map(function (question) { return Questions.AnswerQuestion(question, answers[question.key]); });
    };
    /**
     * @param {?} question
     * @param {?} answerData
     * @return {?}
     */
    Questions.AnswerQuestion = /**
     * @param {?} question
     * @param {?} answerData
     * @return {?}
     */
    function (question, answerData) {
        var /** @type {?} */ answer = answerData;
        switch (question.type) {
            case 'date':
                answer = answerData;
                break;
            case 'monthyear':
                answer = DateHelper.ToMonthYearName(answerData);
                break;
            case 'yesno':
                answer = answerData ? 'Yes' : 'No';
                break;
        }
        return build(Question, question, { answer: answer });
    };
    /**
     * @param {?} answers
     * @return {?}
     */
    Questions.prototype.answerQuestions = /**
     * @param {?} answers
     * @return {?}
     */
    function (answers) {
        return Questions.AnswerQuestions(this.toArray(), answers);
    };
    return Questions;
}(Collection));
/**
 * @abstract
 */
var  /**
 * @abstract
 */
QuestionsModel = /** @class */ (function () {
    function QuestionsModel() {
        this.ignore = ['isAdd', 'questions'];
    }
    Object.defineProperty(QuestionsModel.prototype, "answers", {
        get: /**
         * @return {?}
         */
        function () {
            return Questions.AnswerQuestions(this.questions, this);
        },
        enumerable: true,
        configurable: true
    });
    return QuestionsModel;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template T
 */
var  /**
 * @template T
 */
TreeItem = /** @class */ (function () {
    function TreeItem(item, parent) {
        this.item = item;
        this.parent = parent;
        this.id = 0;
        this.order = 0;
        this.parentId = 0;
        this.treeId = 0;
        this.index = 0;
    }
    /**
     * @template T
     * @param {?} item
     * @return {?}
     */
    TreeItem.Build = /**
     * @template T
     * @param {?} item
     * @return {?}
     */
    function (item) {
        return /** @type {?} */ ({
            item: item,
            id: item['id'],
            order: item['order'],
            parentId: item['parentId']
        });
    };
    Object.defineProperty(TreeItem.prototype, "hasParent", {
        get: /**
         * @return {?}
         */
        function () {
            return this.parentId ? true : false;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TreeItem.prototype, "sortOrder", {
        get: /**
         * @return {?}
         */
        function () {
            return this.parentId ? this.treeId + (.1 * this.order) : this.treeId;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TreeItem.prototype, "treeOrder", {
        get: /**
         * @return {?}
         */
        function () {
            return this.parentId ? this.order : 0;
        },
        enumerable: true,
        configurable: true
    });
    return TreeItem;
}());
/**
 * @template T
 */
var  /**
 * @template T
 */
Tree = /** @class */ (function () {
    function Tree(_treeItems, ctor) {
        this._treeItems = _treeItems;
        this.ctor = ctor;
        this._activeId = 0;
        this._activeIndex = -1;
    }
    /**
     * @template T
     * @param {?} items
     * @param {?} item
     * @return {?}
     */
    Tree.FindParent = /**
     * @template T
     * @param {?} items
     * @param {?} item
     * @return {?}
     */
    function (items, item) {
        return items.find(function (x) { return x.id === item.parentId; }) || new TreeItem(/** @type {?} */ ({}));
    };
    /**
     * @template T
     * @param {?} items
     * @param {?} item
     * @return {?}
     */
    Tree.FindParentOrder = /**
     * @template T
     * @param {?} items
     * @param {?} item
     * @return {?}
     */
    function (items, item) {
        var /** @type {?} */ parent = Tree.FindParent(items, item);
        return parent.order;
    };
    /**
     * @template T
     * @param {?} items
     * @param {?} ctor
     * @return {?}
     */
    Tree.Build = /**
     * @template T
     * @param {?} items
     * @param {?} ctor
     * @return {?}
     */
    function (items, ctor) {
        var /** @type {?} */ treeItems = items.reduce(function (acc, item) {
            item.treeId = item.parentId ? Tree.FindParentOrder(items, item) : item.order;
            var /** @type {?} */ treeItem = Object.assign(new TreeItem(/** @type {?} */ ({})), item);
            return __spread(acc, [treeItem]);
        }, []);
        var /** @type {?} */ orderedItems = items.sort(function (a, b) { return compareNumbers(a.sortOrder, b.sortOrder); })
            .reduce(function (acc, treeItem, index) {
            var /** @type {?} */ item = treeItem.item;
            var /** @type {?} */ parent = treeItem.parent;
            return __spread(acc, [/** @type {?} */ (Object.assign(new TreeItem(item, parent), treeItem, { index: index + 1 }))]);
        }, []);
        return new Tree(orderedItems, ctor);
    };
    Object.defineProperty(Tree.prototype, "activeId", {
        get: /**
         * @return {?}
         */
        function () {
            return this._activeId;
        },
        set: /**
         * @param {?} id
         * @return {?}
         */
        function (id) {
            this._activeId = id;
            this._activeIndex = this.getIndexById(id);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "activeIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this._activeIndex;
        },
        set: /**
         * @param {?} index
         * @return {?}
         */
        function (index) {
            this._activeIndex = index;
            this._activeId = this.getIdByIndex(index);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "copy", {
        get: /**
         * @return {?}
         */
        function () {
            return Object.assign(new Tree(this._treeItems, this.ctor), this);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "instance", {
        get: /**
         * @return {?}
         */
        function () {
            return new this.ctor() || /** @type {?} */ ({});
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "next", {
        get: /**
         * @return {?}
         */
        function () {
            return this.getNext(this.activeIndex);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "nextId", {
        get: /**
         * @return {?}
         */
        function () {
            return this.next.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "nextIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this.activeIndex + 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "previous", {
        get: /**
         * @return {?}
         */
        function () {
            return this.getPrevious(this.activeIndex);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "previousId", {
        get: /**
         * @return {?}
         */
        function () {
            return this.previous.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "previousIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this.activeIndex - 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "items", {
        get: /**
         * @return {?}
         */
        function () {
            return this._treeItems.map(function (x) { return x.item; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "treeItems", {
        get: /**
         * @return {?}
         */
        function () {
            return this._treeItems;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "orderedItems", {
        get: /**
         * @return {?}
         */
        function () {
            return this.treeItems.sort(function (a, b) { return compareNumbers(a.index, b.index); });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "subtrees", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            var /** @type {?} */ trees = this.treeItems.reduce(function (acc, item) {
                var /** @type {?} */ treeId = item.treeId;
                var /** @type {?} */ subitems = acc[treeId] || [];
                acc[treeId] = __spread(subitems, [item]);
                return acc;
            }, {});
            return Object.keys(trees).map(function (key) { return Tree.Build(trees[key], _this.ctor); });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Tree.prototype, "subtreeItems", {
        get: /**
         * @return {?}
         */
        function () {
            return this.subtrees.map(function (tree) { return tree.treeItems.sort(function (a, b) { return compareNumbers(a.index, b.index); }); });
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} index
     * @return {?}
     */
    Tree.prototype.getIdByIndex = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        var /** @type {?} */ item = this.getItemByIndex(index);
        return item.id;
    };
    /**
     * @param {?} id
     * @return {?}
     */
    Tree.prototype.getIndexById = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.getItemById(id).index;
    };
    /**
     * @param {?} id
     * @return {?}
     */
    Tree.prototype.getItemById = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        return this.treeItems.find(function (item) { return item.id === id; }) || new TreeItem(this.instance);
    };
    /**
     * @param {?} index
     * @return {?}
     */
    Tree.prototype.getItemByIndex = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.treeItems.find(function (item) { return item.index === index; }) || new TreeItem(this.instance);
    };
    /**
     * @param {?} index
     * @return {?}
     */
    Tree.prototype.getNext = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.getItemByIndex(index + 1);
    };
    /**
     * @param {?} index
     * @return {?}
     */
    Tree.prototype.getNextId = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.getNext(index).id;
    };
    /**
     * @param {?} index
     * @return {?}
     */
    Tree.prototype.getPrevious = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.getItemByIndex(index - 1);
    };
    /**
     * @param {?} index
     * @return {?}
     */
    Tree.prototype.getPreviousId = /**
     * @param {?} index
     * @return {?}
     */
    function (index) {
        return this.getPrevious(index).id;
    };
    return Tree;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var User = /** @class */ (function () {
    function User() {
        this.email = '';
        this.firstName = '';
        this.lastName = '';
        this.fullName = '';
        this.password = '';
        this.confirmPassword = '';
        this.userName = '';
    }
    return User;
}());
var CurrentUser = /** @class */ (function (_super) {
    __extends(CurrentUser, _super);
    function CurrentUser() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.token = new Token();
        return _this;
    }
    /**
     * @param {?} data
     * @return {?}
     */
    CurrentUser.Build = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var /** @type {?} */ token = data && data.token ? build(Token, data.token) : new Token();
        return build(CurrentUser, data, { token: token });
    };
    Object.defineProperty(CurrentUser.prototype, "authenticated", {
        get: /**
         * @return {?}
         */
        function () {
            return this.token && this.token.authenticated;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CurrentUser.prototype, "userRoles", {
        get: /**
         * @return {?}
         */
        function () {
            return new UserRoles(this);
        },
        enumerable: true,
        configurable: true
    });
    return CurrentUser;
}(User));
var UserRoles = /** @class */ (function () {
    function UserRoles(user) {
        if (user === void 0) { user = new CurrentUser(); }
        this.user = user;
    }
    return UserRoles;
}());
var Login = /** @class */ (function () {
    function Login() {
        this.grant_type = 'password';
        this.userName = '';
        this.password = '';
    }
    return Login;
}());
var ResetPassword = /** @class */ (function () {
    function ResetPassword() {
        this.passwordResetCode = '';
        this.password = '';
        this.confirmPassword = '';
    }
    return ResetPassword;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var StorageActions = /** @class */ (function () {
    function StorageActions() {
    }
    /**
     * @param {?} localStore
     * @param {?} sessionStore
     * @return {?}
     */
    StorageActions.initStore = /**
     * @param {?} localStore
     * @param {?} sessionStore
     * @return {?}
     */
    function (localStore, sessionStore) {
        return {
            type: StorageActions.INIT_STORE,
            payload: { localStore: localStore, sessionStore: sessionStore }
        };
    };
    StorageActions.UPDATE_LOCAL_STORAGE = '[Storage] Update Local Storage';
    StorageActions.UPDATE_SESSION_STORAGE = '[Storage] Update Session Storage';
    StorageActions.INIT_STORE = '[Storage] Init Store';
    return StorageActions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var ActionStore = /** @class */ (function () {
    function ActionStore(lastAction) {
        this.lastAction = lastAction;
    }
    return ActionStore;
}());
var Storage$1 = /** @class */ (function () {
    function Storage() {
        this.localStore = {};
        this.sessionStore = {};
    }
    return Storage;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var StorageService = /** @class */ (function () {
    function StorageService(store, storeKey) {
        this.store = store;
        this.storeKey = storeKey;
        this.localStorageActions = [];
        this.sessionStorageActions = [];
        this.localStorageMapper = function (s) { return s; };
        this.sessionStorageMapper = function (s) { return s; };
    }
    Object.defineProperty(StorageService.prototype, "localStore", {
        get: /**
         * @return {?}
         */
        function () {
            return localStorage.getItem(this.storeKey);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StorageService.prototype, "sessionStore", {
        get: /**
         * @return {?}
         */
        function () {
            return sessionStorage.getItem(this.storeKey);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StorageService.prototype, "storage", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ localStore = this.localStore;
            var /** @type {?} */ sessionStore = this.sessionStore;
            return build(Storage, Object.assign({}, localStore, sessionStore), {
                localStore: localStore,
                sessionStore: sessionStore
            });
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Initialize the use of local storage and/or session storage
     * @param localStorageMapper Mapper function for mapping state to local store
     * @param sessionStorageMapper Mapper function for mapping state to session store
     * @param localStorageActions Actions after which to save to local storage
     * @param sessionStorageActions Actions after which to save to session storage
     */
    /**
     * Initialize the use of local storage and/or session storage
     * @param {?=} localStorageMapper Mapper function for mapping state to local store
     * @param {?=} sessionStorageMapper Mapper function for mapping state to session store
     * @param {?=} localStorageActions Actions after which to save to local storage
     * @param {?=} sessionStorageActions Actions after which to save to session storage
     * @return {?}
     */
    StorageService.prototype.init = /**
     * Initialize the use of local storage and/or session storage
     * @param {?=} localStorageMapper Mapper function for mapping state to local store
     * @param {?=} sessionStorageMapper Mapper function for mapping state to session store
     * @param {?=} localStorageActions Actions after which to save to local storage
     * @param {?=} sessionStorageActions Actions after which to save to session storage
     * @return {?}
     */
    function (localStorageMapper, sessionStorageMapper, localStorageActions, sessionStorageActions) {
        if (localStorageMapper === void 0) { localStorageMapper = function (s) { return s; }; }
        if (sessionStorageMapper === void 0) { sessionStorageMapper = function (s) { return s; }; }
        if (localStorageActions === void 0) { localStorageActions = []; }
        if (sessionStorageActions === void 0) { sessionStorageActions = []; }
        var /** @type {?} */ localStore = this.initLocalStore(localStorageMapper, localStorageActions);
        var /** @type {?} */ sessionStore = this.initSessionStore(sessionStorageMapper, sessionStorageActions);
        this.store.dispatch(StorageActions.initStore(localStore, sessionStore));
    };
    /**
     * Initialize the use of local storage
     * @param localStorageMapper Mapper function for mapping state to local store
     * @param localStorageActions Actions after which to save to local storage
     */
    /**
     * Initialize the use of local storage
     * @param {?=} localStorageMapper Mapper function for mapping state to local store
     * @param {?=} localStorageActions Actions after which to save to local storage
     * @return {?}
     */
    StorageService.prototype.initLocalStore = /**
     * Initialize the use of local storage
     * @param {?=} localStorageMapper Mapper function for mapping state to local store
     * @param {?=} localStorageActions Actions after which to save to local storage
     * @return {?}
     */
    function (localStorageMapper, localStorageActions) {
        if (localStorageMapper === void 0) { localStorageMapper = function (s) { return s; }; }
        if (localStorageActions === void 0) { localStorageActions = []; }
        this.localStorageMapper = localStorageMapper;
        this.localStorageActions = localStorageActions;
        var /** @type {?} */ ls = this.localStore;
        var /** @type {?} */ localStore = ls ? JSON.parse(ls) : {};
        return localStore;
    };
    /**
     * Initialize the use of session storage
     * @param sessionStorageMapper Mapper function for mapping state to session store
     * @param sessionStorageActions Actions after which to save to session storage
     */
    /**
     * Initialize the use of session storage
     * @param {?=} sessionStorageMapper Mapper function for mapping state to session store
     * @param {?=} sessionStorageActions Actions after which to save to session storage
     * @return {?}
     */
    StorageService.prototype.initSessionStore = /**
     * Initialize the use of session storage
     * @param {?=} sessionStorageMapper Mapper function for mapping state to session store
     * @param {?=} sessionStorageActions Actions after which to save to session storage
     * @return {?}
     */
    function (sessionStorageMapper, sessionStorageActions) {
        if (sessionStorageMapper === void 0) { sessionStorageMapper = function (s) { return s; }; }
        if (sessionStorageActions === void 0) { sessionStorageActions = []; }
        this.sessionStorageMapper = sessionStorageMapper;
        this.sessionStorageActions = sessionStorageActions;
        var /** @type {?} */ ss = this.sessionStore;
        var /** @type {?} */ sessionStore = ss ? JSON.parse(ss) : {};
        return sessionStorage;
    };
    /**
     * @param {?} actionType
     * @return {?}
     */
    StorageService.prototype.inLocalStorage = /**
     * @param {?} actionType
     * @return {?}
     */
    function (actionType) {
        return inArray(this.localStorageActions, actionType);
    };
    /**
     * @param {?} actionType
     * @return {?}
     */
    StorageService.prototype.inSessionStorage = /**
     * @param {?} actionType
     * @return {?}
     */
    function (actionType) {
        return inArray(this.sessionStorageActions, actionType);
    };
    /**
     * Store state to local storage.
     */
    /**
     * Store state to local storage.
     * @param {?} state
     * @param {?} action
     * @return {?}
     */
    StorageService.prototype.storeLocal = /**
     * Store state to local storage.
     * @param {?} state
     * @param {?} action
     * @return {?}
     */
    function (state$$1, action) {
        try {
            // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));
            var /** @type {?} */ filteredState = Object.assign(filterState(new ActionStore(action)), filterState(Object.assign({}, this.localStorageMapper(state$$1))));
            var /** @type {?} */ serializedState = JSON.stringify(filteredState);
            localStorage.removeItem(this.storeKey);
            localStorage.setItem(this.storeKey, serializedState);
        }
        catch (/** @type {?} */ err) {
            console.error("ERROR SAVING LOCAL STATE!\nAction:\t" + action.actionType + "\n", err);
        }
    };
    /**
     * Store state to session storage.
     */
    /**
     * Store state to session storage.
     * @param {?} state
     * @param {?} action
     * @return {?}
     */
    StorageService.prototype.storeSession = /**
     * Store state to session storage.
     * @param {?} state
     * @param {?} action
     * @return {?}
     */
    function (state$$1, action) {
        try {
            // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));
            // const filteredState = this.filterState(Object.assign({}, state));
            var /** @type {?} */ filteredState = Object.assign(filterState(new ActionStore(action)), filterState(Object.assign({}, this.sessionStorageMapper(state$$1))));
            var /** @type {?} */ serializedState = JSON.stringify(filteredState);
            localStorage.removeItem(this.storeKey);
            sessionStorage.setItem(this.storeKey, serializedState);
        }
        catch (/** @type {?} */ err) {
            console.error("ERROR SAVING SESSION STATE!\nAction:\t" + action.actionType + "\n", err);
        }
    };
    StorageService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    /** @nocollapse */
    StorageService.ctorParameters = function () { return [
        { type: Store },
        { type: String, decorators: [{ type: Inject, args: [STORE_KEY,] }] }
    ]; };
    /** @nocollapse */ StorageService.ngInjectableDef = defineInjectable({ factory: function StorageService_Factory() { return new StorageService(inject(Store), inject(STORE_KEY)); }, token: StorageService, providedIn: "root" });
    return StorageService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var StorageEffects = /** @class */ (function () {
    function StorageEffects(actions$, service, state$) {
        var _this = this;
        this.actions$ = actions$;
        this.service = service;
        this.state$ = state$;
        /**
         * Listens for dispatched actions, updates local storage in response.
         */
        this.onSyncLocalStorage = this.actions$.pipe(filter(function (action) { return _this.service.inLocalStorage(action.type); }), map(function (action) { return ({
            type: StorageActions.UPDATE_LOCAL_STORAGE,
            payload: action
        }); }));
        /**
         * Listens for dispatched actions, updates session storage in response.
         */
        this.onSyncSessionStorage = this.actions$.pipe(filter(function (action) { return _this.service.inSessionStorage(action.type); }), map(function (action) { return ({
            type: StorageActions.UPDATE_SESSION_STORAGE,
            payload: action
        }); }));
        /**
         * Stores state to local storage after each action.
         */
        this.onStoreLocal = this.actions$.pipe(ofType(StorageActions.UPDATE_LOCAL_STORAGE), map(toPayload), withLatestFrom(this.state$, function (action, state$$1) {
            _this.service.storeLocal(state$$1, action);
        }));
        /**
         * Stores state to local storage after each action.
         */
        this.onStoreSession = this.actions$.pipe(ofType(StorageActions.UPDATE_SESSION_STORAGE), map(toPayload), withLatestFrom(this.state$, function (action, state$$1) {
            _this.service.storeSession(state$$1, action);
        }));
    }
    StorageEffects.decorators = [
        { type: Injectable },
    ];
    /** @nocollapse */
    StorageEffects.ctorParameters = function () { return [
        { type: Actions },
        { type: StorageService },
        { type: Store }
    ]; };
    __decorate([
        Effect(),
        __metadata("design:type", Observable)
    ], StorageEffects.prototype, "onSyncLocalStorage", void 0);
    __decorate([
        Effect(),
        __metadata("design:type", Observable)
    ], StorageEffects.prototype, "onSyncSessionStorage", void 0);
    __decorate([
        Effect({ dispatch: false }),
        __metadata("design:type", Observable)
    ], StorageEffects.prototype, "onStoreLocal", void 0);
    __decorate([
        Effect({ dispatch: false }),
        __metadata("design:type", Observable)
    ], StorageEffects.prototype, "onStoreSession", void 0);
    return StorageEffects;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ STORE_KEY = new InjectionToken('Local/Session Storage Key');
/**
 * @param {?} store
 * @param {?} storeKey
 * @return {?}
 */
function storageServiceFactory(store, storeKey) {
    return new StorageService(store, storeKey);
}
/**
 * @param {?} storeKey
 * @return {?}
 */
function provideStorage(storeKey) {
    return [
        StorageEffects,
        { provide: StorageService, useFactory: storageServiceFactory, deps: [Store, STORE_KEY] },
        { provide: STORE_KEY, useValue: storeKey },
    ];
}
var StorageModule = /** @class */ (function () {
    function StorageModule() {
    }
    /**
     * Provides StorageModule with storage service and effects.
     * @param storeKey - The name of the key containing the store in storage.
     */
    /**
     * Provides StorageModule with storage service and effects.
     * @param {?} storeKey - The name of the key containing the store in storage.
     * @return {?}
     */
    StorageModule.forRoot = /**
     * Provides StorageModule with storage service and effects.
     * @param {?} storeKey - The name of the key containing the store in storage.
     * @return {?}
     */
    function (storeKey) {
        return {
            ngModule: StorageModule,
            providers: provideStorage(storeKey)
        };
    };
    StorageModule.decorators = [
        { type: NgModule },
    ];
    return StorageModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var StoreModule$1 = /** @class */ (function () {
    function StoreModule$$1() {
    }
    /**
     * @template T, V
     * @param {?} reducers
     * @param {?=} config
     * @return {?}
     */
    StoreModule$$1.forRoot = /**
     * @template T, V
     * @param {?} reducers
     * @param {?=} config
     * @return {?}
     */
    function (reducers, config) {
        return StoreModule.forRoot(reducers, config);
    };
    /**
     * @template T, V
     * @param {?} featureName
     * @param {?} reducers
     * @param {?=} config
     * @return {?}
     */
    StoreModule$$1.forFeatures = /**
     * @template T, V
     * @param {?} featureName
     * @param {?} reducers
     * @param {?=} config
     * @return {?}
     */
    function (featureName, reducers, config) {
        return StoreModule.forFeature(featureName, reducers, config);
    };
    /**
     * @template T, V
     * @param {?} featureName
     * @param {?} reducer
     * @param {?=} config
     * @return {?}
     */
    StoreModule$$1.forFeature = /**
     * @template T, V
     * @param {?} featureName
     * @param {?} reducer
     * @param {?=} config
     * @return {?}
     */
    function (featureName, reducer, config) {
        return StoreModule.forFeature(featureName, reducer, config);
    };
    StoreModule$$1.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        StoreModule,
                    ],
                    declarations: [],
                    exports: [
                        StoreModule,
                    ]
                },] },
    ];
    return StoreModule$$1;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/** @enum {number} */
var ActionTypes = {
    DEFAULT: 0,
    GET: 1,
    GET_SUCCESS: 2,
    GET_ERROR: 3,
    POST: 4,
    POST_SUCCESS: 5,
    POST_ERROR: 6,
    PUT: 7,
    PUT_SUCCESS: 8,
    PUT_ERROR: 9,
    DELETE: 10,
    DELETE_SUCCESS: 11,
    DELETE_ERROR: 12,
    SAVE: 13,
};
ActionTypes[ActionTypes.DEFAULT] = "DEFAULT";
ActionTypes[ActionTypes.GET] = "GET";
ActionTypes[ActionTypes.GET_SUCCESS] = "GET_SUCCESS";
ActionTypes[ActionTypes.GET_ERROR] = "GET_ERROR";
ActionTypes[ActionTypes.POST] = "POST";
ActionTypes[ActionTypes.POST_SUCCESS] = "POST_SUCCESS";
ActionTypes[ActionTypes.POST_ERROR] = "POST_ERROR";
ActionTypes[ActionTypes.PUT] = "PUT";
ActionTypes[ActionTypes.PUT_SUCCESS] = "PUT_SUCCESS";
ActionTypes[ActionTypes.PUT_ERROR] = "PUT_ERROR";
ActionTypes[ActionTypes.DELETE] = "DELETE";
ActionTypes[ActionTypes.DELETE_SUCCESS] = "DELETE_SUCCESS";
ActionTypes[ActionTypes.DELETE_ERROR] = "DELETE_ERROR";
ActionTypes[ActionTypes.SAVE] = "SAVE";

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function configReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = new Config(); }
    switch (action.type) {
        case ConfigActions.INITIALIZE:
            return build(Config, state$$1, action.payload);
        default:
            return state$$1;
    }
}
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function sidenavReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = true; }
    switch (action.type) {
        case SidenavActions.CLOSE:
            return false;
        case SidenavActions.OPEN:
            return true;
        case SidenavActions.TOGGLE:
            return !state$$1;
        default:
            return state$$1;
    }
}
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
function windowReducer(state$$1, action) {
    if (state$$1 === void 0) { state$$1 = new Window(); }
    switch (action.type) {
        case WindowActions.RESIZE:
            return build(Window, state$$1, /** @type {?} */ (action.payload));
        default:
            return state$$1;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { LibraryService, LibraryComponent, LibraryModule, AnimationsModule, AccordionModule, AccordionComponent, CollageModule, CollageComponent, Collage, DatepickerModule, DATEPICKER_ACCESSOR, DatepickerComponent, DATERANGE_ACCESSOR, DaterangeComponent, DialogModule, DialogComponent, DialogModel, DialogAction, EditorModule, EDITOR_ACCESSOR, EditorComponent, EditorWindowComponent, FileUploadModule, FILE_UPLOAD_ACCESSOR, FileUploadComponent, FileUpload, getReadyState, File, FilePreviewComponent, UploadComponent, UploadsComponent, GridModule$1 as GridModule, Grid, GridColumn, NotFoundModule, NotFoundComponent, TileModule, TileComponent, Tile, WallpaperModule, WallpaperComponent, EffectsModule$1 as EffectsModule, ErrorsModule, ErrorActions, ErrorEffects, Error, errorsReducer, errorsSelector, errorSelector, ErrorsService, GlobalErrorsService, EventsModule, EventActions, EventEffects, Event, Events, UpdateValuePayload, eventsReducer, eventsSelector, eventSelector, eventValueSelector, EventsService, FormsModule$1 as FormsModule, FormActions, Control, ArrayControl, FormArray$1 as FormArray, buildAbstractControl, buildArrayFromType, buildControl, buildControlFromModel, buildControlsConfig, buildFormArray, buildFormArrayControls, findFormArrayType, hasGroupValidators, hasValidators, isArrayValue, isFormArray, isFormControl, isFormGroup, isGroupValue, baseUrlFactory, authTokenFactory, httpServiceFactory, provideHttpContext, HttpModule, HttpActions, HttpCommands, HttpEffects, HttpDeletePayload, HttpGetPayload, HttpPutPayload, HttpPostPayload, HTTP_REQUEST_STATUS, HTTP_STATUS_CODES, HttpOptions, HttpService, LOOKUP_PATH, LOOKUP_KEYS, lookupServiceFactory, provideLookup, LookupModule, LookupActions, Lookup, LookupValue, Lookups, AddLookupPayload, lookupReducer, lookupSelector, lookupKeySelector, lookupValuesSelector, lookupValueSelector, LookupService, ListPipe, PhoneNumberPipe, TimeAgoPipe, YesNoPipe, RouterModule$1 as RouterModule, RouterActions, RouterEffects, ActivatedRoutePayload, Breadcrumbs, CustomRoute, LazyRoute, NavigationStatus, RouteSegment, RouterState, VisitedRoute, routerReducer, routeSelector, breadcrumbsSelector, routeNameSelector, routeParamsSelector, lazyRouteParamsSelector, routeParamSelector, routeParamArraySelector, routeParamIdSelector, routeParamIntSelector, urlSelector, querySelector, RouterService, AuthenticatedGuard, SharedModule, BaseEntity, Collection, DumbComponent, FormComponent, SmartComponent, Config, ViewConfig, DateRange, DateHelper, ActionCreator, ActionType, Class, Command, Dispatcher, Entity, EventHandler, LifecycleHook, Method, Parameter, Property, StaticMethod, StaticProperty, Address, Alert, Coordinates, Dimensions, Email, EMAIL_REGEX, Filters, Image, Metadata, MetadataType, PropertyMetadata, QueryItem, QueryModel, Search, StyleModel, Permutation, OrderedItem, Ordering, Question, Questions, QuestionsModel, Token, TreeItem, Tree, User, CurrentUser, UserRoles, Login, ResetPassword, applyDecorators, applyMixins, arrayUnion, assignProps, build, compareDates, compareNumbers, compareStrings, distinct, equals, extendObject, falsy, filterState, findMetadata, findSchoolYear, flattenKeys, formatPhoneNumber, format7DigitPhoneNumber, format10DigitPhoneNumber, formatPrice, getTypeNameForDebugging, getAllProps, getGetters, getKeyValues, getSetters, getStyle, getValue, guid, hasChanged, idChanged, ignoreKey, inArray, inArrayByKey, integerArray, isBetweenDates, isCyclic, nextState, positiveIntegerArray, removeCycles, removeProps, serialize, stringify, str2CharCode, str2Id, str2int, strArray2Id, throwException, throwNotImplementedException, toArray, toInt, toPayload, toPx, truthy, tryCast, valueChanged, valueEquals, Window, WindowResize, STORE_KEY, storageServiceFactory, provideStorage, StorageModule, StorageActions, StorageEffects, ActionStore, Storage$1 as Storage, StorageService, StoreModule$1 as StoreModule, AppActions, ConfigActions, SidenavActions, WindowActions, ActionTypes, configReducer, sidenavReducer, windowReducer, allSelector, emptySelector, currentUserSelector, authenticatedSelector, configSelector, windowSelector, windowHeightSelector, windowWidthSelector, containerHeightSelector, containerWidthSelector, contentHeightSelector, contentWidthSelector, sidenavOpenedSelector, apiBaseUrlSelector, authTokenSelector, GridCellComponent as Éµd, GridColumnComponent as Éµb, GridComponent as Éµa, SimpleGridComponent as Éµc };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FpdS1saWJyYXJ5LmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9saWJyYXJ5LnNlcnZpY2UudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2xpYnJhcnkuY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2FjY29yZGlvbi9hY2NvcmRpb24uY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9zaGFyZWQvc2hhcmVkLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9hY2NvcmRpb24vYWNjb3JkaW9uLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc2hhcmVkL21vZGVscy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy90aWxlL3RpbGUubW9kZWwudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC91dGlscy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9jb2xsYWdlL2NvbGxhZ2UubW9kZWwudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvY29sbGFnZS9jb2xsYWdlLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy90aWxlL3RpbGUuY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL3RpbGUvdGlsZS5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvY29sbGFnZS9jb2xsYWdlLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc2hhcmVkL2RhdGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9kYXRlcGlja2VyL2RhdGVyYW5nZS9kYXRlcmFuZ2UuY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvZGlhbG9nL2RpYWxvZy5tb2RlbC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9kaWFsb2cvZGlhbG9nLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9kaWFsb2cvZGlhbG9nLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9maWxlLXVwbG9hZC9maWxlLXVwbG9hZC5tb2RlbC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc2hhcmVkL29yZGVyaW5nLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9maWxlLXVwbG9hZC9maWxlLXByZXZpZXcvZmlsZS1wcmV2aWV3LmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9maWxlLXVwbG9hZC91cGxvYWQvdXBsb2FkLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9maWxlLXVwbG9hZC91cGxvYWRzL3VwbG9hZHMuY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc2hhcmVkL2NvbGxlY3Rpb24udHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvZ3JpZC9ncmlkLm1vZGVsLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2dyaWQvZ3JpZC1jb2x1bW4vZ3JpZC1jb2x1bW4ubW9kZWwudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvZ3JpZC9ncmlkLWNvbHVtbi9ncmlkLWNvbHVtbi5jb21wb25lbnQudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9ncmlkL2dyaWQtY2VsbC9ncmlkLWNlbGwuY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2dyaWQvc2ltcGxlLWdyaWQvc2ltcGxlLWdyaWQuY29tcG9uZW50LnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9jb21wb25lbnRzL2dyaWQvZ3JpZC5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvbm90LWZvdW5kL25vdC1mb3VuZC5jb21wb25lbnQudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvbm90LWZvdW5kL25vdC1mb3VuZC5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvd2FsbHBhcGVyL3dhbGxwYXBlci5jb21wb25lbnQudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2NvbXBvbmVudHMvd2FsbHBhcGVyL3dhbGxwYXBlci5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3BpcGVzL2xpc3QucGlwZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvcGlwZXMvcGhvbmUtbnVtYmVyLnBpcGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3BpcGVzL3RpbWUtYWdvLnBpcGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3BpcGVzL3llcy1uby5waXBlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9saWJyYXJ5Lm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvYW5pbWF0aW9ucy9hbmltYXRpb25zLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9lZGl0b3IvZWRpdG9yLXdpbmRvdy9lZGl0b3Itd2luZG93LmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9lZGl0b3IvZWRpdG9yLmNvbXBvbmVudC50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvY29tcG9uZW50cy9lZGl0b3IvZWRpdG9yLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZWZmZWN0cy9lZmZlY3RzLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZXJyb3JzL2Vycm9ycy5hY3Rpb25zLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9lcnJvcnMvZXJyb3JzLnNlcnZpY2UudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2Vycm9ycy9lcnJvcnMuZWZmZWN0cy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZXJyb3JzL2dsb2JhbC1lcnJvcnMuc2VydmljZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZXJyb3JzL2Vycm9ycy5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2Vycm9ycy9lcnJvcnMubW9kZWxzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9lcnJvcnMvZXJyb3JzLnJlZHVjZXIudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2Vycm9ycy9lcnJvcnMuc2VsZWN0b3JzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9ldmVudHMvZXZlbnRzLm1vZGVscy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZXZlbnRzL2V2ZW50cy5hY3Rpb25zLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9ldmVudHMvZXZlbnRzLmVmZmVjdHMudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2V2ZW50cy9ldmVudHMuc2VsZWN0b3JzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9ldmVudHMvZXZlbnRzLnNlcnZpY2UudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2V2ZW50cy9ldmVudHMubW9kdWxlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9ldmVudHMvZXZlbnRzLnJlZHVjZXIudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2Zvcm1zL2Zvcm1zLm1vZHVsZS50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZm9ybXMvYWN0aW9ucy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZm9ybXMvbW9kZWxzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9mb3Jtcy91dGlscy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvZm9ybXMvZGVjb3JhdG9ycy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvaHR0cC9odHRwLm1vZGVscy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvaHR0cC9odHRwLmFjdGlvbnMudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2h0dHAvaHR0cC5zZXJ2aWNlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9zaGFyZWQvYmFzZS1lbnRpdHkudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC9kZWNvcmF0b3JzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9odHRwL2h0dHAuY29tbWFuZHMudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2h0dHAvaHR0cC5lZmZlY3RzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9odHRwL2h0dHAubW9kdWxlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9sb29rdXAvbG9va3VwLmFjdGlvbnMudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2xvb2t1cC9sb29rdXAubW9kZWxzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9sb29rdXAvbG9va3VwLnNlcnZpY2UudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2xvb2t1cC9sb29rdXAubW9kdWxlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9zdG9yZS9hY3Rpb25zLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9sb29rdXAvbG9va3VwLnJlZHVjZXIudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL2xvb2t1cC9sb29rdXAuc2VsZWN0b3JzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9yb3V0ZXIvYWN0aW9ucy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvcm91dGVyL3JvdXRlci5zZXJ2aWNlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9yb3V0ZXIvcm91dGVyLmVmZmVjdHMudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3JvdXRlci9yb3V0ZXIubW9kdWxlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9yb3V0ZXIvbW9kZWxzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9yb3V0ZXIvcm91dGVyLnJlZHVjZXIudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3JvdXRlci9zZWxlY3RvcnMudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC90b2tlbi50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc2hhcmVkL3dpbmRvdy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc3RvcmUvc2VsZWN0b3JzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9yb3V0ZXIvZ3VhcmRzL2F1dGhlbnRpY2F0ZWQuZ3VhcmQudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC9jb21wb25lbnQudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC9jb25maWcudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC9xdWVzdGlvbi50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc2hhcmVkL3RyZWUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3NoYXJlZC91c2VyLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9zdG9yYWdlL3N0b3JhZ2UuYWN0aW9ucy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc3RvcmFnZS9zdG9yYWdlLm1vZGVscy50cyIsIm5nOi8vQGNhaXUvbGlicmFyeS9saWIvc3RvcmFnZS9zdG9yYWdlLnNlcnZpY2UudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3N0b3JhZ2Uvc3RvcmFnZS5lZmZlY3RzLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9zdG9yYWdlL3N0b3JhZ2UubW9kdWxlLnRzIiwibmc6Ly9AY2FpdS9saWJyYXJ5L2xpYi9zdG9yZS9zdG9yZS5tb2R1bGUudHMiLCJuZzovL0BjYWl1L2xpYnJhcnkvbGliL3N0b3JlL3JlZHVjZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgTGlicmFyeVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdpdS1saWJyYXJ5JyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8cD5cbiAgICAgIGxpYnJhcnkgd29ya3MhXG4gICAgPC9wPlxuICBgLFxuICBzdHlsZXM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIExpYnJhcnlDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyB0cmlnZ2VyLCBzdGF0ZSwgc3R5bGUsIHRyYW5zaXRpb24sIGFuaW1hdGUgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnaXUtYWNjb3JkaW9uJyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJhY2NvcmRpb25cIj5cclxuICA8ZGl2IGNsYXNzPVwidHJpZ2dlci13cmFwcGVyXCIgKGNsaWNrKT1cIm9uQ2xpY2tUcmlnZ2VyKClcIiBbY2xhc3MuYWN0aXZlXT1cImFjdGl2ZVwiPlxyXG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiLmFjY29yZGlvbi10cmlnZ2VyXCI+PC9uZy1jb250ZW50PlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJjb250ZW50LXdyYXBwZXJcIiBbQHRvZ2dsZV09XCJvcGVuZWQgPyAnc2hvdycgOiAnaGlkZSdcIiAoQHRvZ2dsZS5zdGFydCk9XCJvblN0YXJ0KCRldmVudClcIiAoQHRvZ2dsZS5kb25lKT1cIm9uRG9uZSgkZXZlbnQpXCI+XHJcbiAgICA8bmctY29udGVudCBzZWxlY3Q9XCIuYWNjb3JkaW9uLWNvbnRlbnRcIj48L25nLWNvbnRlbnQ+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PmAsXHJcbiAgc3R5bGVzOiBbYC50cmlnZ2VyLXdyYXBwZXJ7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzowfS50cmlnZ2VyLXdyYXBwZXIuYWN0aXZle2N1cnNvcjpwb2ludGVyfS5jb250ZW50LXdyYXBwZXJ7b3ZlcmZsb3c6aGlkZGVuO2NsZWFyOmJvdGh9Lm1hdC1pY29ue3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjIlO3RvcDoyNSU7Y29sb3I6I2ZmZjtmb250LXNpemU6MzJweDtoZWlnaHQ6NTAlO2ZvbnQtd2VpZ2h0OjcwMH1gXSxcclxuICBhbmltYXRpb25zOiBbXHJcbiAgICB0cmlnZ2VyKCd0b2dnbGUnLCBbXHJcbiAgICAgIHN0YXRlKCcqJywgc3R5bGUoeyBoZWlnaHQ6ICcwcHgnIH0pKSxcclxuICAgICAgc3RhdGUoJ3Nob3cnLCBzdHlsZSh7IGhlaWdodDogJyonIH0pKSxcclxuICAgICAgc3RhdGUoJ2hpZGUnLCBzdHlsZSh7IGhlaWdodDogJzBweCcgfSkpLFxyXG4gICAgICB0cmFuc2l0aW9uKCdzaG93IDw9PiBoaWRlJywgW1xyXG4gICAgICAgIGFuaW1hdGUoJzMwMG1zIGVhc2Utb3V0JylcclxuICAgICAgXSlcclxuICAgIF0pXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQWNjb3JkaW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgYWN0aXZlID0gdHJ1ZTtcclxuICBASW5wdXQoKSBvcGVuZWQgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIHNob3dBcnJvdyA9IGZhbHNlO1xyXG4gIEBPdXRwdXQoKSBjbG9zZVN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBjbG9zZURvbmUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgQE91dHB1dCgpIG9wZW5TdGFydCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBAT3V0cHV0KCkgb3BlbkRvbmUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlKCkge1xyXG4gICAgdGhpcy5vcGVuZWQgPSAhdGhpcy5vcGVuZWQ7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5vcGVuZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgb25TdGFydChlOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLm9wZW5lZCkge1xyXG4gICAgICB0aGlzLm9wZW5TdGFydC5lbWl0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNsb3NlU3RhcnQuZW1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Eb25lKGU6IGFueSkge1xyXG4gICAgaWYgKHRoaXMub3BlbmVkKSB7XHJcbiAgICAgIHRoaXMub3BlbkRvbmUuZW1pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbG9zZURvbmUuZW1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbGlja1RyaWdnZXIoKSB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgdGhpcy50b2dnbGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IEZsZXhMYXlvdXRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mbGV4LWxheW91dCc7XHJcbmltcG9ydCB7IFJvdXRlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCAnaGFtbWVyanMnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGUsXHJcbiAgICBSb3V0ZXJNb2R1bGUsXHJcbiAgICBGbGV4TGF5b3V0TW9kdWxlLFxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGUsXHJcbiAgICBSb3V0ZXJNb2R1bGUsXHJcbiAgICBGbGV4TGF5b3V0TW9kdWxlLFxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIFNoYXJlZE1vZHVsZSB7IH1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IEFjY29yZGlvbkNvbXBvbmVudCB9IGZyb20gJy4vYWNjb3JkaW9uLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFNoYXJlZE1vZHVsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9zaGFyZWQubW9kdWxlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgU2hhcmVkTW9kdWxlLFxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBBY2NvcmRpb25Db21wb25lbnQsXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBBY2NvcmRpb25Db21wb25lbnQsXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQWNjb3JkaW9uTW9kdWxlIHsgfVxyXG4iLCJleHBvcnQgY2xhc3MgQWRkcmVzcyB7XHJcbiAgICBmaXJzdE5hbWUgPSAnJztcclxuICAgIGxhc3ROYW1lID0gJyc7XHJcbiAgICBzdHJlZXRBZGRyZXNzID0gJyc7XHJcbiAgICBhZGRyZXNzMiA9ICcnO1xyXG4gICAgY2l0eSA9ICcnO1xyXG4gICAgc3RhdGUgPSAnJztcclxuICAgIHN0YXRlSWQgPSA0NTtcclxuICAgIHppcENvZGUgPSAwO1xyXG4gICAgbWV0YWRhdGE6IE1ldGFkYXRhID0ge1xyXG4gICAgICAgIHN0cmVldEFkZHJlc3M6IHt9LFxyXG4gICAgICAgIGFkZHJlc3MyOiB7fSxcclxuICAgICAgICBjaXR5OiB7fSxcclxuICAgICAgICBzdGF0ZUlkOiB7fSxcclxuICAgICAgICB6aXBDb2RlOiB7fVxyXG4gICAgfTtcclxuXHJcbiAgICBnZXQgY2l0eVN0YXRlWmlwKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQ2l0eVN0YXRlWmlwID9cclxuICAgICAgICAgICAgYCR7dGhpcy5jaXR5fSwgJHt0aGlzLnN0YXRlfSAke3RoaXMuemlwQ29kZX0gYCA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjaXR5U3RhdGVaaXAodmFsdWU6IHN0cmluZykge1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmdWxsTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0TmFtZSAmJiB0aGlzLmxhc3ROYW1lID8gYCR7dGhpcy5maXJzdE5hbWV9ICR7dGhpcy5sYXN0TmFtZX1gIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZ1bGxOYW1lKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGFzQWRkcmVzcygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNTdHJlZXRBZGRyZXNzICYmIHRoaXMuaGFzQ2l0eVN0YXRlWmlwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNDaXR5U3RhdGVaaXAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2l0eSAhPT0gJycgJiYgKHRoaXMuc3RhdGUgIT09ICcnIHx8IHRoaXMuc3RhdGVJZCAhPT0gMCkgJiYgdGhpcy56aXBDb2RlICE9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNTdHJlZXRBZGRyZXNzKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVldEFkZHJlc3MgIT09ICcnO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFsZXJ0IHtcclxuICAgIG1lc3NhZ2UgPSAnJztcclxuICAgIHR5cGU6ICdFUlJPUicgfCAnU1VDQ0VTUyc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb29yZGluYXRlcyB7XHJcbiAgICByb3cgPSAwO1xyXG4gICAgY29sdW1uID0gMDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaWN0aW9uYXJ5PFQ+IHtcclxuICAgIFtpZDogc3RyaW5nXTogVDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERpbWVuc2lvbnMge1xyXG4gICAgaGVpZ2h0ID0gMDtcclxuICAgIHdpZHRoID0gMDtcclxuICAgIHJvd3MgPSAwO1xyXG4gICAgY29sdW1ucyA9IDA7XHJcblxyXG4gICAgZ2V0IGFwcHJveFJhdGlvKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm93cyAvIHRoaXMuY29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmF0aW8oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQgLyB0aGlzLndpZHRoO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVtYWlsIHtcclxuICAgIGlkID0gMDtcclxuICAgIGJjYyA9ICcnO1xyXG4gICAgYm9keSA9ICcnO1xyXG4gICAgY2MgPSAnJztcclxuICAgIGZhaWxlZCA9ICcnO1xyXG4gICAgZnJvbSA9ICcnO1xyXG4gICAgc2VudCA9IGZhbHNlO1xyXG4gICAgc2VudERhdGU6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgc3ViamVjdCA9ICcnO1xyXG4gICAgdG8gPSAnJztcclxuICAgIGNyZWF0ZWRCeUlkID0gbnVsbDtcclxuICAgIGNyZWF0ZWREYXRlOiBEYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICBjcmVhdGVkQnk6IGFueTtcclxuICAgIGF0dGFjaG1lbnRzID0gW107XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFTUFJTF9SRUdFWCA9IC9eW2EtekEtWjAtOS4hIyQlJsOiwoDCmSorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05LV0rKD86XFwuW2EtekEtWjAtOS1dKykqJC87XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsdGVycyB7XHJcbiAgICBza2lwID0gMDtcclxuICAgIHNvcnRCeSA9ICcnO1xyXG4gICAgdGFrZSA9IDA7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEZ1bmM8VCwgVFJlc3VsdD4gPSAoaXRlbTogVCkgPT4gVFJlc3VsdDtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGFzSWQge1xyXG4gICAgaWQ6IHN0cmluZyB8IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIYXNNZXRhZGF0YSB7XHJcbiAgICBtZXRhZGF0YTogTWV0YWRhdGE7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZSB7XHJcbiAgICBzcmMgPSAnJztcclxuICAgIG9yaWVudGF0aW9uOiAnaCcgfCAndic7XHJcbiAgICBoZWlnaHQgPSAwO1xyXG4gICAgd2lkdGggPSAwO1xyXG5cclxuICAgIGdldCBob3Jpem9udGFsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSAnaCc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZlcnRpY2FsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSAndic7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbHNwYW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyAxIDogMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm93c3BhbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IDIgOiAxO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWV0YWRhdGEge1xyXG4gICAgY29udHJvbHM/OiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgaWdub3JlPzogc3RyaW5nW10gPSBbXTtcclxuICAgIGxhYmVsID89ICcnO1xyXG4gICAgbmFtZSA/PSAnJztcclxuICAgIHZhbHVlPzogYW55O1xyXG4gICAgW2tleTogc3RyaW5nXTogYW55O1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBNZXRhZGF0YVR5cGUge1xyXG4gICAgQ0xBU1MsXHJcbiAgICBNRVRIT0QsXHJcbiAgICBQUk9QRVJUWSxcclxuICAgIFBBUkFNRVRFUixcclxuICAgIFNUQVRJQ19NRVRIT0QsXHJcbiAgICBTVEFUSUNfUFJPUEVSVFlcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFByb3BlcnR5TWV0YWRhdGE8VD4ge1xyXG4gICAgaWdub3JlPzogc3RyaW5nW10gPSBbXTtcclxuICAgIGxhYmVsID89ICcnO1xyXG4gICAgbmFtZSA/PSAnJztcclxuICAgIHZhbHVlPzogVDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXJ5SXRlbSB7XHJcbiAgICBsYWJlbCA9ICcnO1xyXG4gICAgdmFsdWU6IGFueTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXJ5TW9kZWw8VD4ge1xyXG5cclxuICAgIHVzZXJJZCA9IDA7XHJcbiAgICBhY2NvdW50SWQgPSAwO1xyXG4gICAgZmllbGRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgZmlsdGVyQnk6ICh4OiBUKSA9PiBib29sZWFuO1xyXG4gICAgZmlsdGVyczogc3RyaW5nW10gPSBbXTtcclxuICAgIGdyb3VwQnk6ICh4OiBUKSA9PiBhbnk7XHJcbiAgICBncm91cHM6IHN0cmluZ1tdID0gW107XHJcbiAgICBpbmNsdWRlOiAoeDogVCkgPT4gYW55O1xyXG4gICAgbWFwOiAoeDogVCkgPT4gYW55O1xyXG4gICAgb3JkZXJCeTogKHg6IFQpID0+IGFueTtcclxuICAgIHBhcmFtcyA9IHt9O1xyXG4gICAgc2tpcCA9IDA7XHJcbiAgICBzb3J0OiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgdGFrZSA9IDA7XHJcbiAgICB0ZXJtID0gJyc7XHJcblxyXG4gICAgZ2V0IGhhc1BhcmFtcygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b3RhbFBhcmFtcyA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGtleXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhuZXcgUXVlcnlNb2RlbDxUPigpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG90YWxQYXJhbXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQXBwZW5kUXVlcnlTdHJpbmcocXVlcnk6IFF1ZXJ5TW9kZWw8YW55Pik6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gUXVlcnlNb2RlbC5CdWlsZFF1ZXJ5T2JqZWN0KHF1ZXJ5KTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0ciA9IG9ialtrZXldO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyID8gUXVlcnlNb2RlbC5BcHBlbmRUb1F1ZXJ5U3RyaW5nKGFjYywgc3RyKSA6IGFjYztcclxuICAgICAgICB9LCAnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEFwcGVuZFRvUXVlcnlTdHJpbmcocGF0aDogc3RyaW5nLCBzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHBhdGggPyBgJHtwYXRofSYke3N0cn1gIDogc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5OiBRdWVyeU1vZGVsPGFueT4pOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBRdWVyeU1vZGVsLkFwcGVuZFF1ZXJ5U3RyaW5nKHF1ZXJ5KTtcclxuICAgICAgICByZXR1cm4gcGF0aCA/IGA/JHtwYXRofWAgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGRRdWVyeU9iamVjdChxdWVyeTogUXVlcnlNb2RlbDxhbnk+KTogYW55IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgICAgICAgIHNraXA6IFF1ZXJ5TW9kZWwuUXVlcnlTa2lwKHF1ZXJ5KSxcclxuICAgICAgICAgICAgdGFrZTogUXVlcnlNb2RlbC5RdWVyeVRha2UocXVlcnkpLFxyXG4gICAgICAgICAgICB0ZXJtOiBRdWVyeU1vZGVsLlF1ZXJ5VGVybShxdWVyeSlcclxuICAgICAgICB9LCBRdWVyeU1vZGVsLlF1ZXJ5UGFyYW1zKHF1ZXJ5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIGxldCBtb250aCA9ICcnICsgKGQuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgIGxldCBkYXkgPSAnJyArIGQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIG1vbnRoID0gJzAnICsgbW9udGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXkubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICBkYXkgPSAnMCcgKyBkYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLmpvaW4oJy0nKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUGFyc2VRdWVyeShxdWVyeVN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0ge307XHJcbiAgICAgICAgY29uc3QgcGFpcnMgPSAocXVlcnlTdHJpbmdbMF0gPT09ICc/JyA/IHF1ZXJ5U3RyaW5nLnN1YnN0cigxKSA6IHF1ZXJ5U3RyaW5nKS5zcGxpdCgnJicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgIHF1ZXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSB8fCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBxdWVyeTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUXVlcnlQYXJhbXMocXVlcnk6IFF1ZXJ5TW9kZWw8YW55Pik6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5LnBhcmFtcylcclxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IE9iamVjdC5hc3NpZ24oe30sIGFjYywgeyBba2V5XTogYCR7a2V5fT0ke3F1ZXJ5LnBhcmFtc1trZXldfWAgfSksIHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUXVlcnlTa2lwKHF1ZXJ5OiBRdWVyeU1vZGVsPGFueT4pOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBxdWVyeS5za2lwID8gYHNraXA9JHtxdWVyeS5za2lwfWAgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUXVlcnlUYWtlKHF1ZXJ5OiBRdWVyeU1vZGVsPGFueT4pOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBxdWVyeS50YWtlID8gYHRha2U9JHtxdWVyeS50YWtlfWAgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUXVlcnlUZXJtKHF1ZXJ5OiBRdWVyeU1vZGVsPGFueT4pOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBxdWVyeS50ZXJtID8gYHRlcm09JHtxdWVyeS50ZXJtfWAgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVlcnlQYXJhbXMoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gUXVlcnlNb2RlbC5RdWVyeVBhcmFtcyh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVlcnlTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gUXVlcnlNb2RlbC5CdWlsZFF1ZXJ5U3RyaW5nKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWVyeU9iamVjdCgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBRdWVyeU1vZGVsLkJ1aWxkUXVlcnlPYmplY3QodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHF1ZXJ5U2tpcCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNraXAgPyBgc2tpcD0ke3RoaXMuc2tpcH1gIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHF1ZXJ5VGFrZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRha2UgPyBgdGFrZT0ke3RoaXMudGFrZX1gIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHF1ZXJ5VGVybSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlcm0gPyBgdGVybT0ke3RoaXMudGVybX1gIDogJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTZWFyY2g8VD4ge1xyXG4gICAgcXVlcnk6IFF1ZXJ5TW9kZWw8VD4gPSBuZXcgUXVlcnlNb2RlbDxUPigpO1xyXG4gICAgcmVzdWx0czogVFtdID0gW107XHJcbiAgICB0b3RhbCA9IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdHlsZU1vZGVsIHtcclxuICAgIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xyXG4gICAgYm9yZGVyOiBzdHJpbmc7XHJcbiAgICBib3JkZXJSYWRpdXM6IG51bWJlciB8IHN0cmluZztcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBjdXJzb3I6IHN0cmluZztcclxuICAgIGRpc3BsYXk6IHN0cmluZztcclxuICAgIGZvbnRTaXplOiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgICBoZWlnaHQ6IG51bWJlciB8IHN0cmluZztcclxuICAgIGxpbmVIZWlnaHQ6IG51bWJlciB8IHN0cmluZztcclxuICAgIHBhZGRpbmc6IG51bWJlciB8IHN0cmluZztcclxuICAgIHBhZGRpbmdUb3A6IG51bWJlciB8IHN0cmluZztcclxuICAgIHBhZGRpbmdCb3R0b206IG51bWJlciB8IHN0cmluZztcclxuICAgIHBhZGRpbmdMZWZ0OiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgICBwYWRkaW5nUmlnaHQ6IG51bWJlciB8IHN0cmluZztcclxuICAgIHRleHREZWNvcmF0aW9uOiBzdHJpbmc7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG5cclxuICAgIGdldCBzdHlsZXMoKTogYW55IHtcclxuICAgICAgICBjb25zdCBzID0ge307XHJcbiAgICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZENvbG9yKSB7IHNbJ2JhY2tncm91bmRDb2xvciddID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7IH1cclxuICAgICAgICBpZiAodGhpcy5ib3JkZXIpIHsgc1snYm9yZGVyJ10gPSB0aGlzLmJvcmRlcjsgfVxyXG4gICAgICAgIGlmICh0aGlzLmJvcmRlclJhZGl1cykgeyBzWydib3JkZXJSYWRpdXMucHgnXSA9IHRoaXMuYm9yZGVyUmFkaXVzOyB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29sb3IpIHsgc1snY29sb3InXSA9IHRoaXMuY29sb3I7IH1cclxuICAgICAgICBpZiAodGhpcy5jdXJzb3IpIHsgc1snY29sb3InXSA9IHRoaXMuY3Vyc29yOyB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheSkgeyBzWydkaXNwbGF5J10gPSB0aGlzLmRpc3BsYXk7IH1cclxuICAgICAgICBpZiAodGhpcy5mb250U2l6ZSkgeyBzWydmb250U2l6ZSddID0gdGhpcy5mb250U2l6ZTsgfVxyXG4gICAgICAgIGlmICh0aGlzLmhlaWdodCkgeyBzWydoZWlnaHQucHgnXSA9IHRoaXMuaGVpZ2h0OyB9XHJcbiAgICAgICAgaWYgKHRoaXMubGluZUhlaWdodCkgeyBzWydsaW5lLWhlaWdodC5weCddID0gdGhpcy5saW5lSGVpZ2h0OyB9XHJcbiAgICAgICAgaWYgKHRoaXMucGFkZGluZykgeyBzWydwYWRkaW5nLnB4J10gPSB0aGlzLnBhZGRpbmc7IH1cclxuICAgICAgICBpZiAodGhpcy5wYWRkaW5nVG9wKSB7IHNbJ3BhZGRpbmctdG9wLnB4J10gPSB0aGlzLnBhZGRpbmdUb3A7IH1cclxuICAgICAgICBpZiAodGhpcy5wYWRkaW5nQm90dG9tKSB7IHNbJ3BhZGRpbmctYm90dG9tLnB4J10gPSB0aGlzLnBhZGRpbmdCb3R0b207IH1cclxuICAgICAgICBpZiAodGhpcy5wYWRkaW5nTGVmdCkgeyBzWydwYWRkaW5nLWxlZnQucHgnXSA9IHRoaXMucGFkZGluZ0xlZnQ7IH1cclxuICAgICAgICBpZiAodGhpcy5wYWRkaW5nUmlnaHQpIHsgc1sncGFkZGluZy1yaWdodC5weCddID0gdGhpcy5wYWRkaW5nUmlnaHQ7IH1cclxuICAgICAgICBpZiAodGhpcy50ZXh0RGVjb3JhdGlvbikgeyBzWyd0ZXh0RGVjb3JhdGlvbiddID0gdGhpcy50ZXh0RGVjb3JhdGlvbjsgfVxyXG4gICAgICAgIGlmICh0aGlzLndpZHRoKSB7IHNbJ3dpZHRoLnB4J10gPSB0aGlzLndpZHRoOyB9XHJcbiAgICAgICAgcmV0dXJuIHM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHlwZTxUPiBleHRlbmRzIEZ1bmN0aW9uIHsgbmV3KC4uLmFyZ3M6IGFueVtdKTogVDsgfVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUeXBlQ29uc3RydWN0b3I8VD4ge1xyXG4gICAgbmV3KCk6IFQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgRGltZW5zaW9ucywgSW1hZ2UsIENvb3JkaW5hdGVzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL21vZGVscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVGlsZSB7XHJcbiAgICBpZCA9IDA7XHJcbiAgICBjZWxsSGVpZ2h0ID0gMDtcclxuICAgIGNlbGxXaWR0aCA9IDA7XHJcbiAgICBjb2xvciA9ICcjZmZmJztcclxuICAgIG5hbWUgPSAnJztcclxuICAgIHNyYyA9ICcnO1xyXG4gICAgdGV4dCA9ICcnO1xyXG5cclxuICAgIF9jb29yZGluYXRlczogQ29vcmRpbmF0ZXMgPSBuZXcgQ29vcmRpbmF0ZXMoKTtcclxuICAgIF9kaW1lbnNpb25zOiBEaW1lbnNpb25zID0gbmV3IERpbWVuc2lvbnMoKTtcclxuICAgIF9pbWFnZTogSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICBnZXQgY29vcmRpbmF0ZXMoKTogQ29vcmRpbmF0ZXMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb29yZGluYXRlcyB8fCBuZXcgQ29vcmRpbmF0ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgY29vcmRpbmF0ZXModmFsdWU6IENvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgdGhpcy5fY29vcmRpbmF0ZXMgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGltZW5zaW9ucygpOiBEaW1lbnNpb25zIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGltZW5zaW9ucyB8fCBuZXcgRGltZW5zaW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkaW1lbnNpb25zKHZhbHVlOiBEaW1lbnNpb25zKSB7XHJcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbWFnZSgpOiBJbWFnZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlIHx8IG5ldyBJbWFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBpbWFnZSh2YWx1ZTogSW1hZ2UpIHtcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dzICogdGhpcy5jZWxsSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnMgKiB0aGlzLmNlbGxXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW1hZ2VTcmMoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZS5zcmM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGltYWdlSGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW1hZ2VXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlLndpZHRoICogdGhpcy5zY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm93cygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMucm93cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29sdW1ucygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMuY29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcG9zaXRpb25Ub3AoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFJvdyAqIHRoaXMuY2VsbEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcG9zaXRpb25MZWZ0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRDb2x1bW4gKiB0aGlzLmNlbGxXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYXBwcm94UmF0aW8oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dzICogdGhpcy5jZWxsSGVpZ2h0IC8gdGhpcy5jb2x1bW5zICogdGhpcy5jZWxsV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJhdGlvKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5yYXRpbztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2NhbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHRTY2FsZSA+PSB0aGlzLndpZHRoU2NhbGUgPyB0aGlzLmhlaWdodFNjYWxlIDogdGhpcy53aWR0aFNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoZWlnaHRTY2FsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5yb3dzICogdGhpcy5jZWxsSGVpZ2h0KSAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aFNjYWxlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbHVtbnMgKiB0aGlzLmNlbGxXaWR0aCkgLyB0aGlzLmltYWdlLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdGFydFJvdygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVzLnJvdztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3RhcnRDb2x1bW4oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlcy5jb2x1bW47XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IFNpbXBsZUNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IE1ldGFkYXRhLCBEaWN0aW9uYXJ5LCBUeXBlQ29uc3RydWN0b3IsIEhhc01ldGFkYXRhIH0gZnJvbSAnLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBkZXJpdmVkQ3RvciBUaGUgY2xhcyBDb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0gYmFzZUN0b3IgVGhlIG1peGlucyB0byBhcHBseVxyXG4gKiBFeGFtcGxlIFVzYWdlOiBhcHBseU1peGlucyhVbml2ZXJzaXR5UHJvZmVzc29yLCBbRW1wbG95ZWUsIFJlc2VhcmNoZXJdKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RGVjb3JhdG9ycyhkZXJpdmVkOiBhbnksIGJhc2VDdG9yczogYW55W10pIHtcclxuICAgIGJhc2VDdG9ycy5mb3JFYWNoKGJhc2VDdG9yID0+IHtcclxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlQ3Rvci5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGRlcml2ZWRbbmFtZV0gPSBiYXNlQ3Rvci5wcm90b3R5cGVbbmFtZV07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBkZXJpdmVkQ3RvciBUaGUgY2xhcyBDb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0gYmFzZUN0b3IgVGhlIG1peGlucyB0byBhcHBseVxyXG4gKiBFeGFtcGxlIFVzYWdlOiBhcHBseU1peGlucyhVbml2ZXJzaXR5UHJvZmVzc29yLCBbRW1wbG95ZWUsIFJlc2VhcmNoZXJdKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5TWl4aW5zKGRlcml2ZWRDdG9yOiBhbnksIGJhc2VDdG9yczogYW55W10pIHtcclxuICAgIGJhc2VDdG9ycy5mb3JFYWNoKGJhc2VDdG9yID0+IHtcclxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlQ3Rvci5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGRlcml2ZWRDdG9yLnByb3RvdHlwZVtuYW1lXSA9IGJhc2VDdG9yLnByb3RvdHlwZVtuYW1lXTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZCBkaXN0aW5jdCBlbGVtZW50cyBpbiB0aGUgdW5pb24gb2YgMiBhcnJheXMuXHJcbiAqIEBwYXJhbSBhcnJheTFcclxuICogQHBhcmFtIGFycmF5MlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5VW5pb24oYXJyYXkxLCBhcnJheTIpIHtcclxuICAgIGNvbnN0IGEgPSBbLi4uYXJyYXkxLCAuLi5hcnJheTJdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgYS5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICBpZiAoYVtpXSA9PT0gYVtqXSkge1xyXG4gICAgICAgICAgICAgICAgYS5zcGxpY2Uoai0tLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblByb3BzKHRhcmdldDogYW55LCBwcm9wczogRGljdGlvbmFyeTxhbnk+KSB7XHJcbiAgICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmICh0YXJnZXRba2V5XSkge1xyXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHByb3BzW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZDxUPihjdG9yOiBUeXBlQ29uc3RydWN0b3I8VD4sIC4uLmFyZ3MpOiBUIHtcclxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IGN0b3IoKTtcclxuICAgIHJldHVybiBhcmdzLnJlZHVjZSgoYWNjLCBuZXh0KSA9PiB7XHJcbiAgICAgICAgbGV0IHJldDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXQgPSBPYmplY3QuYXNzaWduKGFjYywgbmV4dCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XHJcbiAgICAgICAgICAgIHJldCA9IGFjYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgaW5zdGFuY2UpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZURhdGVzKGE6IERhdGUsIGI6IERhdGUpIHtcclxuICAgIHJldHVybiBuZXcgRGF0ZShiKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhKS5nZXRUaW1lKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlTnVtYmVycyhhOiBudW1iZXIsIGI6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGEgLSBiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVN0cmluZ3MoYTogc3RyaW5nLCBiOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHggPSBhLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCB5ID0gYi50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKHggPCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfSBlbHNlIGlmICh4ID4geSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdChhcnI6IGFueVtdLCBrZXkgPSAnJyk6IGFueVtdIHtcclxuICAgIHJldHVybiBrZXkgPyBhcnIucmVkdWNlKChhY2MsIHgpID0+IGFjYy5maW5kSW5kZXgoeSA9PiB5W2tleV0gPT09IHhba2V5XSkgPT09IC0xID8gWy4uLmFjYywgeF0gOiBhY2MsIFtdKVxyXG4gICAgICAgIDogYXJyLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MuaW5kZXhPZih4KSA9PT0gLTEgPyBbLi4uYWNjLCB4XSA6IGFjYywgW10pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKHgxOiBhbnksIHgyOiBhbnkpOiBib29sZWFuIHtcclxuXHJcbiAgICAvLyBjaGVjayB3aGV0aGVyIHgxIGFuZCB4MiBoYXZlIHRoZSBzYW1lIHR5cGVcclxuICAgIGlmICh0eXBlb2YgKHgxKSAhPT0gdHlwZW9mICh4MikpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgd2hldGhlciB4MSBhbmQgeDIgYXJlIGJvdGggbnVsbCBvciBib3RoIHVuZGVmaW5lZFxyXG4gICAgaWYgKCh4MSA9PT0gbnVsbCAmJiB4MiA9PT0gbnVsbCkgfHwgKHgxID09PSB1bmRlZmluZWQgJiYgeDIgPT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBhY2NvdW50IGZvciBub24tbWF0Y2hpbmcgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlc1xyXG4gICAgaWYgKCgoeDEgPT09IG51bGwgfHwgeDEgPT09IHVuZGVmaW5lZCkgJiYgeDIgIT09IG51bGwgJiYgeDIgIT09IHVuZGVmaW5lZClcclxuICAgICAgICB8fCAoKHgyID09PSBudWxsIHx8IHgyID09PSB1bmRlZmluZWQpICYmIHgxICE9PSBudWxsICYmIHgxICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbXBhcmUgdHdvIGFycmF5c1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoeDEpICYmIEFycmF5LmlzQXJyYXkoeDIpICYmIHgxLmxlbmd0aCA9PT0geDIubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB4MS5maW5kSW5kZXgoKHgsIGluZGV4KSA9PiAhZXF1YWxzKHgsIHgyW2luZGV4XSkpID09PSAtMSA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb21wYXJlIHR3byBvYmplY3RzXHJcbiAgICBpZiAoeDEgJiYgdHlwZW9mICh4MSkgPT09ICdvYmplY3QnICYmIHR5cGVvZiAoeDIpID09PSAnb2JqZWN0J1xyXG4gICAgICAgICYmIE9iamVjdC5rZXlzKHgxKS5sZW5ndGggPT09IE9iamVjdC5rZXlzKHgyKS5sZW5ndGhcclxuICAgICAgICAmJiBPYmplY3Qua2V5cyh4MikubGVuZ3RoID09PSBhcnJheVVuaW9uKE9iamVjdC5rZXlzKHgxKSwgT2JqZWN0LmtleXMoeDIpKS5sZW5ndGgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHgxKS5maW5kSW5kZXgoa2V5ID0+ICFlcXVhbHMoeDFba2V5XSwgeDJba2V5XSkpID09PSAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb21wYXJlIHR3byBwcmltaXRpdmVzIHdpdGggdGhlIHNhbWUgdHlwZVxyXG4gICAgcmV0dXJuIHgxID09PSB4MjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dGVuZHMgYW4gb2JqZWN0IHdpdGggdGhlICplbnVtZXJhYmxlKiBhbmQgKm93biogcHJvcGVydGllcyBvZiBvbmUgb3IgbW9yZSBzb3VyY2Ugb2JqZWN0cyxcclxuICogc2ltaWxhciB0byBPYmplY3QuYXNzaWduLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGVzdCBUaGUgb2JqZWN0IHdoaWNoIHdpbGwgaGF2ZSBwcm9wZXJ0aWVzIGNvcGllZCB0byBpdC5cclxuICogQHBhcmFtIHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzIGZyb20gd2hpY2ggcHJvcGVydGllcyB3aWxsIGJlIGNvcGllZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRlbmRPYmplY3QoZGVzdDogYW55LCAuLi5zb3VyY2VzOiBhbnlbXSk6IGFueSB7XHJcbiAgICBpZiAoZGVzdCA9PSBudWxsKSB7XHJcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtrZXldID0gc291cmNlW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmYWxzeSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IDAgfHwgdmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gICAqIFJlbW92ZSBwcm9ibGVtYXRpYyBvciB1bmRlc2lyZWQgc3RvcmUgcHJvcGVydGllcy5cclxuICAgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclN0YXRlKG9iajogYW55KTogYW55IHtcclxuICAgIHJldHVybiByZW1vdmVDeWNsZXMocmVtb3ZlUHJvcHMob2JqKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWV0YWRhdGEoY3RvcjogVHlwZUNvbnN0cnVjdG9yPEhhc01ldGFkYXRhIHwgYW55Pikge1xyXG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgY3RvcigpO1xyXG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLm1ldGFkYXRhID8gaW5zdGFuY2UubWV0YWRhdGEgOiBuZXcgTWV0YWRhdGEoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTY2hvb2xZZWFyKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcclxuICAgIHJldHVybiBtb250aCA+PSA3ID8gYCR7eWVhcn0tJHt5ZWFyICsgMX1gIDogYCR7eWVhciAtIDF9LSR7eWVhcn1gO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5LZXlzKG9iajogT2JqZWN0LCBwYXJlbnRzOiBzdHJpbmdbXSk6IGFueVtdIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgICBjb25zdCBwYXRoVG9Sb290ID0gWy4uLnBhcmVudHMsIGtleV07XHJcbiAgICAgICAgY29uc3QgdmFsID0gb2JqW2tleV07XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAuLi5mbGF0dGVuS2V5cyh2YWwsIHBhdGhUb1Jvb3QpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFsuLi5hY2MsIC4uLnBhdGhUb1Jvb3RdO1xyXG4gICAgfSwgW10pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UGhvbmVOdW1iZXIobnVtYmVyID0gJycpOiBzdHJpbmcge1xyXG4gICAgaWYgKCFudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gJzAwMC0wMDAtMDAwMCc7XHJcbiAgICB9XHJcbiAgICBjb25zdCBsID0gbnVtYmVyLmxlbmd0aDtcclxuICAgIHJldHVybiBudW1iZXIgJiYgKGwgPT09IDcgfHwgbCA9PT0gMTApID9cclxuICAgICAgICBsID09PSA3ID8gZm9ybWF0N0RpZ2l0UGhvbmVOdW1iZXIobnVtYmVyKVxyXG4gICAgICAgICAgICA6IGZvcm1hdDEwRGlnaXRQaG9uZU51bWJlcihudW1iZXIpXHJcbiAgICAgICAgOiAnMDAwLTAwMC0wMDAwJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdDdEaWdpdFBob25lTnVtYmVyKG51bWJlciA9ICcwMDAwMDAwJyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBmaXJzdDMgPSBudW1iZXIuc3Vic3RyaW5nKDAsIDMpO1xyXG4gICAgY29uc3QgbGFzdDQgPSBudW1iZXIuc3Vic3RyaW5nKDMsIDcpO1xyXG4gICAgcmV0dXJuIGAke2ZpcnN0M30gLSR7bGFzdDR9IGA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQxMERpZ2l0UGhvbmVOdW1iZXIobnVtYmVyID0gJzAwMDAwMDAwMDAnKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZpcnN0MyA9IG51bWJlci5zdWJzdHJpbmcoMCwgMyk7XHJcbiAgICBjb25zdCBsYXN0NyA9IGZvcm1hdDdEaWdpdFBob25lTnVtYmVyKG51bWJlci5zdWJzdHJpbmcoMywgMTApKTtcclxuICAgIHJldHVybiBgJHtmaXJzdDN9IC0ke2xhc3Q3fSBgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UHJpY2UodG90YWw6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBjb25zdCBkb2xsYXJzID0gdG90YWwudG9GaXhlZCgyKS5yZXBsYWNlKC8uL2csIGZ1bmN0aW9uIChjLCBpLCBhKSB7XHJcbiAgICAgICAgcmV0dXJuIGkgJiYgYyAhPT0gJy4nICYmICgoYS5sZW5ndGggLSBpKSAlIDMgPT09IDApID8gJywnICsgYyA6IGM7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBgJCR7ZG9sbGFyc31gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodHlwZTogYW55KTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0eXBlWyduYW1lJ10gfHwgdHlwZW9mIHR5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxQcm9wcyhvYmo6IGFueSk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IG1hcHBlZCA9IG9ialsnbWV0YWRhdGEnXSAmJiBvYmpbJ21ldGFkYXRhJ11bJ2luY2x1ZGUnXSAmJiBBcnJheS5pc0FycmF5KG9ialsnbWV0YWRhdGEnXVsnaW5jbHVkZSddKSA/XHJcbiAgICAgICAgb2JqWydtZXRhZGF0YSddWydpbmNsdWRlJ10ucmVkdWNlKChhY2MsIGtleSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYWNjLCB7IFtrZXldOiBvYmpba2V5XSB9KSwge30pIDogb2JqO1xyXG5cclxuICAgIGlmIChvYmpbJ21ldGFkYXRhJ10gJiYgb2JqWydtZXRhZGF0YSddWydleGNsdWRlJ10gJiYgQXJyYXkuaXNBcnJheShvYmpbJ21ldGFkYXRhJ11bJ2V4Y2x1ZGUnXSkpIHtcclxuICAgICAgICBvYmpbJ21ldGFkYXRhJ11bJ2V4Y2x1ZGUnXS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBtYXBwZWRba2V5XTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gWy4uLk9iamVjdC5rZXlzKG1hcHBlZCksIC4uLmdldEdldHRlcnMobWFwcGVkKV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHZXR0ZXJzKG9iajogYW55KTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpLmZpbHRlcihuYW1lID0+IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgbmFtZSlbJ2dldCddID09PSAnZnVuY3Rpb24nO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRLZXlWYWx1ZXMobW9kZWw6IGFueSk6IGFueSB7XHJcbiAgICBjb25zdCBrZXlzID0gZ2V0QWxsUHJvcHMobW9kZWwpO1xyXG4gICAgcmV0dXJuIG1vZGVsWydtZXRhZGF0YSddICYmIG1vZGVsWydtZXRhZGF0YSddWydpbmNsdWRlJ10gP1xyXG4gICAgICAgIHRvQXJyYXkobW9kZWxbJ21ldGFkYXRhJ11bJ2luY2x1ZGUnXSkucmVkdWNlKChhY2MsIGtleSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYWNjLCB7IFtrZXldOiBtb2RlbFtrZXldIH0pLCB7fSlcclxuICAgICAgICA6IGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYWNjLCB7IFtrZXldOiBtb2RlbFtrZXldIH0pLCB7fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0ZXJzKG9iajogYW55KTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iai5wcm90b3R5cGUpLmZpbHRlcihuYW1lID0+IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLnByb3RvdHlwZSwgbmFtZSlbJ3NldCddID09PSAnZnVuY3Rpb24nO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIEdpc3QgYWRhcHRlZCBmcm9tOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9jbXMvMzY5MTMzXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZShlbDogRWxlbWVudCwgc3R5bGVQcm9wOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgbGV0IHZhbHVlO1xyXG4gICAgY29uc3QgZGVmYXVsdFZpZXcgPSBlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xyXG4gICAgLy8gVzNDIHN0YW5kYXJkIHdheTpcclxuICAgIGlmIChkZWZhdWx0VmlldyAmJiBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XHJcbiAgICAgICAgLy8gc2FuaXRpemUgcHJvcGVydHkgbmFtZSB0byBjc3Mgbm90YXRpb24gKGh5cGVuIHNlcGFyYXRlZCB3b3JkcyBlZy4gZm9udC1TaXplKVxyXG4gICAgICAgIHN0eWxlUHJvcCA9IHN0eWxlUHJvcC5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHN0eWxlUHJvcCk7XHJcbiAgICB9IGVsc2UgaWYgKGVsWydjdXJyZW50U3R5bGUnXSkgeyAvLyBJRVxyXG4gICAgICAgIC8vIHNhbml0aXplIHByb3BlcnR5IG5hbWUgdG8gY2FtZWxDYXNlXHJcbiAgICAgICAgc3R5bGVQcm9wID0gc3R5bGVQcm9wLnJlcGxhY2UoL1xcLShcXHcpL2csIGZ1bmN0aW9uIChzdHIsIGxldHRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFsdWUgPSBlbFsnY3VycmVudFN0eWxlJ11bc3R5bGVQcm9wXTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUobW9kZWw6IGFueSk6IGFueSB7XHJcbiAgICBpZiAobW9kZWwgPT09IG51bGwgfHwgdHlwZW9mIChtb2RlbCkgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiAobW9kZWwpID09PSAnc3RyaW5nJyB8fCBtb2RlbCBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICByZXR1cm4gbW9kZWw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBrZXlzID0gZ2V0QWxsUHJvcHMobW9kZWwpO1xyXG4gICAgY29uc3QgcHJvcHMgPSBrZXlzLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnbWV0YWRhdGEnICYmICFpZ25vcmVLZXkobW9kZWwsIGtleSkpXHJcbiAgICAgICAgLm1hcChrZXkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvYmogPSB7fTtcclxuICAgICAgICAgICAgb2JqW2tleV0gPSBtb2RlbFtrZXldICYmIHR5cGVvZiBtb2RlbFtrZXldID09PSAnb2JqZWN0JyA/XHJcbiAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShtb2RlbFtrZXldKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgKG1vZGVsW2tleV0ubGVuZ3RoID4gMCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsW2tleV0ubWFwKHggPT4gKHR5cGVvZiB4ID09PSAnb2JqZWN0JyA/IGdldFZhbHVlKHgpIDogeCkpIDogW10pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRWYWx1ZShtb2RlbFtrZXldKSkgOiBtb2RlbFtrZXldO1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH0pO1xyXG4gICAgcmV0dXJuIHByb3BzLnJlZHVjZSgoYWNjLCB2YWwpID0+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWNjLCB2YWwpO1xyXG4gICAgfSwge30pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3VpZCgpIHtcclxuICAgIGZ1bmN0aW9uIHM0KCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgICAgIC5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArXHJcbiAgICAgICAgczQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0NoYW5nZWQoY2hhbmdlczogU2ltcGxlQ2hhbmdlcywga2V5OiBzdHJpbmcsIHByb3BzOiBzdHJpbmdbXSkge1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gY2hhbmdlc1trZXldICYmIGNoYW5nZXNba2V5XS5jdXJyZW50VmFsdWUgPyBjaGFuZ2VzW2tleV0uY3VycmVudFZhbHVlIDoge307XHJcbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gY2hhbmdlc1trZXldICYmIGNoYW5nZXNba2V5XS5wcmV2aW91c1ZhbHVlID8gY2hhbmdlc1trZXldLnByZXZpb3VzVmFsdWUgOiB7fTtcclxuICAgIHJldHVybiBwcm9wcy5yZWR1Y2UoKGFjYywgcHJvcCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBhY2MgPyB0cnVlIDogY3VycmVudFZhbHVlW3Byb3BdICE9PSBwcmV2aW91c1ZhbHVlW3Byb3BdO1xyXG4gICAgfSwgZmFsc2UpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRDaGFuZ2VkKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMsIGtleTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBuZXdJZCA9IGNoYW5nZXNba2V5XS5jdXJyZW50VmFsdWUgPyBjaGFuZ2VzW2tleV0uY3VycmVudFZhbHVlWydpZCddIHx8IDAgOiAwO1xyXG4gICAgY29uc3Qgb2xkSWQgPSBjaGFuZ2VzW2tleV0ucHJldmlvdXNWYWx1ZSA/IGNoYW5nZXNba2V5XS5wcmV2aW91c1ZhbHVlWydpZCddIHx8IDAgOiAwO1xyXG4gICAgcmV0dXJuIG5ld0lkICE9PSBvbGRJZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlnbm9yZUtleShtb2RlbDogYW55LCBrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKG1vZGVsWydtZXRhZGF0YSddICYmIG1vZGVsWydtZXRhZGF0YSddWydpZ25vcmUnXSkge1xyXG4gICAgICAgIHJldHVybiBpbkFycmF5KG1vZGVsWydtZXRhZGF0YSddWydpZ25vcmUnXSwga2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluQXJyYXkoYXJyOiBhbnlbXSwgdmFsOiBhbnkpIHtcclxuICAgIHJldHVybiBhcnIuZmlsdGVyKGl0ZW0gPT4gaXRlbSA9PT0gdmFsKS5sZW5ndGggPiAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5BcnJheUJ5S2V5KGFycjogYW55W10sIHZhbDogYW55LCBrZXk6IHN0cmluZyB8IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGFyci5maW5kSW5kZXgoaXRlbSA9PiBpdGVtW2tleV0gPT09IHZhbCkgIT09IC0xO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW50ZWdlckFycmF5KG46IG51bWJlcik6IG51bWJlcltdIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKEFycmF5KG4pLmtleXMoKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0JldHdlZW5EYXRlcyhkYXRlRnJvbSwgZGF0ZVRvLCBkYXRlQ2hlY2spIHtcclxuICAgIGNvbnN0IGQxID0gZGF0ZUZyb20udG9Mb2NhbGVEYXRlU3RyaW5nKCkuc3BsaXQoJy8nKTtcclxuICAgIGNvbnN0IGQyID0gZGF0ZVRvLnRvTG9jYWxlRGF0ZVN0cmluZygpLnNwbGl0KCcvJyk7XHJcbiAgICBjb25zdCBjID0gZGF0ZUNoZWNrLnRvTG9jYWxlRGF0ZVN0cmluZygpLnNwbGl0KCcvJyk7XHJcblxyXG4gICAgY29uc3QgZnJvbSA9IG5ldyBEYXRlKGQxWzJdLCB0b0ludChkMVsxXSkgLSAxLCBkMVswXSk7ICAvLyAtMSBiZWNhdXNlIG1vbnRocyBhcmUgZnJvbSAwIHRvIDExXHJcbiAgICBjb25zdCB0byA9IG5ldyBEYXRlKGQyWzJdLCB0b0ludChkMlsxXSkgLSAxLCBkMlswXSk7XHJcbiAgICBjb25zdCBjaGVjayA9IG5ldyBEYXRlKGNbMl0sIHRvSW50KGNbMV0pIC0gMSwgY1swXSk7XHJcblxyXG4gICAgcmV0dXJuIChjaGVjayA+PSBmcm9tICYmIGNoZWNrIDw9IHRvKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERldGVjdHMgY3ljbGVzIGluIGFuIG9iamVjdC5cclxuICogQHBhcmFtIG9ialxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3ljbGljKG9iajogYW55KSB7XHJcbiAgICBjb25zdCBzZWVuT2JqZWN0czogYW55W10gPSBbXTtcclxuXHJcbiAgICBjb25zdCBkZXRlY3QgPSAoeDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHggJiYgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWVuT2JqZWN0cy5pbmRleE9mKHgpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2Vlbk9iamVjdHMucHVzaCh4KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4geCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHguaGFzT3duUHJvcGVydHkoa2V5KSAmJiBkZXRlY3QoeFtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGRldGVjdChvYmopO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIGZyb21TdGF0ZSBUaGUgbGFzdCBzdGF0ZSBvYmplY3QgZnJvbSB0aGUgc3RvcmVcclxuICogQHBhcmFtIGRTdGF0ZSBBIHBhcnRpYWwgY2xhc3MgY29udGFpbmluZyBhbGwgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCB3cnQgZnJvbVN0YXRlXHJcbiAqIEByZXR1cm4gVGhlIGN1cnJlbnQvdXBkYXRlZCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24gKHRvU3RhdGUpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbmV4dFN0YXRlKGZyb21TdGF0ZTogYW55LCBkU3RhdGU6IGFueSk6IGFueSB7XHJcbiAgICBjb25zdCB0b1N0YXRlOiBhbnkgPSBPYmplY3QuYXNzaWduKHt9LCBmcm9tU3RhdGUsIGRTdGF0ZSk7XHJcbiAgICByZXR1cm4gdG9TdGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvc2l0aXZlSW50ZWdlckFycmF5KG46IG51bWJlcik6IG51bWJlcltdIHtcclxuICAgIHJldHVybiBpbnRlZ2VyQXJyYXkobikubWFwKHggPT4geCArIDEpO1xyXG59XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHN0b3JlIHByb3BzIHRoYXQgY29udGFpbiBjeWNsZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ3ljbGVzKG9iajogYW55KTogYW55IHtcclxuICAgIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGlzQ3ljbGljKG9ialtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhbnkgcHJvcHMgdGhhdCBzaG91bGQgbm90IGFwcGVhciBpbiB0aGUgc3RvcmUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJvcHMob2JqOiBhbnkpOiBhbnkge1xyXG4gICAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShtb2RlbDogYW55KSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbCkpIHtcclxuICAgICAgICByZXR1cm4gbW9kZWwubWFwKHggPT4gc2VyaWFsaXplKHgpKTtcclxuICAgIH1cclxuICAgIGlmIChtb2RlbC5zZXJpYWxpemUgJiYgdHlwZW9mIG1vZGVsLnNlcmlhbGl6ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBzZXJpYWxpemUobW9kZWwuc2VyaWFsaXplKCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiAobW9kZWwpID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgKG1vZGVsKSA9PT0gJ3N0cmluZycgfHwgbW9kZWwgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgfVxyXG4gICAgY29uc3Qga2V5cyA9IGdldEFsbFByb3BzKG1vZGVsKTtcclxuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBtb2RlbDtcclxuICAgIH1cclxuICAgIHJldHVybiBrZXlzLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgICBsZXQgdmFsID0gbnVsbDtcclxuICAgICAgICBpZiAobW9kZWxba2V5XSAhPT0gbnVsbCAmJiB0eXBlb2YgKG1vZGVsW2tleV0pID09PSAnb2JqZWN0JyAmJiAhKG1vZGVsW2tleV0gaW5zdGFuY2VvZiBEYXRlKSkge1xyXG4gICAgICAgICAgICBpZiAobW9kZWxba2V5XS5zZXJpYWxpemUgJiYgdHlwZW9mIG1vZGVsW2tleV0uc2VyaWFsaXplID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBtb2RlbFtrZXldLnNlcmlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gc2VyaWFsaXplKG1vZGVsW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFsID0gbW9kZWxba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjYywge1xyXG4gICAgICAgICAgICBba2V5XTogdmFsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCB7fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkodG9rZW46IGFueSk6IHN0cmluZyB7XHJcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodG9rZW4gPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiAnJyArIHRva2VuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b2tlbi5vdmVycmlkZGVuTmFtZSkge1xyXG4gICAgICAgIHJldHVybiBgJHt0b2tlbi5vdmVycmlkZGVuTmFtZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b2tlbi5uYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3Rva2VuLm5hbWV9YDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXMgPSB0b2tlbi50b1N0cmluZygpO1xyXG4gICAgY29uc3QgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoJ1xcbicpO1xyXG4gICAgcmV0dXJuIG5ld0xpbmVJbmRleCA9PT0gLTEgPyByZXMgOiByZXMuc3Vic3RyaW5nKDAsIG5ld0xpbmVJbmRleCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIyQ2hhckNvZGUoc3RyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KDApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyMklkKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGNoYXJDb2RlcyA9IHN0ciA/IHN0ci5zcGxpdCgnJykucmVkdWNlKChhY2MsIHgpID0+IGAke2FjY30ke3N0cjJDaGFyQ29kZSh4KX1gLCAnJykgOiAnJztcclxuICAgIHJldHVybiB0b0ludChjaGFyQ29kZXMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyMmludChzdHI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJBcnJheTJJZChzdHJBcnJheTogc3RyaW5nW10pIHtcclxuICAgIGNvbnN0IHN0ciA9IHN0ckFycmF5LnJlZHVjZSgoYWNjLCB4KSA9PiBgJHthY2N9JHt4fWAsICcnKTtcclxuICAgIHJldHVybiBzdHIySWQoc3RyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKGVycm9yTmFtZTogc3RyaW5nLCBlcnJvck1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgdGhyb3cge1xyXG4gICAgICAgIG5hbWU6IGVycm9yTmFtZSxcclxuICAgICAgICBsZXZlbDogJ1Nob3cgU3RvcHBlcicsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxyXG4gICAgICAgIGh0bWxNZXNzYWdlOiAnRXJyb3IgZGV0ZWN0ZWQuIFBsZWFzZSBjb250YWN0IHRoZSA8YSBocmVmPVxcJ21haWx0bzphZ2VuZGFtYW5hZ2VyQGNhaXUuY29tXFwnPnN5c3RlbSBhZG1pbmlzdHJhdG9yPC9hPi4nLFxyXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvck5hbWUgKyAnOiAnICsgZXJyb3JNZXNzYWdlOyB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbigpIHtcclxuICAgIHRocm93RXhjZXB0aW9uKCdOb3QgSW1wbGVtZW50ZWQnLCAnTm90IEltcGxlbWVudGVkJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KHZhbDogYW55KTogYW55W10ge1xyXG4gICAgcmV0dXJuIHZhbCA/IChBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbdmFsXSkgOiBbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvSW50KHZhbDogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB2YWwgJiYgdmFsLnRvU3RyaW5nID8gc3RyMmludCh2YWwudG9TdHJpbmcoKSkgOiAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9QYXlsb2FkKGFjdGlvbjogQWN0aW9uKTogYW55IHtcclxuICAgIHJldHVybiBhY3Rpb24gPyBhY3Rpb24ucGF5bG9hZCA6IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b1B4KG46IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7bn1weGA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cnV0aHkodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICFmYWxzeSh2YWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cnlDYXN0KG9iajogYW55LCB0eXBlOiBhbnkpOiBhbnkge1xyXG4gICAgY29uc3QgcmV0T2JqID0gbmV3IHR5cGUoKTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHJldE9ialtrZXldKSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0T2JqW2tleV0gPSBvYmpba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0T2JqO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsdWVDaGFuZ2VkKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMsIGtleSA9ICcnKSB7XHJcbiAgICByZXR1cm4ga2V5ID8gY2hhbmdlc1trZXldLmN1cnJlbnRWYWx1ZSAhPT0gY2hhbmdlc1trZXldLnByZXZpb3VzVmFsdWVcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGNoYW5nZXMpLnJlZHVjZSgoYWNjLCBjdXJyZW50S2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2MgPyB0cnVlIDogY2hhbmdlc1tjdXJyZW50S2V5XS5jdXJyZW50VmFsdWUgIT09IGNoYW5nZXNbY3VycmVudEtleV0ucHJldmlvdXNWYWx1ZTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZUVxdWFscyh2YWx1ZSwgZm9ybVZhbHVlKSB7XHJcbiAgICByZXR1cm4gZXF1YWxzKGdldFZhbHVlKHZhbHVlKSwgZm9ybVZhbHVlKTtcclxufVxyXG4iLCJpbXBvcnQgeyBUaWxlIH0gZnJvbSAnLi4vdGlsZS90aWxlLm1vZGVsJztcclxuaW1wb3J0IHsgSW1hZ2UsIERpbWVuc2lvbnMsIENvb3JkaW5hdGVzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL21vZGVscyc7XHJcbmltcG9ydCB7IGludGVnZXJBcnJheSwgcG9zaXRpdmVJbnRlZ2VyQXJyYXkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbGxhZ2Uge1xyXG4gICAgY2FudmFzSGVpZ2h0ID0gMDtcclxuICAgIGNhbnZhc1dpZHRoID0gMDtcclxuICAgIG1heENvbHVtbnMgPSA0O1xyXG4gICAgbWF4Um93cyA9IDQ7XHJcbiAgICB0b3RhbENvbHVtbnMgPSAwO1xyXG4gICAgdG90YWxSb3dzID0gMDtcclxuICAgIF9pbWFnZXM6IEltYWdlW10gPSBbXTtcclxuICAgIF90aWxlczogVGlsZVtdID0gW107XHJcblxyXG4gICAgc3RhdGljIEF2YWlsYWJsZUNvbHVtbnMoc3RhcnRSb3c6IG51bWJlciwgc3RhcnRDb2x1bW46IG51bWJlciwgbWF4Q29sdW1uczogbnVtYmVyLCBjZWxsczogYm9vbGVhbltdW10pOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsQ29sdW1ucyA9IGNlbGxzWzBdLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoLi4ucG9zaXRpdmVJbnRlZ2VyQXJyYXkobWF4Q29sdW1ucylcclxuICAgICAgICAgICAgLm1hcChrID0+IGsgPD0gbWF4Q29sdW1ucyAmJiBzdGFydENvbHVtbiArIGsgPD0gdG90YWxDb2x1bW5zICYmIGNlbGxzW3N0YXJ0Um93XSAmJiBjZWxsc1tzdGFydFJvd11bc3RhcnRDb2x1bW4gKyBrXSA/IGsgOiAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEF2YWlsYWJsZVJvd3Moc3RhcnRSb3c6IG51bWJlciwgc3RhcnRDb2x1bW46IG51bWJlciwgbWF4Um93czogbnVtYmVyLCBjZWxsczogYm9vbGVhbltdW10pOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsUm93cyA9IGNlbGxzWzBdLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoLi4ucG9zaXRpdmVJbnRlZ2VyQXJyYXkobWF4Um93cylcclxuICAgICAgICAgICAgLm1hcChrID0+IGsgPD0gbWF4Um93cyAmJiBzdGFydFJvdyArIGsgPD0gdG90YWxSb3dzICYmIGNlbGxzW3N0YXJ0Um93ICsga10gJiYgY2VsbHNbc3RhcnRSb3cgKyBrXVtzdGFydENvbHVtbl0gPyBrIDogMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBBdmFpbGFibGVEaW1lbnNpb25zKFxyXG4gICAgICAgIGRpbWVuc2lvbnM6IERpbWVuc2lvbnNbXSxcclxuICAgICAgICBzdGFydFJvdzogbnVtYmVyLFxyXG4gICAgICAgIHN0YXJ0Q29sdW1uOiBudW1iZXIsXHJcbiAgICAgICAgbWF4Um93czogbnVtYmVyLFxyXG4gICAgICAgIG1heENvbHVtbnM6IG51bWJlcixcclxuICAgICAgICBjZWxsczogYm9vbGVhbltdW10pOiBEaW1lbnNpb25zW10ge1xyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVJvd3MgPSBDb2xsYWdlLkF2YWlsYWJsZVJvd3Moc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBtYXhSb3dzLCBjZWxscyk7XHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlQ29sdW1ucyA9IENvbGxhZ2UuQXZhaWxhYmxlQ29sdW1ucyhzdGFydFJvdywgc3RhcnRDb2x1bW4sIG1heENvbHVtbnMsIGNlbGxzKTtcclxuICAgICAgICByZXR1cm4gZGltZW5zaW9ucy5maWx0ZXIoeCA9PiB4LnJvd3MgPD0gYXZhaWxhYmxlUm93cyAmJiB4LmNvbHVtbnMgPD0gYXZhaWxhYmxlQ29sdW1ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkKGltYWdlczogSW1hZ2VbXSwgY2FudmFzSGVpZ2h0LCBjYW52YXNXaWR0aCwgdG90YWxSb3dzID0gMCwgdG90YWxDb2x1bW5zID0gMCwgbWF4Um93cyA9IDAsIG1heENvbHVtbnMgPSAwKTogQ29sbGFnZSB7XHJcbiAgICAgICAgY29uc3QgY29sbGFnZSA9IE9iamVjdC5hc3NpZ24obmV3IENvbGxhZ2UoKSwge1xyXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQsXHJcbiAgICAgICAgICAgIGNhbnZhc1dpZHRoLFxyXG4gICAgICAgICAgICB0b3RhbFJvd3MsXHJcbiAgICAgICAgICAgIHRvdGFsQ29sdW1ucyxcclxuICAgICAgICAgICAgbWF4Um93cyxcclxuICAgICAgICAgICAgbWF4Q29sdW1uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbGxhZ2UuaW1hZ2VzID0gaW1hZ2VzO1xyXG4gICAgICAgIHJldHVybiBjb2xsYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZEVtcHR5Q2VsbHMocm93czogbnVtYmVyLCBjb2xzOiBudW1iZXIpOiBib29sZWFuW11bXSB7XHJcbiAgICAgICAgcmV0dXJuIGludGVnZXJBcnJheShyb3dzKS5tYXAoeCA9PiBpbnRlZ2VyQXJyYXkoY29scykubWFwKHkgPT4gdHJ1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZFRpbGVzKGNvbGxhZ2U6IENvbGxhZ2UpOiBUaWxlW10ge1xyXG4gICAgICAgIHJldHVybiBjb2xsYWdlLmltYWdlcy5tYXAoKGltYWdlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gQ29sbGFnZS5GaW5kRGltZW5zaW9ucyhpbWFnZS5oZWlnaHQsIGltYWdlLndpZHRoLCBjb2xsYWdlLnRpbGVEaW1lbnNpb25zLCBjb2xsYWdlLmNlbGxIZWlnaHQsIGNvbGxhZ2UuY2VsbFdpZHRoKTtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFRpbGUoKSwge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UsXHJcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zLFxyXG4gICAgICAgICAgICAgICAgaWQ6IGluZGV4ICsgMSxcclxuICAgICAgICAgICAgICAgIGNlbGxIZWlnaHQ6IGNvbGxhZ2UuY2VsbEhlaWdodCxcclxuICAgICAgICAgICAgICAgIGNlbGxXaWR0aDogY29sbGFnZS5jZWxsV2lkdGhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIENob29zZVRpbGVJZChpZDogbnVtYmVyLCB0aWxlSWRzOiBudW1iZXJbXSk6IG51bWJlcltdIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRpbGVJZHMuZmlsdGVyKHggPT4geCAhPT0gaWQpLCBpZF07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbmRDb29yZGluYXRlcyhpbmRleDogbnVtYmVyLCB0b3RhbFJvd3M6IG51bWJlciwgdG90YWxDb2x1bW5zOiBudW1iZXIpOiBDb29yZGluYXRlcyB7XHJcbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gKGluZGV4ICsgdG90YWxDb2x1bW5zKSAlIHRvdGFsQ29sdW1ucztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb3c6IChpbmRleCAtIHJlbWFpbmRlcikgLyB0b3RhbENvbHVtbnMsXHJcbiAgICAgICAgICAgIGNvbHVtbjogcmVtYWluZGVyXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRmluZENvb3JkaW5hdGVzTmVzdGVkKFxyXG4gICAgICAgIGluZGV4OiBudW1iZXIsIHRvdGFsUm93czogbnVtYmVyLCB0b3RhbENvbHVtbnM6IG51bWJlciwgc3RhcnRSb3c6IG51bWJlciwgc3RhcnRDb2x1bW46IG51bWJlcik6IENvb3JkaW5hdGVzIHtcclxuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IENvbGxhZ2UuRmluZENvb3JkaW5hdGVzKGluZGV4LCB0b3RhbFJvd3MsIHRvdGFsQ29sdW1ucyk7XHJcbiAgICAgICAgY29vcmRpbmF0ZXMuY29sdW1uICs9IHN0YXJ0Q29sdW1uO1xyXG4gICAgICAgIGNvb3JkaW5hdGVzLnJvdyArPSBzdGFydFJvdztcclxuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbmREaW1lbnNpb25zKGhlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBkaW1lbnNpb25zOiBEaW1lbnNpb25zW10sIGNlbGxIZWlnaHQ6IG51bWJlciwgY2VsbFdpZHRoOiBudW1iZXIpOiBEaW1lbnNpb25zIHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IGRpbWVuc2lvbnMuZmlsdGVyKHggPT4geC5yb3dzICogY2VsbEhlaWdodCA8PSBoZWlnaHQgJiYgeC5jb2x1bW5zICogY2VsbFdpZHRoIDw9IHdpZHRoKTtcclxuICAgICAgICBjb25zdCBvcmRlcmVkID0gZmlsdGVyZWQuc29ydCgoYSwgYikgPT4gTWF0aC5hYnMoaGVpZ2h0IC8gd2lkdGggLSBhLnJhdGlvKSAtIE1hdGguYWJzKGhlaWdodCAvIHdpZHRoIC0gYi5yYXRpbykpO1xyXG4gICAgICAgIGNvbnN0IGNsb3Nlc3RNYXRjaCA9IG9yZGVyZWRbMF07XHJcbiAgICAgICAgY29uc3Qgcm93cyA9IGNsb3Nlc3RNYXRjaCAmJiBjbG9zZXN0TWF0Y2gucm93cyA/IGNsb3Nlc3RNYXRjaC5yb3dzIDogW107XHJcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IGNsb3Nlc3RNYXRjaCAmJiBjbG9zZXN0TWF0Y2guY29sdW1ucyA/IGNsb3Nlc3RNYXRjaC5jb2x1bW5zIDogW107XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IERpbWVuc2lvbnMoKSwge1xyXG4gICAgICAgICAgICByb3dzLFxyXG4gICAgICAgICAgICBjb2x1bW5zLFxyXG4gICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgIHdpZHRoXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbmROZXh0VGlsZUlkKHRpbGVzOiBUaWxlW10sIHRpbGVJZHM6IG51bWJlcltdLCBkaW1lbnNpb25zOiBEaW1lbnNpb25zKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBuZXh0TWF0Y2ggPSBDb2xsYWdlLkZpbmROZXh0TWF0Y2hJZCh0aWxlcywgdGlsZUlkcywgZGltZW5zaW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIG5leHRNYXRjaCB8fCBDb2xsYWdlLkZpbmRCZXN0TWF0Y2hJZCh0aWxlcywgdGlsZUlkcywgZGltZW5zaW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbmRCZXN0TWF0Y2hJZCh0aWxlczogVGlsZVtdLCB0aWxlSWRzOiBudW1iZXJbXSwgZGltZW5zaW9uczogRGltZW5zaW9ucyk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGRpZmYgPSA5OTk7XHJcbiAgICAgICAgcmV0dXJuIHRpbGVJZHMucmVkdWNlKChhY2MsIGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aWxlcy5maW5kKHggPT4geC5pZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICBkaWZmID0gTWF0aC5hYnModGlsZS5yYXRpbyAtIGRpbWVuc2lvbnMucmF0aW8pO1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjID09PSAwIHx8IGRpZmYgPCBhY2MgPyBpZCA6IGFjYztcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRmluZE5leHRNYXRjaElkKHRpbGVzOiBUaWxlW10sIHRpbGVJZHM6IG51bWJlcltdLCBkaW1lbnNpb25zOiBEaW1lbnNpb25zKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGlsZUlkcy5yZWR1Y2UoKGFjYywgaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFjYyAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGlsZXMuZmluZCh4ID0+IHguaWQgPT09IGlkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRpbGUgJiYgdGlsZS5yb3dzID09PSBkaW1lbnNpb25zLnJvd3MgJiYgdGlsZS5jb2x1bW5zID09PSBkaW1lbnNpb25zLmNvbHVtbnMgPyB0aWxlLmlkIDogMDtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRmluZEJlc3RNYXRjaCh0aWxlczogVGlsZVtdLCB0aWxlSWRzOiBudW1iZXJbXSwgZGltZW5zaW9uczogRGltZW5zaW9ucyk6IFRpbGUge1xyXG4gICAgICAgIGNvbnN0IGlkID0gQ29sbGFnZS5GaW5kQmVzdE1hdGNoSWQodGlsZXMsIHRpbGVJZHMsIGRpbWVuc2lvbnMpO1xyXG4gICAgICAgIHJldHVybiB0aWxlcy5maW5kKHggPT4geC5pZCA9PT0gaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGaW5kTmV4dFRpbGUodGlsZXM6IFRpbGVbXSwgdGlsZUlkczogbnVtYmVyW10sIGRpbWVuc2lvbnM6IERpbWVuc2lvbnNbXSk6IFRpbGUge1xyXG4gICAgICAgIHJldHVybiB0aWxlSWRzLnJlZHVjZSgoYWNjLCBpZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWNjID09PSBudWxsIHx8IGFjYy5pZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzLmZpbmQoeCA9PiB4LmlkID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaW0gPSBkaW1lbnNpb25zLmZpbmQoeCA9PiB0aWxlLnJvd3MgPT09IHgucm93cyAmJiB0aWxlLmNvbHVtbnMgPT09IHguY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGltID8gT2JqZWN0LmFzc2lnbihuZXcgVGlsZSgpLCB0aWxlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uczogT2JqZWN0LmFzc2lnbihuZXcgRGltZW5zaW9ucygpLCB0aWxlLmRpbWVuc2lvbnMsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93czogZGltLnJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IGRpbS5jb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pIDogbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIG5ldyBUaWxlKCkpIHx8IENvbGxhZ2UuRmluZEJlc3RNYXRjaCh0aWxlcywgdGlsZUlkcywgZGltZW5zaW9uc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldFRpbGVEaW1lbnNpb25zKGNlbGxIZWlnaHQ6IG51bWJlciwgY2VsbFdpZHRoOiBudW1iZXIsIG1heFJvd3M6IG51bWJlciwgbWF4Q29sdW1uczogbnVtYmVyKTogRGltZW5zaW9uc1tdIHtcclxuICAgICAgICByZXR1cm4gcG9zaXRpdmVJbnRlZ2VyQXJyYXkobWF4Um93cykucmVkdWNlKChhY2MsIHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHBvc2l0aXZlSW50ZWdlckFycmF5KG1heENvbHVtbnMpXHJcbiAgICAgICAgICAgICAgICAubWFwKHkgPT4gT2JqZWN0LmFzc2lnbihuZXcgRGltZW5zaW9ucygpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93czogeCxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiB5LFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogeCAqIGNlbGxIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHkgKiBjZWxsV2lkdGhcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIC4uLmRpbWVuc2lvbnNdO1xyXG4gICAgICAgIH0sIFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgTWFya0NlbGxzQXNGaWxsZWQoY2VsbHM6IGJvb2xlYW5bXVtdLCBzdGFydEluZGV4OiBudW1iZXIsIGRpbWVuc2lvbnM6IERpbWVuc2lvbnMsIHRvdGFsUm93czogbnVtYmVyLCB0b3RhbENvbHVtbnM6IG51bWJlcik6IGJvb2xlYW5bXVtdIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IENvbGxhZ2UuRmluZENvb3JkaW5hdGVzKHN0YXJ0SW5kZXgsIHRvdGFsUm93cywgdG90YWxDb2x1bW5zKTtcclxuICAgICAgICByZXR1cm4gaW50ZWdlckFycmF5KGRpbWVuc2lvbnMucm93cyAqIGRpbWVuc2lvbnMuY29sdW1ucykucmVkdWNlKChhY2MsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBDb2xsYWdlLkZpbmRDb29yZGluYXRlc05lc3RlZChpLCBkaW1lbnNpb25zLnJvd3MsIGRpbWVuc2lvbnMuY29sdW1ucywgc3RhcnQucm93LCBzdGFydC5jb2x1bW4pO1xyXG4gICAgICAgICAgICBjZWxsc1tjb29yZGluYXRlcy5yb3ddW2Nvb3JkaW5hdGVzLmNvbHVtbl0gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIGNlbGxzO1xyXG4gICAgICAgIH0sIGNlbGxzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUG9zaXRpb25UaWxlcyh0aWxlczogVGlsZVtdLCBjb2xsYWdlOiBDb2xsYWdlKTogVGlsZVtdIHtcclxuICAgICAgICBsZXQgY2VsbHMgPSBDb2xsYWdlLkJ1aWxkRW1wdHlDZWxscyhjb2xsYWdlLnRvdGFsUm93cywgY29sbGFnZS50b3RhbENvbHVtbnMpO1xyXG4gICAgICAgIGxldCB0aWxlSWRzID0gdGlsZXMubWFwKHggPT4geC5pZCk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnRlZ2VyQXJyYXkoY29sbGFnZS50b3RhbENlbGxzKS5yZWR1Y2UoKGFjYywgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IENvbGxhZ2UuRmluZENvb3JkaW5hdGVzKGksIGNvbGxhZ2UudG90YWxSb3dzLCBjb2xsYWdlLnRvdGFsQ29sdW1ucyk7XHJcbiAgICAgICAgICAgIGlmICghY2VsbHNbY29vcmRpbmF0ZXMucm93XVtjb29yZGluYXRlcy5jb2x1bW5dKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZURpbWVuc2lvbnMgPSBDb2xsYWdlLkF2YWlsYWJsZURpbWVuc2lvbnMoY29sbGFnZS50aWxlRGltZW5zaW9ucywgY29vcmRpbmF0ZXMucm93LCBjb29yZGluYXRlcy5jb2x1bW4sIGNvbGxhZ2UubWF4Um93cywgY29sbGFnZS5tYXhDb2x1bW5zLCBjZWxscyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBDb2xsYWdlLkZpbmROZXh0VGlsZSh0aWxlcywgdGlsZUlkcywgYXZhaWxhYmxlRGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIHRpbGUuY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcztcclxuICAgICAgICAgICAgY2VsbHMgPSBDb2xsYWdlLk1hcmtDZWxsc0FzRmlsbGVkKGNlbGxzLCBpLCB0aWxlLmRpbWVuc2lvbnMsIGNvbGxhZ2UudG90YWxSb3dzLCBjb2xsYWdlLnRvdGFsQ29sdW1ucyk7XHJcbiAgICAgICAgICAgIHRpbGVJZHMgPSBDb2xsYWdlLkNob29zZVRpbGVJZCh0aWxlLmlkLCB0aWxlSWRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIHRpbGVdO1xyXG4gICAgICAgIH0sIFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2VsbEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc0hlaWdodCAvIHRoaXMudG90YWxSb3dzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjZWxsV2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXNXaWR0aCAvIHRoaXMudG90YWxDb2x1bW5zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbXB0eUNlbGxzKCk6IGJvb2xlYW5bXVtdIHtcclxuICAgICAgICByZXR1cm4gQ29sbGFnZS5CdWlsZEVtcHR5Q2VsbHModGhpcy50b3RhbFJvd3MsIHRoaXMudG90YWxDb2x1bW5zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW1hZ2VzKCk6IEltYWdlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbWFnZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGltYWdlcyh2YWx1ZTogSW1hZ2VbXSkge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlcyA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMudGlsZXMgPSBDb2xsYWdlLkJ1aWxkVGlsZXModGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRpbGVEaW1lbnNpb25zKCk6IERpbWVuc2lvbnNbXSB7XHJcbiAgICAgICAgcmV0dXJuIENvbGxhZ2UuR2V0VGlsZURpbWVuc2lvbnModGhpcy5jZWxsSGVpZ2h0LCB0aGlzLmNlbGxXaWR0aCwgdGhpcy5tYXhSb3dzLCB0aGlzLm1heENvbHVtbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aWxlcygpOiBUaWxlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlcztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdGlsZXModmFsdWU6IFRpbGVbXSkge1xyXG4gICAgICAgIHRoaXMuX3RpbGVzID0gQ29sbGFnZS5Qb3NpdGlvblRpbGVzKHZhbHVlLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG90YWxDZWxscygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsUm93cyAqIHRoaXMudG90YWxDb2x1bW5zO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBDb2xsYWdlIH0gZnJvbSAnLi9jb2xsYWdlLm1vZGVsJztcclxuaW1wb3J0IHsgVGlsZSB9IGZyb20gJy4uL3RpbGUvdGlsZS5tb2RlbCc7XHJcbmltcG9ydCB7IEltYWdlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL21vZGVscyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LWNvbGxhZ2UnLFxyXG4gIHRlbXBsYXRlOiBgPGl1LXRpbGUgKm5nRm9yPVwibGV0IHRpbGUgb2YgdGlsZXNcIiBbdGlsZV09XCJ0aWxlXCI+PC9pdS10aWxlPmAsXHJcbiAgc3R5bGVzOiBbYGBdLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDb2xsYWdlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgaW1hZ2VzOiBJbWFnZVtdID0gW107XHJcbiAgQElucHV0KCkgY2FudmFzSGVpZ2h0ID0gMDtcclxuICBASW5wdXQoKSBjYW52YXNXaWR0aCA9IDA7XHJcbiAgQElucHV0KCkgdG90YWxSb3dzID0gMDtcclxuICBASW5wdXQoKSB0b3RhbENvbHVtbnMgPSAwO1xyXG4gIEBJbnB1dCgpIG1heFJvd3MgPSAwO1xyXG4gIEBJbnB1dCgpIG1heENvbHVtbnMgPSAwO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBnZXQgY29sbGFnZSgpOiBDb2xsYWdlIHtcclxuICAgIHJldHVybiB0aGlzLmNhbnZhc0hlaWdodCA+IDAgJiYgdGhpcy5jYW52YXNXaWR0aCA+IDAgP1xyXG4gICAgICBDb2xsYWdlLkJ1aWxkKHRoaXMuaW1hZ2VzLCB0aGlzLmNhbnZhc0hlaWdodCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy50b3RhbFJvd3MsIHRoaXMudG90YWxDb2x1bW5zLCB0aGlzLm1heFJvd3MsIHRoaXMubWF4Q29sdW1ucylcclxuICAgICAgOiBuZXcgQ29sbGFnZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRpbGVzKCk6IFRpbGVbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xsYWdlLnRpbGVzO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUaWxlIH0gZnJvbSAnLi90aWxlLm1vZGVsJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnaXUtdGlsZScsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2IGZ4TGF5b3V0IGZ4TGF5b3V0QWxpZ249XCJjZW50ZXIgY2VudGVyXCIgY2xhc3M9XCJ0aWxlXCIgW3N0eWxlLnBvc2l0aW9uXT1cInBvc2l0aW9uXCIgW3N0eWxlLnRvcC5weF09XCJwb3NpdGlvblRvcFwiIFtzdHlsZS5sZWZ0LnB4XT1cInBvc2l0aW9uTGVmdFwiXHJcbiAgW3N0eWxlLmJhY2tncm91bmQtY29sb3JdPVwiYmFja2dyb3VuZENvbG9yXCIgW3N0eWxlLmhlaWdodC5weF09XCJoZWlnaHRcIiBbc3R5bGUud2lkdGgucHhdPVwid2lkdGhcIj5cclxuICA8aW1nIFtzcmNdPVwiaW1hZ2VTcmNcIiBbc3R5bGUuaGVpZ2h0LnB4XT1cImltYWdlSGVpZ2h0XCIgW3N0eWxlLndpZHRoLnB4XT1cImltYWdlV2lkdGhcIj5cclxuPC9kaXY+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYGBdLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUaWxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgdGlsZTogVGlsZSA9IG5ldyBUaWxlKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIGdldCBiYWNrZ3JvdW5kQ29sb3IoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnRpbGUuaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGltYWdlSGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy50aWxlLmltYWdlSGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGltYWdlU3JjKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy50aWxlLmltYWdlLnNyYztcclxuICB9XHJcblxyXG4gIGdldCBpbWFnZVdpZHRoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy50aWxlLmltYWdlV2lkdGg7XHJcbiAgfVxyXG5cclxuICBnZXQgcG9zaXRpb24oKTogJ2Fic29sdXRlJyB8ICdyZWxhdGl2ZScgfCAnZml4ZWQnIHtcclxuICAgIHJldHVybiAnYWJzb2x1dGUnO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBvc2l0aW9uTGVmdCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudGlsZS5wb3NpdGlvbkxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXQgcG9zaXRpb25Ub3AoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnRpbGUucG9zaXRpb25Ub3A7XHJcbiAgfVxyXG5cclxuICBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnRpbGUud2lkdGg7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUaWxlQ29tcG9uZW50IH0gZnJvbSAnLi90aWxlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFNoYXJlZE1vZHVsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9zaGFyZWQubW9kdWxlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgU2hhcmVkTW9kdWxlLFxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBUaWxlQ29tcG9uZW50LFxyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgVGlsZUNvbXBvbmVudCxcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUaWxlTW9kdWxlIHsgfVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgQ29sbGFnZUNvbXBvbmVudCB9IGZyb20gJy4vY29sbGFnZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUaWxlTW9kdWxlIH0gZnJvbSAnLi4vdGlsZS90aWxlLm1vZHVsZSc7XHJcbmltcG9ydCB7IFNoYXJlZE1vZHVsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9zaGFyZWQubW9kdWxlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgU2hhcmVkTW9kdWxlLFxyXG4gICAgVGlsZU1vZHVsZSxcclxuICBdLFxyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgQ29sbGFnZUNvbXBvbmVudCxcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIENvbGxhZ2VDb21wb25lbnQsXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ29sbGFnZU1vZHVsZSB7IH1cclxuIiwiaW1wb3J0IHsgYnVpbGQsIHRvSW50IH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0ZVJhbmdlIHtcclxuICAgIHN0YXJ0RGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBlbmREYXRlOiBEYXRlID0gbmV3IERhdGUoKTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERhdGVIZWxwZXIge1xyXG5cclxuICAgIHN0YXRpYyBNb250aE5hbWVzID0gW1xyXG4gICAgICAgICdKYW51YXJ5JyxcclxuICAgICAgICAnRmVicnVhcnknLFxyXG4gICAgICAgICdNYXJjaCcsXHJcbiAgICAgICAgJ0FwcmlsJyxcclxuICAgICAgICAnTWF5JyxcclxuICAgICAgICAnSnVuZScsXHJcbiAgICAgICAgJ0p1bHknLFxyXG4gICAgICAgICdBdWd1c3QnLFxyXG4gICAgICAgICdTZXB0ZW1iZXInLFxyXG4gICAgICAgICdPY3RvYmVyJyxcclxuICAgICAgICAnTm92ZW1iZXInLFxyXG4gICAgICAgICdEZWNlbWJlcidcclxuICAgIF07XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkU3RhcnRUaW1lKHN0YXJ0RGF0ZTogRGF0ZSwgc3RhcnRIb3VyczogbnVtYmVyLCBzdGFydE1pbnV0ZXM6IG51bWJlciwgc3RhcnRNZXJpZGlhbjogJ0FNJyB8ICdQTScpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xyXG4gICAgICAgIGNvbnN0IGhvdXJzID0gc3RhcnRNZXJpZGlhbiA9PT0gJ0FNJyA/IHN0YXJ0SG91cnMgOiBzdGFydEhvdXJzICsgMTI7XHJcbiAgICAgICAgc3RhcnRUaW1lLnNldEhvdXJzKGhvdXJzKTtcclxuICAgICAgICBzdGFydFRpbWUuc2V0TWludXRlcyhzdGFydE1pbnV0ZXMpO1xyXG4gICAgICAgIHJldHVybiBzdGFydFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkRW5kVGltZShzdGFydFRpbWU6IERhdGUsIGRIb3VyczogbnVtYmVyLCBkTWludXRlczogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKHN0YXJ0VGltZSk7XHJcbiAgICAgICAgZW5kVGltZS5zZXRIb3VycyhlbmRUaW1lLmdldEhvdXJzKCkgKyBkSG91cnMpO1xyXG4gICAgICAgIGVuZFRpbWUuc2V0TWludXRlcyhlbmRUaW1lLmdldE1pbnV0ZXMoKSArIGRNaW51dGVzKTtcclxuICAgICAgICByZXR1cm4gZW5kVGltZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSAnJyArIChkLmdldE1vbnRoKCkgKyAxKTtcclxuICAgICAgICBjb25zdCBkYXkgPSAnJyArIGQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBtb250aCAmJiBkYXkgJiYgeWVhciA/IFttb250aCwgZGF5LCB5ZWFyXS5qb2luKCcvJykgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGb3JtYXREYXRlRGFzaGVzKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICBsZXQgbW9udGggPSAnJyArIChkLmdldE1vbnRoKCkgKyAxKTtcclxuICAgICAgICBsZXQgZGF5ID0gJycgKyBkLmdldERhdGUoKTtcclxuICAgICAgICBjb25zdCB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xyXG5cclxuICAgICAgICBpZiAobW9udGgubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF5Lmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgZGF5ID0gJzAnICsgZGF5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5qb2luKCctJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZvcm1hdERhdGVTbGFzaGVzKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICBsZXQgbW9udGggPSAnJyArIChkLmdldE1vbnRoKCkgKyAxKTtcclxuICAgICAgICBsZXQgZGF5ID0gJycgKyBkLmdldERhdGUoKTtcclxuICAgICAgICBjb25zdCB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xyXG5cclxuICAgICAgICBpZiAobW9udGgubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF5Lmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgZGF5ID0gJzAnICsgZGF5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFttb250aCwgZGF5LCB5ZWFyXS5qb2luKCcvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRpbWVBZ28oZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFkYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSAobmV3IERhdGUoZGF0ZSkpLmdldFRpbWUoKSkgLyAxMDAwKTtcclxuICAgIFxyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDMxNTM2MDAwKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVydmFsICsgJyB5ZWFycyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmFsID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gMjU5MjAwMCk7XHJcbiAgICAgICAgaWYgKGludGVydmFsID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWwgKyAnIG1vbnRocyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmFsID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gODY0MDApO1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVydmFsICsgJyBkYXlzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJ2YWwgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcclxuICAgICAgICBpZiAoaW50ZXJ2YWwgPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbCArICcgaG91cnMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcnZhbCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcclxuICAgICAgICBpZiAoaW50ZXJ2YWwgPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbCArICcgbWludXRlcyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHNlY29uZHMpICsgJyBzZWNvbmRzJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9Nb250aE5hbWUoZDogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLk1vbnRoTmFtZXNbZGF0ZS5nZXRNb250aCgpXTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9Nb250aE51bWJlcihkOiBEYXRlKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvTW9udGhOdW1iZXJGcm9tTW9udGhZZWFyKG1vbnRoWWVhcjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBtb250aCA9IG1vbnRoWWVhci5zdWJzdHIobW9udGhZZWFyLmxlbmd0aCAtIDIpO1xyXG4gICAgICAgIHJldHVybiB0b0ludChtb250aCkgLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb01vbnRoTnVtYmVyRnJvbU1vbnRoWWVhck5hbWUobW9udGhZZWFyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gbW9udGhZZWFyLnNwbGl0KC9cXHMqLFxccyovKTtcclxuICAgICAgICBjb25zdCBtb250aCA9IERhdGVIZWxwZXIuTW9udGhOdW1iZXJzW3BhcnRzWzBdXTtcclxuICAgICAgICByZXR1cm4gbW9udGg7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvTW9udGhZZWFyKGQ6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICBjb25zdCBtb250aE51bWJlciA9IERhdGVIZWxwZXIuVG9Nb250aE51bWJlcihkYXRlKTtcclxuICAgICAgICBjb25zdCBtb250aCA9IG1vbnRoTnVtYmVyIDwgMTAgPyBgMCR7bW9udGhOdW1iZXJ9YCA6IG1vbnRoTnVtYmVyO1xyXG4gICAgICAgIHJldHVybiBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7bW9udGh9YDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9Nb250aFllYXJOYW1lKGQ6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICBjb25zdCBtb250aCA9IERhdGVIZWxwZXIuVG9Nb250aE5hbWUoZGF0ZSk7XHJcbiAgICAgICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICByZXR1cm4gbW9udGggJiYgeWVhciA/IGAke21vbnRofSAke3llYXJ9YCA6ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb1llYXJOdW1iZXJGcm9tTW9udGhZZWFyKG1vbnRoWWVhcjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCB5ZWFyID0gbW9udGhZZWFyLnN1YnN0cmluZygwLCA0KTtcclxuICAgICAgICByZXR1cm4gdG9JbnQoeWVhcik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZyb21Nb250aFllYXIobW9udGhZZWFyOiBzdHJpbmcpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCB5ZWFyID0gRGF0ZUhlbHBlci5Ub1llYXJOdW1iZXJGcm9tTW9udGhZZWFyKG1vbnRoWWVhcik7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSBEYXRlSGVscGVyLlRvTW9udGhOdW1iZXJGcm9tTW9udGhZZWFyKG1vbnRoWWVhcik7XHJcbiAgICAgICAgcmV0dXJuIHllYXIgJiYgbW9udGggPyBuZXcgRGF0ZSh5ZWFyLCBtb250aCkgOiBuZXcgRGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBJc0RhdGUoZGF0ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBJc1ZhbGlkRGF0ZShkYXRlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBkYXRlV3JhcHBlciA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIHJldHVybiAhaXNOYU4oZGF0ZVdyYXBwZXIuZ2V0RGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFRvZGF5KCk6IERhdGUge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgTW9udGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Ub2RheS5nZXRNb250aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgTW9udGhOdW1iZXJzKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuTW9udGhOYW1lcy5yZWR1Y2UoKGFjYywgeCwgaSkgPT4gT2JqZWN0LmFzc2lnbih7fSwgYWNjLCB7IFt4XTogaSB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBZZWFyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuVG9kYXkuZ2V0RnVsbFllYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IE5leHRTY2hvb2xZZWFyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuTW9udGggPCA3ID8gRGF0ZUhlbHBlci5ZZWFyIDogRGF0ZUhlbHBlci5ZZWFyICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IE5leHRTY2hvb2xZZWFyU3RhcnREYXRlKCk6IERhdGUge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlSGVscGVyLlNjaG9vbFllYXJTdGFydChEYXRlSGVscGVyLk5leHRTY2hvb2xZZWFyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBQcmV2aW91c1NjaG9vbFllYXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Nb250aCA8IDcgPyBEYXRlSGVscGVyLlllYXIgOiBEYXRlSGVscGVyLlllYXIgKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgUHJldmlvdXNTY2hvb2xZZWFyRW5kRGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZUhlbHBlci5TY2hvb2xZZWFyRW5kKERhdGVIZWxwZXIuUHJldmlvdXNTY2hvb2xZZWFyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBGdXR1cmVEYXRlKCk6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLkFkZERheXMoZGF0ZSwgMTAwMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFBhc3REYXRlKCk6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLlN1YnRyYWN0RGF5cyhkYXRlLCAxMDAwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBBZGREYXlzKGQ6IERhdGUsIGRheXM6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBkYXlzKTtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU3VidHJhY3REYXlzKGQ6IERhdGUsIGRheXM6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBkYXlzKTtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGREYXRlKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xyXG4gICAgICAgIGRhdGUuc2V0TW9udGgobW9udGgpO1xyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXkpO1xyXG4gICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBEYXRlQ2hhbmdlZChkMTogRGF0ZSwgZDI6IERhdGUpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBkYXRlMSA9IG5ldyBEYXRlKGQxKTtcclxuICAgICAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKGQyKTtcclxuICAgICAgICByZXR1cm4gZGF0ZTEuZ2V0RGF0ZSgpICE9PSBkYXRlMi5nZXREYXRlKCkgfHwgZGF0ZTEuZ2V0TW9udGgoKSAhPT0gZGF0ZTIuZ2V0TW9udGgoKSB8fCBkYXRlMS5nZXRGdWxsWWVhcigpICE9PSBkYXRlMi5nZXRGdWxsWWVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBJc1NhbWVEYXkoZDE6IERhdGUsIGQyOiBEYXRlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICFEYXRlSGVscGVyLkRhdGVDaGFuZ2VkKGQxLCBkMik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBZZWFyU3RhcnREYXRlKCk6IERhdGUge1xyXG4gICAgICAgIGlmIChEYXRlSGVscGVyLk1vbnRoIDwgNykge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyIC0gMSwgNiwgMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciwgNiwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgUHJldmlvdXNZZWFyU3RhcnREYXRlKCk6IERhdGUge1xyXG4gICAgICAgIGlmIChEYXRlSGVscGVyLk1vbnRoIDwgNykge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyIC0gMiwgNiwgMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciAtIDEsIDYsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU2Nob29sWWVhclN0YXJ0KHllYXI6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZSh5ZWFyLCA2LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFllYXJFbmREYXRlKCk6IERhdGUge1xyXG4gICAgICAgIGlmIChEYXRlSGVscGVyLk1vbnRoIDwgNykge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyLCA1LCAzMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciArIDEsIDUsIDMwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBQcmV2aW91c1llYXJFbmREYXRlKCk6IERhdGUge1xyXG4gICAgICAgIGlmIChEYXRlSGVscGVyLk1vbnRoIDwgNykge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyIC0gMSwgNSwgMzApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIsIDUsIDMwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFNjaG9vbFllYXJFbmQoeWVhcj86IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZSh5ZWFyIC0gMSwgNSwgMzApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZERhdGVSYW5nZShkYXRlUmFuZ2VJZDogbnVtYmVyKTogRGF0ZVJhbmdlIHtcclxuICAgICAgICBsZXQgc3RhcnREYXRlOiBEYXRlO1xyXG4gICAgICAgIGxldCBlbmREYXRlOiBEYXRlO1xyXG4gICAgICAgIHN3aXRjaCAoZGF0ZVJhbmdlSWQpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6IC8vIFRvZGF5XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IHN0YXJ0RGF0ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6IC8vIE5leHQgMTVcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5BZGREYXlzKHN0YXJ0RGF0ZSwgMTUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDogLy8gTmV4dCAzMFxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLkFkZERheXMoc3RhcnREYXRlLCAzMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1OiAvLyBOZXh0IDYwXHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuQWRkRGF5cyhzdGFydERhdGUsIDYwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDY6IC8vIFByZXZpb3VzIDE1XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuU3VidHJhY3REYXlzKGVuZERhdGUsIDE1KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDc6IC8vIFByZXZpb3VzIDMwXHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuU3VidHJhY3REYXlzKGVuZERhdGUsIDMwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDg6IC8vIFByZXZpb3VzIDYwXHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuU3VidHJhY3REYXlzKGVuZERhdGUsIDYwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDk6IC8vIFNjaG9vbCBZZWFyIC0gUnVucyBmcm9tIEp1bHkgMXN0IFRocnUgSnVuZSAzMHRoXHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlllYXJTdGFydERhdGU7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5ZZWFyRW5kRGF0ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEwOiAvLyBOdW1iZXIgb2YgbWVldGluZ3MgPSAxMFxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLkZ1dHVyZURhdGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMTogLy8gUHJldmlvdXMgU2Nob29sIFllYXJcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuUHJldmlvdXNZZWFyU3RhcnREYXRlO1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuUHJldmlvdXNZZWFyRW5kRGF0ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVpbGQoRGF0ZVJhbmdlLCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gIENvbXBvbmVudCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgZm9yd2FyZFJlZixcclxuICBJbnB1dCxcclxuICBPbkluaXQsXHJcbiAgT3V0cHV0LFxyXG4gIFZpZXdDaGlsZCxcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNYXREYXRlcGlja2VyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xyXG5cclxuaW1wb3J0IHsgRGF0ZUhlbHBlciB9IGZyb20gJy4uLy4uL3NoYXJlZC9kYXRlJztcclxuXHJcblxyXG5leHBvcnQgY29uc3QgREFURVBJQ0tFUl9BQ0NFU1NPUjogYW55ID0ge1xyXG4gIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxyXG4gIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IERhdGVwaWNrZXJDb21wb25lbnQpLFxyXG4gIG11bHRpOiB0cnVlXHJcbn07XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LWRhdGVwaWNrZXInLFxyXG4gIHRlbXBsYXRlOiBgPG1hdC1mb3JtLWZpZWxkPlxyXG4gIDxpbnB1dCBtYXRJbnB1dCBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIiBbbWF0RGF0ZXBpY2tlcl09XCJwaWNrZXJcIiAoYmx1cik9XCJvbkJsdXIocGlja2VySW5wdXQpXCIgKGNoYW5nZSk9XCJvbkNoYW5nZSh2YWx1ZSlcIlxyXG4gICAgW21pbl09XCJtaW5cIiBbbWF4XT1cIm1heFwiIFt2YWx1ZV09XCJ2YWx1ZVwiICNwaWNrZXJJbnB1dD5cclxuICA8bWF0LWRhdGVwaWNrZXItdG9nZ2xlIG1hdFN1ZmZpeCBbZm9yXT1cInBpY2tlclwiPjwvbWF0LWRhdGVwaWNrZXItdG9nZ2xlPlxyXG4gIDxtYXQtZGF0ZXBpY2tlciAjcGlja2VyIFtzdGFydEF0XT1cInN0YXJ0QXRcIiBbc3RhcnRWaWV3XT1cInN0YXJ0Vmlld1wiIFt0b3VjaFVpXT1cInRvdWNoVWlcIiAoc2VsZWN0ZWRDaGFuZ2VkKT1cImNoYW5nZVNlbGVjdGVkKCRldmVudClcIj48L21hdC1kYXRlcGlja2VyPlxyXG48L21hdC1mb3JtLWZpZWxkPmAsXHJcbiAgc3R5bGVzOiBbYC5tYXQtaW5wdXQtY29udGFpbmVye2Zsb2F0OmxlZnR9YF0sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgcHJvdmlkZXJzOiBbREFURVBJQ0tFUl9BQ0NFU1NPUl1cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVwaWNrZXJDb21wb25lbnQgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciwgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgbWluOiBEYXRlO1xyXG4gIEBJbnB1dCgpIG1heDogRGF0ZTtcclxuICBASW5wdXQoKSBwbGFjZWhvbGRlciA9ICdDaG9vc2UgYSBkYXRlJztcclxuICBASW5wdXQoKSBzdGFydEF0OiBEYXRlO1xyXG4gIEBJbnB1dCgpIHN0YXJ0VmlldzogJ21vbnRoJyB8ICd5ZWFyJyA9ICdtb250aCc7XHJcbiAgQElucHV0KCkgdG91Y2hVaTtcclxuICBAT3V0cHV0KCkgc2VsZWN0ZWRDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcjxEYXRlPigpO1xyXG4gIEBWaWV3Q2hpbGQoJ3BpY2tlcicpIGRhdGVwaWNrZXI6IE1hdERhdGVwaWNrZXI8RGF0ZT47XHJcbiAgcHJpdmF0ZSBvbk1vZGVsQ2hhbmdlOiBGdW5jdGlvbjtcclxuICBwcml2YXRlIG9uVG91Y2g6IEZ1bmN0aW9uO1xyXG4gIF92YWx1ZTogRGF0ZTtcclxuICBmb2N1c2VkOiBEYXRlO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBnZXQgdmFsdWUoKTogRGF0ZSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCB2YWx1ZSh2YWw6IERhdGUpIHtcclxuICAgIHRoaXMuX3ZhbHVlID0gdmFsO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub25Nb2RlbENoYW5nZSA9IGZuO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLm9uVG91Y2ggPSBmbjtcclxuICB9XHJcblxyXG4gIHdyaXRlVmFsdWUodmFsdWU6IERhdGUpIHtcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIG9uQ2hhbmdlKHZhbHVlOiBEYXRlKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICBpZiAodGhpcy5vbk1vZGVsQ2hhbmdlKSB7XHJcbiAgICAgIHRoaXMub25Nb2RlbENoYW5nZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkJsdXIoaW5wdXQ6IGFueSkge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGlucHV0LnZhbHVlKTtcclxuICAgIGlmIChEYXRlSGVscGVyLklzVmFsaWREYXRlKGRhdGUpKSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWQoZGF0ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IERhdGVIZWxwZXIuRm9ybWF0RGF0ZSh0aGlzLnZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGVwaWNrZXIuaWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgb3BlbmVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0ZXBpY2tlci5vcGVuZWQ7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuc3RhcnRBdCA9IHRoaXMudmFsdWU7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VTZWxlY3RlZChkYXRlOiBEYXRlKSB7XHJcbiAgICB0aGlzLm9uQ2hhbmdlKGRhdGUpO1xyXG4gICAgdGhpcy5zZWxlY3RlZENoYW5nZWQuZW1pdChkYXRlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5kYXRlcGlja2VyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5kYXRlcGlja2VyLm9wZW4oKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIGZvcndhcmRSZWYsIElucHV0LCBWaWV3Q2hpbGQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5pbXBvcnQgeyBEYXRlcGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi4vZGF0ZXBpY2tlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXRlUmFuZ2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvZGF0ZSc7XHJcbmltcG9ydCB7IGJ1aWxkIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjb25zdCBEQVRFUkFOR0VfQUNDRVNTT1I6IGFueSA9IHtcclxuICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXRlcmFuZ2VDb21wb25lbnQpLFxyXG4gIG11bHRpOiB0cnVlXHJcbn07XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LWRhdGVyYW5nZScsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiZGF0ZXJhbmdlXCI+XHJcbiAgPGRpdiBjbGFzcz1cInN0YXJ0LWRhdGVcIiBbY2xhc3MuZGF0ZV09XCIhaW5saW5lXCIgW2NsYXNzLmlubGluZS1kYXRlXT1cImlubGluZVwiPlxyXG4gICAgPGxhYmVsIGNsYXNzPVwibGJsLWRhdGUgaXUtcHJpbWFyeVwiPnt7IHN0YXJ0TGFiZWwgfX06PC9sYWJlbD5cclxuICAgIDxpdS1kYXRlcGlja2VyICNzdGFydERhdGUgKHNlbGVjdGVkQ2hhbmdlZCk9XCJjaGFuZ2VTdGFydERhdGUoJGV2ZW50KVwiIFt2YWx1ZV09XCJzdGFydERhdGVWYWx1ZVwiPjwvaXUtZGF0ZXBpY2tlcj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwiZW5kLWRhdGVcIiBbY2xhc3MuZGF0ZV09XCIhaW5saW5lXCIgW2NsYXNzLmlubGluZS1kYXRlXT1cImlubGluZVwiPlxyXG4gICAgPGxhYmVsIGNsYXNzPVwibGJsLWRhdGUgaXUtcHJpbWFyeVwiPnt7IGVuZExhYmVsIH19OjwvbGFiZWw+XHJcbiAgICA8aXUtZGF0ZXBpY2tlciAjZW5kRGF0ZSAoc2VsZWN0ZWRDaGFuZ2VkKT1cImNoYW5nZUVuZERhdGUoJGV2ZW50KVwiIFt2YWx1ZV09XCJlbmREYXRlVmFsdWVcIj48L2l1LWRhdGVwaWNrZXI+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gLFxyXG4gIHN0eWxlczogW2AuZGF0ZXJhbmdle2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjE4cHg7cGFkZGluZzowIDEwcHg7Ym9yZGVyLXJhZGl1czozcHh9LmRhdGVyYW5nZSAuZGF0ZXtkaXNwbGF5OmZsZXg7cGFkZGluZzo2cHh9LmRhdGVyYW5nZSAuaW5saW5lLWRhdGV7ZGlzcGxheTppbmxpbmUtZmxleDtwYWRkaW5nOjB9LmRhdGVyYW5nZSAuaW5saW5lLWRhdGUuZW5kLWRhdGV7bWFyZ2luLWxlZnQ6MzJweH0uZGF0ZXJhbmdlIC5sYmwtZGF0ZXt3aWR0aDo3NnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmctdG9wOjIycHh9YF0sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgcHJvdmlkZXJzOiBbREFURVJBTkdFX0FDQ0VTU09SXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRGF0ZXJhbmdlQ29tcG9uZW50IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xyXG5cclxuICBASW5wdXQoKSBpbmxpbmUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBtaW46IERhdGU7XHJcbiAgQElucHV0KCkgbWF4OiBEYXRlO1xyXG4gIEBJbnB1dCgpIHN0YXJ0QXQ6IERhdGU7XHJcbiAgQElucHV0KCkgc3RhcnRMYWJlbCA9ICdTdGFydCBEYXRlJztcclxuICBASW5wdXQoKSBlbmRMYWJlbCA9ICdFbmQgRGF0ZSc7XHJcbiAgQElucHV0KCkgc3RhcnRWaWV3O1xyXG4gIEBJbnB1dCgpIHRvdWNoVWk7XHJcbiAgQE91dHB1dCgpIHN0YXJ0RGF0ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPERhdGU+KCk7XHJcbiAgQE91dHB1dCgpIGVuZERhdGVDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcjxEYXRlPigpO1xyXG4gIEBWaWV3Q2hpbGQoJ3N0YXJ0RGF0ZScpIHN0YXJ0RGF0ZXBpY2tlcjogRGF0ZXBpY2tlckNvbXBvbmVudDtcclxuICBAVmlld0NoaWxkKCdlbmREYXRlJykgZW5kRGF0ZXBpY2tlcjogRGF0ZXBpY2tlckNvbXBvbmVudDtcclxuICBwcml2YXRlIG9uTW9kZWxDaGFuZ2U6IEZ1bmN0aW9uO1xyXG4gIHByaXZhdGUgb25Ub3VjaDogRnVuY3Rpb247XHJcbiAgX3ZhbHVlOiBEYXRlUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKCk7XHJcbiAgZm9jdXNlZDogRGF0ZVJhbmdlID0gbmV3IERhdGVSYW5nZSgpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZikgeyB9XHJcblxyXG4gIGdldCB2YWx1ZSgpOiBEYXRlUmFuZ2Uge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgdmFsdWUodmFsOiBEYXRlUmFuZ2UpIHtcclxuICAgIHRoaXMuX3ZhbHVlID0gdmFsO1xyXG4gICAgaWYgKHRoaXMgJiYgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZiAmJiAhdGhpcy5jaGFuZ2VEZXRlY3RvclJlZlsnZGVzdHJveWVkJ10pIHtcclxuICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgc3RhcnREYXRlSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGFydERhdGVwaWNrZXIuaWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgc3RhcnREYXRlT3BlbmVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhcnREYXRlcGlja2VyLm9wZW5lZDtcclxuICB9XHJcblxyXG4gIGdldCBlbmREYXRlSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbmREYXRlcGlja2VyLmlkO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGVuZERhdGVPcGVuZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbmREYXRlcGlja2VyLm9wZW5lZDtcclxuICB9XHJcblxyXG4gIGdldCBzdGFydERhdGVWYWx1ZSgpOiBEYXRlIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlLnN0YXJ0RGF0ZTtcclxuICB9XHJcblxyXG4gIHNldCBzdGFydERhdGVWYWx1ZSh2YWx1ZTogRGF0ZSkge1xyXG4gICAgdGhpcy5jaGFuZ2VTdGFydERhdGUodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGVuZERhdGVWYWx1ZSgpOiBEYXRlIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlLmVuZERhdGU7XHJcbiAgfVxyXG5cclxuICBzZXQgZW5kRGF0ZVZhbHVlKHZhbHVlOiBEYXRlKSB7XHJcbiAgICB0aGlzLmNoYW5nZUVuZERhdGUodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlU3RhcnREYXRlKGRhdGU6IERhdGUpIHtcclxuICAgIHRoaXMub25DaGFuZ2UoYnVpbGQoRGF0ZVJhbmdlLCB7XHJcbiAgICAgIGVuZERhdGU6IHRoaXMudmFsdWUuZW5kRGF0ZSxcclxuICAgICAgc3RhcnREYXRlOiBkYXRlXHJcbiAgICB9KSk7XHJcbiAgICB0aGlzLnN0YXJ0RGF0ZUNoYW5nZWQuZW1pdChkYXRlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlU3RhcnREYXRlKCkge1xyXG4gICAgdGhpcy5zdGFydERhdGVwaWNrZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIG9wZW5TdGF0ZURhdGUoKSB7XHJcbiAgICB0aGlzLnN0YXJ0RGF0ZXBpY2tlci5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VFbmREYXRlKGRhdGU6IERhdGUpIHtcclxuICAgIHRoaXMub25DaGFuZ2UoYnVpbGQoRGF0ZVJhbmdlLCB7XHJcbiAgICAgIGVuZERhdGU6IGRhdGUsXHJcbiAgICAgIHN0YXJ0RGF0ZTogdGhpcy52YWx1ZS5zdGFydERhdGVcclxuICAgIH0pKTtcclxuICAgIHRoaXMuZW5kRGF0ZUNoYW5nZWQuZW1pdChkYXRlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlRW5kRGF0ZSgpIHtcclxuICAgIHRoaXMuZW5kRGF0ZXBpY2tlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgb3BlbkVuZERhdGUoKSB7XHJcbiAgICB0aGlzLmVuZERhdGVwaWNrZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub25Nb2RlbENoYW5nZSA9IGZuO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLm9uVG91Y2ggPSBmbjtcclxuICB9XHJcblxyXG4gIHdyaXRlVmFsdWUodmFsdWU6IERhdGVSYW5nZSkge1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2UodmFsdWU6IERhdGVSYW5nZSkge1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgaWYgKHRoaXMub25Nb2RlbENoYW5nZSkge1xyXG4gICAgICB0aGlzLm9uTW9kZWxDaGFuZ2UodmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25CbHVyKHZhbHVlOiBEYXRlUmFuZ2UpIHtcclxuICB9XHJcblxyXG4gIG9uRm9jdXModmFsdWU6IERhdGVSYW5nZSkge1xyXG4gICAgdGhpcy5mb2N1c2VkID0gdmFsdWU7XHJcbiAgICBpZiAodGhpcy5vblRvdWNoKSB7XHJcbiAgICAgIHRoaXMub25Ub3VjaCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWF0RGF0ZXBpY2tlck1vZHVsZSwgTWF0TmF0aXZlRGF0ZU1vZHVsZSwgTWF0SW5wdXRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XHJcblxyXG5pbXBvcnQgeyBEYXRlcGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRlcGlja2VyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IERhdGVyYW5nZUNvbXBvbmVudCB9IGZyb20gJy4vZGF0ZXJhbmdlL2RhdGVyYW5nZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBTaGFyZWRNb2R1bGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvc2hhcmVkLm1vZHVsZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIFNoYXJlZE1vZHVsZSxcclxuICAgIE1hdERhdGVwaWNrZXJNb2R1bGUsXHJcbiAgICBNYXROYXRpdmVEYXRlTW9kdWxlLFxyXG4gICAgTWF0SW5wdXRNb2R1bGUsXHJcbiAgXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIERhdGVwaWNrZXJDb21wb25lbnQsXHJcbiAgICBEYXRlcmFuZ2VDb21wb25lbnQsXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBEYXRlcGlja2VyQ29tcG9uZW50LFxyXG4gICAgRGF0ZXJhbmdlQ29tcG9uZW50LFxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVwaWNrZXJNb2R1bGUgeyB9XHJcbiIsImltcG9ydCB7IFZpZXdDb250YWluZXJSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWF0RGlhbG9nQ29uZmlnLCBEaWFsb2dQb3NpdGlvbiwgRGlhbG9nUm9sZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEaWFsb2dNb2RlbCB7XHJcbiAgICB0aXRsZSA9ICcgJztcclxuICAgIGFjdGlvbnM6IERpYWxvZ0FjdGlvbltdID0gW107XHJcbiAgICAvKiogSGVpZ2h0IG9mIHRoZSBkaWFsb2cuICovXHJcbiAgICBoZWlnaHQ/OiBzdHJpbmc7XHJcbiAgICAvKiogV2lkdGggb2YgdGhlIGRpYWxvZy4gKi9cclxuICAgIHdpZHRoPzogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVyZSB0aGUgYXR0YWNoZWQgY29tcG9uZW50IHNob3VsZCBsaXZlIGluIEFuZ3VsYXIncyAqbG9naWNhbCogY29tcG9uZW50IHRyZWUuXHJcbiAgICAgKiBUaGlzIGFmZmVjdHMgd2hhdCBpcyBhdmFpbGFibGUgZm9yIGluamVjdGlvbiBhbmQgdGhlIGNoYW5nZSBkZXRlY3Rpb24gb3JkZXIgZm9yIHRoZVxyXG4gICAgICogY29tcG9uZW50IGluc3RhbnRpYXRlZCBpbnNpZGUgb2YgdGhlIGRpYWxvZy4gVGhpcyBkb2VzIG5vdCBhZmZlY3Qgd2hlcmUgdGhlIGRpYWxvZ1xyXG4gICAgICogY29udGVudCB3aWxsIGJlIHJlbmRlcmVkLlxyXG4gICAgICovXHJcbiAgICB2aWV3Q29udGFpbmVyUmVmPzogVmlld0NvbnRhaW5lclJlZjtcclxuICAgIC8qKiBUaGUgQVJJQSByb2xlIG9mIHRoZSBkaWFsb2cgZWxlbWVudC4gKi9cclxuICAgIHJvbGU/OiBEaWFsb2dSb2xlO1xyXG4gICAgLyoqIEN1c3RvbSBjbGFzcyBmb3IgdGhlIG92ZXJsYXkgcGFuZS4gKi9cclxuICAgIHBhbmVsQ2xhc3M/OiBzdHJpbmc7XHJcbiAgICAvKiogV2hldGhlciB0aGUgZGlhbG9nIGhhcyBhIGJhY2tkcm9wLiAqL1xyXG4gICAgaGFzQmFja2Ryb3A/PSB0cnVlO1xyXG4gICAgLyoqIEN1c3RvbSBjbGFzcyBmb3IgdGhlIGJhY2tkcm9wLCAqL1xyXG4gICAgYmFja2Ryb3BDbGFzcz86IHN0cmluZztcclxuICAgIC8qKiBXaGV0aGVyIHRoZSB1c2VyIGNhbiB1c2UgZXNjYXBlIG9yIGNsaWNraW5nIG91dHNpZGUgdG8gY2xvc2UgYSBtb2RhbC4gKi9cclxuICAgIGRpc2FibGVDbG9zZT89IGZhbHNlO1xyXG4gICAgLyoqIFBvc2l0aW9uIG92ZXJyaWRlcy4gKi9cclxuICAgIHBvc2l0aW9uPzogRGlhbG9nUG9zaXRpb247XHJcbiAgICAvKiogRGF0YSBiZWluZyBpbmplY3RlZCBpbnRvIHRoZSBjaGlsZCBjb21wb25lbnQuICovXHJcbiAgICBkYXRhPzogYW55O1xyXG4gICAgLyoqIExheW91dCBkaXJlY3Rpb24gZm9yIHRoZSBkaWFsb2cncyBjb250ZW50LiAqL1xyXG4gICAgZGlyZWN0aW9uPzogJ2x0cicgfCAncnRsJztcclxuXHJcbiAgICBnZXQgY29uZmlnKCk6IE1hdERpYWxvZ0NvbmZpZyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmlld0NvbnRhaW5lclJlZjogdGhpcy52aWV3Q29udGFpbmVyUmVmLFxyXG4gICAgICAgICAgICByb2xlOiB0aGlzLnJvbGUsXHJcbiAgICAgICAgICAgIHBhbmVsQ2xhc3M6IHRoaXMucGFuZWxDbGFzcyxcclxuICAgICAgICAgICAgaGFzQmFja2Ryb3A6IHRoaXMuaGFzQmFja2Ryb3AsXHJcbiAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IHRoaXMuYmFja2Ryb3BDbGFzcyxcclxuICAgICAgICAgICAgZGlzYWJsZUNsb3NlOiB0aGlzLmRpc2FibGVDbG9zZSxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb25cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGlhbG9nQWN0aW9uIHtcclxuICAgIHZhbHVlOiBhbnkgPSBudWxsO1xyXG4gICAgbGFiZWwgPSAnJztcclxuICAgIGNvbG9yOiAncHJpbWFyeScgfCAnYWNjZW50JyB8ICd3YXJuJyA9ICdhY2NlbnQnO1xyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBEaWFsb2dBY3Rpb24sIERpYWxvZ01vZGVsIH0gZnJvbSAnLi9kaWFsb2cubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdpdS1kaWFsb2cnLFxyXG4gIHRlbXBsYXRlOiBgPG1hdC10b29sYmFyIGNvbG9yPVwicHJpbWFyeVwiIG1hdC1kaWFsb2ctdGl0bGU+XHJcbiAgPHNwYW4gY2xhc3M9XCJkaWFsb2ctdGl0bGVcIj5cclxuICAgIHt7IHRpdGxlIH19XHJcbiAgICA8YnV0dG9uICpuZ0lmPVwic2hvd0Nsb3NlSWNvblwiIG1hdC1idXR0b24gW21hdC1kaWFsb2ctY2xvc2VdPVwibnVsbFwiPlxyXG4gICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxyXG4gICAgPC9idXR0b24+XHJcbiAgPC9zcGFuPlxyXG48L21hdC10b29sYmFyPlxyXG48bWF0LWRpYWxvZy1jb250ZW50IGNsYXNzPVwic2Nyb2xsYWJsZVwiPlxyXG4gIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cclxuPC9tYXQtZGlhbG9nLWNvbnRlbnQ+XHJcbjxtYXQtZGlhbG9nLWFjdGlvbnMgKm5nSWY9XCJzaG93QWN0aW9ucyAmJiBhY3Rpb25zLmxlbmd0aCA+IDBcIj5cclxuICA8YnV0dG9uICpuZ0Zvcj1cImxldCBhY3Rpb24gb2YgYWN0aW9uc1wiIG1hdC1yYWlzZWQtYnV0dG9uIFttYXQtZGlhbG9nLWNsb3NlXT1cImFjdGlvbi52YWx1ZVwiIFtzdHlsZS53aWR0aF09XCJhY3Rpb25XaWR0aFwiIFtzdHlsZS5jb2xvcl09XCJhY3Rpb24uY29sb3JcIj57eyBhY3Rpb24ubGFiZWwgfX08L2J1dHRvbj5cclxuPC9tYXQtZGlhbG9nLWFjdGlvbnM+XHJcbjxtYXQtZGlhbG9nLWFjdGlvbnMgKm5nSWY9XCJzaG93Q2xvc2VBY3Rpb24gJiYgYWN0aW9ucy5sZW5ndGggPT09IDBcIj5cclxuICA8YnV0dG9uIG1hdC1yYWlzZWQtYnV0dG9uIG1hdC1kaWFsb2ctY2xvc2U9XCJjbG9zZVwiIFtzdHlsZS53aWR0aF09XCJhY3Rpb25XaWR0aFwiIFtzdHlsZS5jb2xvcl09XCJkZWZhdWx0QWN0aW9uQ29sb3JcIj5DbG9zZTwvYnV0dG9uPlxyXG48L21hdC1kaWFsb2ctYWN0aW9ucz5cclxuYCxcclxuICBzdHlsZXM6IFtgaXUtZGlhbG9nIC5tYXQtdG9vbGJhcnttYXJnaW46LTI0cHggLTI0cHggMDt3aWR0aDpjYWxjKDEwMCUgKyA0OHB4KTttaW4taGVpZ2h0OjMycHh9aXUtZGlhbG9nIC5tYXQtdG9vbGJhciAuZGlhbG9nLXRpdGxle3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDpjYWxjKDEwMCUgLSA4cHgpO3dpZHRoOjEwMCU7bWFyZ2luLXRvcDo4cHh9aXUtZGlhbG9nIC5tYXQtdG9vbGJhciAuZGlhbG9nLXRpdGxlIGJ1dHRvbntjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDotNXB4O2JvcmRlci1yYWRpdXM6MTAwJTtoZWlnaHQ6NDJweDt3aWR0aDo0MnB4O21pbi13aWR0aDozNnB4fWl1LWRpYWxvZyAubWF0LXRvb2xiYXIgLmRpYWxvZy10aXRsZSBidXR0b246aG92ZXIsaXUtZGlhbG9nIC5tYXQtdG9vbGJhciAuZGlhbG9nLXRpdGxlIGJ1dHRvbjpob3ZlciBtYXQtaWNvbntmb250LXdlaWdodDo3MDB9aXUtZGlhbG9nIC5tYXQtdG9vbGJhciAuZGlhbG9nLXRpdGxlIG1hdC1pY29ue3Bvc2l0aW9uOmFic29sdXRlO3RvcDo5cHg7cmlnaHQ6OHB4O3otaW5kZXg6MX1pdS1kaWFsb2cgLm1hdC10b29sYmFyLXJvd3toZWlnaHQ6NDhweH1pdS1kaWFsb2cgLm1hdC1kaWFsb2ctYWN0aW9uc3ttYXJnaW4tbGVmdDotMjRweDttYXJnaW4tcmlnaHQ6LTI0cHg7Y29sb3I6I2ZmZjtwYWRkaW5nOjB9aXUtZGlhbG9nIC5tYXQtZGlhbG9nLWFjdGlvbnMgYnV0dG9ue3BhZGRpbmc6MTJweCAwfWl1LWRpYWxvZyAubWF0LWRpYWxvZy1hY3Rpb25zIC5tYXQtYWNjZW50e2NvbG9yOiNmZmYhaW1wb3J0YW50fWBdLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIERpYWxvZ0NvbXBvbmVudCB7XHJcblxyXG4gIEBJbnB1dCgpIG1vZGVsOiBEaWFsb2dNb2RlbCA9IG5ldyBEaWFsb2dNb2RlbCgpO1xyXG4gIEBJbnB1dCgpIHNob3dBY3Rpb25zID0gdHJ1ZTtcclxuICBASW5wdXQoKSBzaG93Q2xvc2VBY3Rpb24gPSBmYWxzZTtcclxuICBASW5wdXQoKSBzaG93Q2xvc2VJY29uID0gdHJ1ZTtcclxuICBASW5wdXQoKSBkZWZhdWx0QWN0aW9uQ29sb3IgPSAnYWNjZW50JztcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgZ2V0IGFjdGlvbnMoKTogRGlhbG9nQWN0aW9uW10ge1xyXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuYWN0aW9ucztcclxuICB9XHJcblxyXG4gIGdldCBhY3Rpb25XaWR0aCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgYWN0aW9uc0NvdW50ID0gTWF0aC5tYXgodGhpcy5hY3Rpb25zLmxlbmd0aCwgMSk7XHJcbiAgICByZXR1cm4gYCR7MTAwIC8gYWN0aW9uc0NvdW50fSVgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC50aXRsZTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1hdERpYWxvZ01vZHVsZSwgTWF0SWNvbk1vZHVsZSwgTWF0VG9vbGJhck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcclxuXHJcbmltcG9ydCB7IERpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4vZGlhbG9nLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFNoYXJlZE1vZHVsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9zaGFyZWQubW9kdWxlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgU2hhcmVkTW9kdWxlLFxyXG4gICAgTWF0RGlhbG9nTW9kdWxlLFxyXG4gICAgTWF0SWNvbk1vZHVsZSxcclxuICAgIE1hdFRvb2xiYXJNb2R1bGUsXHJcbiAgXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIERpYWxvZ0NvbXBvbmVudCxcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIERpYWxvZ0NvbXBvbmVudCxcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEaWFsb2dNb2R1bGUgeyB9XHJcbiIsImltcG9ydCB7IGJ1aWxkIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlVXBsb2FkIHtcclxuICAgIGxhc3RNb2RpZmllZCA9IDA7XHJcbiAgICBsYXN0TW9kaWZpZWREYXRlOiBEYXRlID0gbmV3IERhdGUoKTtcclxuICAgIG5hbWUgPSAnJztcclxuICAgIHNpemUgPSAwO1xyXG4gICAgdHlwZSA9ICcnO1xyXG4gICAgd2Via2l0UmVsYXRpdmVQYXRoID0gJyc7XHJcbiAgICBvcmRlcj89IDA7XHJcbiAgICByZWFkeVN0YXRlOiAnRU1QVFknIHwgJ0xPQURJTkcnIHwgJ0RPTkUnID0gJ0VNUFRZJztcclxuICAgIHNyYyA9ICcnO1xyXG5cclxuICAgIHN0YXRpYyBCdWlsZEZyb21GaWxlKGZpbGU6IEZpbGUpOiBGaWxlVXBsb2FkIHtcclxuICAgICAgICByZXR1cm4gYnVpbGQoRmlsZVVwbG9hZCwge1xyXG4gICAgICAgICAgICBuYW1lOiBmaWxlLmZpbGVOYW1lLFxyXG4gICAgICAgICAgICBzaXplOiBmaWxlLmZpbGVTaXplLFxyXG4gICAgICAgICAgICB0eXBlOiBmaWxlLm1pbWVUeXBlLFxyXG4gICAgICAgICAgICBzcmM6IGZpbGUuc3JjLFxyXG4gICAgICAgICAgICBvcmRlcjogZmlsZS5vcmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBHZXRSZWFkeVN0YXRlKHJlYWRlcjogRmlsZVJlYWRlcikge1xyXG4gICAgICAgIHN3aXRjaCAocmVhZGVyLnJlYWR5U3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdFTVBUWSc7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnTE9BRElORyc7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnRE9ORSc7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0VNUFRZJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGV4dGVuc2lvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXNJbWFnZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnNwbGl0KCcvJylbMF0gPT09ICdpbWFnZSc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxvYWRpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlTdGF0ZSA9PT0gJ0xPQURJTkcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWxlKCk6IEZpbGUge1xyXG4gICAgICAgIHJldHVybiBGaWxlLkJ1aWxkRnJvbUZpbGVVcGxvYWQodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWFkeVN0YXRlKHJlYWRlcjogRmlsZVJlYWRlcikge1xyXG4gICAgc3dpdGNoIChyZWFkZXIucmVhZHlTdGF0ZSkge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgcmV0dXJuICdFTVBUWSc7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICByZXR1cm4gJ0xPQURJTkcnO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgcmV0dXJuICdET05FJztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gJ0VNUFRZJztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGUge1xyXG5cclxuICAgIGlkID0gMDtcclxuICAgIGZpbGVCaW5hcnk6IGFueVtdID0gW107XHJcbiAgICBmaWxlRXh0ZW5zaW9uID0gJyc7XHJcbiAgICBmaWxlTmFtZSA9ICcnO1xyXG4gICAgZmlsZVNpemUgPSAwO1xyXG4gICAgbWltZVR5cGUgPSAnJztcclxuICAgIG9yZGVyID0gMDtcclxuXHJcbiAgICBzdGF0aWMgQnVpbGRGcm9tRmlsZVVwbG9hZCh1cGxvYWQ6IEZpbGVVcGxvYWQpOiBGaWxlIHtcclxuICAgICAgICByZXR1cm4gYnVpbGQoRmlsZSwge1xyXG4gICAgICAgICAgICBmaWxlQmluYXJ5OiB1cGxvYWQuc3JjLnJlcGxhY2UoRmlsZS5HZXRTcmNQcmVmaXgodXBsb2FkLnR5cGUpLCAnJyksXHJcbiAgICAgICAgICAgIGZpbGVFeHRlbnNpb246IHVwbG9hZC5leHRlbnNpb24sXHJcbiAgICAgICAgICAgIGZpbGVOYW1lOiB1cGxvYWQubmFtZSxcclxuICAgICAgICAgICAgZmlsZVNpemU6IHVwbG9hZC5zaXplLFxyXG4gICAgICAgICAgICBtaW1lVHlwZTogdXBsb2FkLnR5cGUsXHJcbiAgICAgICAgICAgIG9yZGVyOiB1cGxvYWQub3JkZXJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgR2V0SW1hZ2VCaW5hcnlTcmMoaW1nOiBGaWxlIHwgRmlsZVtdLCBkZWZhdWx0U3JjID0gJycpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbWcpKSB7XHJcbiAgICAgICAgICAgIGlmIChpbWcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGBkYXRhOiR7aW1nWzBdLm1pbWVUeXBlfTtiYXNlNjQsJHtpbWdbMF0uZmlsZUJpbmFyeX1gO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTcmM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGltZyAmJiBpbWcubWltZVR5cGUgJiYgaW1nLmZpbGVCaW5hcnkgPyBgZGF0YToke2ltZy5taW1lVHlwZX07YmFzZTY0LCR7aW1nLmZpbGVCaW5hcnl9YCA6IGRlZmF1bHRTcmM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldFNyY1ByZWZpeChtaW1lVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYGRhdGE6JHttaW1lVHlwZX07YmFzZTY0LGA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IGZpbGVVcGxvYWQoKTogRmlsZVVwbG9hZCB7XHJcbiAgICAvLyAgICAgcmV0dXJuIEZpbGVVcGxvYWQuQnVpbGRGcm9tRmlsZSh0aGlzKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBnZXQgc3JjKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpbGUuR2V0SW1hZ2VCaW5hcnlTcmModGhpcyk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgVHlwZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBidWlsZCB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBlcm11dGF0aW9uPFQ+IHtcclxuICAgIF90aW1lc3RhbXA6IERhdGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG9yZGVyOiBPcmRlcmVkSXRlbTxUPltdKSB7XHJcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wID0gbmV3IERhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmFua3MoKTogT3JkZXJlZEl0ZW08VD5bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JkZXIuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpXHJcbiAgICAgICAgICAgIC5tYXAoKHgsIGluZGV4KSA9PiBPYmplY3QuYXNzaWduKDxPcmRlcmVkSXRlbTxUPj57fSwgeCwgeyByYW5rOiBpbmRleCArIDEgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aW1lc3RhbXAoKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVzdGFtcDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9yZGVyZWRJdGVtPFQ+IHtcclxuICAgIGlkOiBhbnk7XHJcbiAgICBvcmRlcjogbnVtYmVyO1xyXG4gICAgcmFuaz86IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgaXRlbTogVCkge1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3JkZXJpbmc8VD4ge1xyXG5cclxuICAgIHByaXZhdGUgX2hpc3Rvcnk6IFBlcm11dGF0aW9uPFQ+W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9pdGVtczogVFtdLCBwdWJsaWMgY3RvcjogVHlwZUNvbnN0cnVjdG9yPFQ+LCBwdWJsaWMgb3JkZXJLZXk6IHN0cmluZywgcHVibGljIGlkS2V5ID0gJ2lkJykge1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGlzdG9yeSgpOiBQZXJtdXRhdGlvbjxUPltdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faGlzdG9yeTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5zdGFuY2UoKTogVCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmN0b3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbXMoKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXMuc29ydCgoYSwgYikgPT4gdGhpcy5nZXRJdGVtT3JkZXIoYSkgLSB0aGlzLmdldEl0ZW1PcmRlcihiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1heEluZGV4KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQgPT09IDAgPyAwIDogTWF0aC5tYXgoLi4udGhpcy5vcmRlci5tYXAoeCA9PiB4Lm9yZGVyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9yZGVyKCk6IE9yZGVyZWRJdGVtPFQ+W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBlcm11dGF0aW9uLnJhbmtzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwZXJtdXRhdGlvbigpOiBQZXJtdXRhdGlvbjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJtdXRhdGlvbjxUPih0aGlzLml0ZW1zLm1hcChpdGVtID0+IDxPcmRlcmVkSXRlbTxUPj57XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLmdldEl0ZW1JZChpdGVtKSxcclxuICAgICAgICAgICAgb3JkZXI6IHRoaXMuZ2V0SXRlbU9yZGVyKGl0ZW0pXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuZXh0UG9zaXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXhJbmRleCArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShpdGVtOiBUKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZGRJdGVtQXRQb3NpdGlvbihpdGVtLCB0aGlzLm5leHRQb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbUF0UG9zaXRpb24oaXRlbTogVCwgcG9zOiBudW1iZXIpOiBUW10ge1xyXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1JZCA9IHRoaXMuZ2V0SXRlbUlkKGl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5pdGVtcywgYnVpbGQodGhpcy5jdG9yLCBpdGVtLCB7IG9yZGVyOiBwb3MgfSldXHJcbiAgICAgICAgICAgIC5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmRlciA9IHRoaXMuZ2V0SXRlbU9yZGVyKHgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldEl0ZW1JZCh4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAob3JkZXIgPD0gcG9zIHx8IGlkID09PSBuZXdJdGVtSWQpID8geCA6IGJ1aWxkKHRoaXMuY3RvciwgeCwgeyBvcmRlcjogb3JkZXIgKyAxIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhcmNoaXZlKGl0ZW1zPzogVFtdKSB7XHJcbiAgICAgICAgY29uc3QgcGVybXV0YXRpb24gPSBpdGVtcyA/IHRoaXMuZ2V0UGVybXV0YXRpb24oaXRlbXMpIDogdGhpcy5wZXJtdXRhdGlvbjtcclxuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gWy4uLnRoaXMuX2hpc3RvcnksIHBlcm11dGF0aW9uXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJdGVtSWQoaXRlbTogVCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1bdGhpcy5pZEtleV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbU9yZGVyKGl0ZW06IFQpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBpdGVtW3RoaXMub3JkZXJLZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBlcm11dGF0aW9uKGl0ZW1zOiBUW10pOiBQZXJtdXRhdGlvbjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJtdXRhdGlvbihpdGVtcy5tYXAoaXRlbSA9PiA8T3JkZXJlZEl0ZW08VD4+e1xyXG4gICAgICAgICAgICBpZDogdGhpcy5nZXRJdGVtSWQoaXRlbSksXHJcbiAgICAgICAgICAgIG9yZGVyOiB0aGlzLmdldEl0ZW1PcmRlcihpdGVtKVxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKGl0ZW06IFQsIHRvOiBudW1iZXIpOiBUW10ge1xyXG4gICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmdldEl0ZW1PcmRlcihpdGVtKTtcclxuICAgICAgICBjb25zdCBpdGVtSWQgPSB0aGlzLmdldEl0ZW1JZChpdGVtKTtcclxuICAgICAgICBpZiAodG8gPT09IGZyb20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi50aGlzLml0ZW1zXTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRvIDwgZnJvbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmRlciA9IHRoaXMuZ2V0SXRlbU9yZGVyKHgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldEl0ZW1JZCh4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpZCA9PT0gaXRlbUlkID8gYnVpbGQodGhpcy5jdG9yLCB4LCB7IG9yZGVyOiB0byB9KVxyXG4gICAgICAgICAgICAgICAgICAgIDogKG9yZGVyIDwgdG8gfHwgb3JkZXIgPiBmcm9tKSA/IHggOiBidWlsZCh0aGlzLmN0b3IsIHgsIHsgb3JkZXI6IG9yZGVyICsgMSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHsgLy8gdG8gPiBmcm9tXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyID0gdGhpcy5nZXRJdGVtT3JkZXIoeCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SXRlbUlkKHgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkID09PSBpdGVtSWQgPyBidWlsZCh0aGlzLmN0b3IsIHgsIHsgb3JkZXI6IHRvIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiAob3JkZXIgPCBmcm9tIHx8IG9yZGVyID4gdG8pID8geCA6IGJ1aWxkKHRoaXMuY3RvciwgeCwgeyBvcmRlcjogb3JkZXIgLSAxIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZURvd24oaXRlbTogVCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZShpdGVtLCB0aGlzLmdldEl0ZW1PcmRlcihpdGVtKSArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVVcChpdGVtOiBUKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlKGl0ZW0sIHRoaXMuZ2V0SXRlbU9yZGVyKGl0ZW0pIC0gMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlSXRlbShpdGVtOiBUKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVJdGVtQXRQb3NpdGlvbih0aGlzLmdldEl0ZW1PcmRlcihpdGVtKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlSXRlbUF0UG9zaXRpb24ocG9zOiBudW1iZXIpOiBUW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihpdGVtID0+IHRoaXMuZ2V0SXRlbU9yZGVyKGl0ZW0pICE9PSBwb3MpXHJcbiAgICAgICAgICAgIC5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmRlciA9IHRoaXMuZ2V0SXRlbU9yZGVyKHgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyIDwgcG9zID8geCA6IGJ1aWxkKHRoaXMuY3RvciwgeCwgeyBvcmRlcjogb3JkZXIgLSAxIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJdGVtcyhpdGVtczogVFtdKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcmNoaXZlKCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBPdXRwdXQsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIGZvcndhcmRSZWYsXHJcbiAgSW5wdXQsXHJcbiAgT25Jbml0LFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG4gIENoYW5nZURldGVjdG9yUmVmXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcblxyXG5pbXBvcnQgeyBGaWxlVXBsb2FkLCBnZXRSZWFkeVN0YXRlIH0gZnJvbSAnLi9maWxlLXVwbG9hZC5tb2RlbCc7XHJcbmltcG9ydCB7IE9yZGVyaW5nIH0gZnJvbSAnLi4vLi4vc2hhcmVkL29yZGVyaW5nJztcclxuaW1wb3J0IHsgYnVpbGQsIGd1aWQsIGVxdWFscyB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XHJcblxyXG5leHBvcnQgY29uc3QgRklMRV9VUExPQURfQUNDRVNTT1I6IGFueSA9IHtcclxuICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBGaWxlVXBsb2FkQ29tcG9uZW50KSxcclxuICBtdWx0aTogdHJ1ZVxyXG59O1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LWZpbGUtdXBsb2FkJyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZFwiPlxyXG4gIDxkaXYgY2xhc3M9XCJib3hcIiBmeExheW91dD1cInJvd1wiIGZ4TGF5b3V0QWxpZ249XCJjZW50ZXIgZW5kXCI+XHJcbiAgICA8cCBpZD1cImRyYWdkcm9wLW1lc3NhZ2VcIiAqbmdJZj1cInNob3dNdWx0aXBsZVwiPlxyXG4gICAgICA8c3Ryb25nPkNob29zZSBmaWxlczwvc3Ryb25nPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImRyYWduZHJvcFwiPiBvciBkcmFnIHRoZW0gaGVyZTwvc3Bhbj4uXHJcbiAgICA8L3A+XHJcbiAgICA8aW5wdXQgaWQ9XCJmaWxlLXVwbG9hZFwiICpuZ0lmPVwic2hvd011bHRpcGxlXCIgdHlwZT1cImZpbGVcIiAoY2hhbmdlKT1cIm9uSW5wdXRDaGFuZ2UoJGV2ZW50KVwiIFtpZF09XCJpZFwiIG11bHRpcGxlLz5cclxuICAgIDxwIGlkPVwiZHJhZ2Ryb3AtbWVzc2FnZVwiICpuZ0lmPVwiIW11bHRpcGxlXCI+XHJcbiAgICAgIDxzdHJvbmc+Q2hvb3NlIGEgZmlsZTwvc3Ryb25nPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImRyYWduZHJvcFwiPiBvciBkcmFnIGl0IGhlcmU8L3NwYW4+LlxyXG4gICAgPC9wPlxyXG4gICAgPGlucHV0IGlkPVwiZmlsZS11cGxvYWRcIiAqbmdJZj1cIiFtdWx0aXBsZVwiIHR5cGU9XCJmaWxlXCIgKGNoYW5nZSk9XCJvbklucHV0Q2hhbmdlKCRldmVudClcIiBbaWRdPVwiaWRcIiAvPlxyXG4gICAgPGxhYmVsIFtmb3JdPVwiaWRcIiBjbGFzcz1cImN1c3RvbS1maWxlLXVwbG9hZFwiPlxyXG4gICAgICA8ZmlndXJlPlxyXG4gICAgICAgIDxtYXQtaWNvbj5jbG91ZF91cGxvYWQ8L21hdC1pY29uPlxyXG4gICAgICA8L2ZpZ3VyZT5cclxuICAgIDwvbGFiZWw+XHJcbiAgPC9kaXY+XHJcbiAgPGl1LXVwbG9hZHMgKm5nSWY9XCJtdWx0aXBsZVwiIFt1cGxvYWRzXT1cInVwbG9hZHNcIiBbb3JkZXJlZF09XCJvcmRlcmVkXCIgKG1vdmVVcCk9XCJtb3ZlVXAoJGV2ZW50KVwiIChtb3ZlRG93bik9XCJtb3ZlRG93bigkZXZlbnQpXCJcclxuICAgIChyZW1vdmUpPVwicmVtb3ZlKCRldmVudClcIj48L2l1LXVwbG9hZHM+XHJcbiAgPGl1LXVwbG9hZCAqbmdJZj1cInByZXZpZXcgJiYgIW11bHRpcGxlICYmIGhhc1VwbG9hZHNcIiBbdXBsb2FkXT1cImFjdGl2ZUZpbGVcIiBbaGVpZ2h0XT1cIjIwMFwiIChyZW1vdmUpPVwicmVtb3ZlKClcIj48L2l1LXVwbG9hZD5cclxuPC9kaXY+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5maWxlLXVwbG9hZHttYXJnaW46MTBweDtwYWRkaW5nOjEwcHh9LmZpbGUtdXBsb2FkIGlucHV0W3R5cGU9ZmlsZV17d2lkdGg6LjFweDtoZWlnaHQ6LjFweDtvcGFjaXR5OjA7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6LTF9LmZpbGUtdXBsb2FkIC5ib3h7cGFkZGluZzoxMDBweCAyMHB4O21hcmdpbjoxMHB4O2Rpc3BsYXk6ZmxleDtvdXRsaW5lOi13ZWJraXQtZm9jdXMtcmluZy1jb2xvciBhdXRvIDVweDtvdXRsaW5lLW9mZnNldDotMTBweDtwb3NpdGlvbjpyZWxhdGl2ZX0uZmlsZS11cGxvYWQgLmJveCAjZHJhZ2Ryb3AtbWVzc2FnZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NjBweDttYXgtd2lkdGg6ODAlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrO292ZXJmbG93OmhpZGRlbjtmb250LXNpemU6MjRweH0uZmlsZS11cGxvYWQgLmJveCAjZHJhZ2Ryb3AtbWVzc2FnZSBzcGFue2Rpc3BsYXk6aW5saW5lfS5maWxlLXVwbG9hZCAuY3VzdG9tLWZpbGUtdXBsb2Fke2JveC1zaGFkb3c6MCAycHggMXB4IC0xcHggcmdiYSgwLDAsMCwuMiksMCAxcHggMXB4IDAgcmdiYSgwLDAsMCwuMTQpLDAgMXB4IDNweCAwIHJnYmEoMCwwLDAsLjEyKTttYXgtd2lkdGg6ODAlO2ZvbnQtc2l6ZToyMHB4O2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jaztvdmVyZmxvdzpoaWRkZW47cGFkZGluZzoxMHB4IDIwcHg7bWFyZ2luLXRvcDo1MHB4fS5maWxlLXVwbG9hZCAuY3VzdG9tLWZpbGUtdXBsb2FkIGZpZ3VyZXt3aWR0aDo1MHB4O2hlaWdodDo3MHB4O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjMwcHg7bWFyZ2luOjAgYXV0byAxMHB4fS5maWxlLXVwbG9hZCAuY3VzdG9tLWZpbGUtdXBsb2FkIGZpZ3VyZSBtYXQtaWNvbntmb250LXNpemU6NTBweDtoZWlnaHQ6NTBweDt3aWR0aDo1MHB4fS5maWxlLXVwbG9hZCAuY3VzdG9tLWZpbGUtdXBsb2FkIGZpZ3VyZTo6YWZ0ZXIsLmZpbGUtdXBsb2FkIC5jdXN0b20tZmlsZS11cGxvYWQgZmlndXJlOjpiZWZvcmV7d2lkdGg6MDtoZWlnaHQ6MDtjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjB9LmZpbGUtdXBsb2FkIC5jdXN0b20tZmlsZS11cGxvYWQgZmlndXJlOjpiZWZvcmV7Ym9yZGVyLWxlZnQ6MjBweCBzb2xpZCB0cmFuc3BhcmVudH0uZmlsZS11cGxvYWQgLmN1c3RvbS1maWxlLXVwbG9hZCBmaWd1cmU6OmFmdGVye2JvcmRlci1yaWdodDoyMHB4IHNvbGlkIHRyYW5zcGFyZW50fWBdLFxyXG4gIHByb3ZpZGVyczogW0ZJTEVfVVBMT0FEX0FDQ0VTU09SXSxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGaWxlVXBsb2FkQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBDb250cm9sVmFsdWVBY2Nlc3NvciB7XHJcblxyXG4gIEBJbnB1dCgpIGlkID0gYGZpbGVzLSR7Z3VpZCgpfWA7XHJcbiAgQElucHV0KCkgbXVsdGlwbGUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBvcmRlcmVkID0gdHJ1ZTtcclxuICBASW5wdXQoKSBwcmV2aWV3ID0gdHJ1ZTtcclxuICBAT3V0cHV0KCkgdXBsb2FkID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlVXBsb2FkIHwgRmlsZVVwbG9hZFtdPigpO1xyXG4gIHByaXZhdGUgb25Nb2RlbENoYW5nZTogRnVuY3Rpb247XHJcbiAgcHJpdmF0ZSBvblRvdWNoOiBGdW5jdGlvbjtcclxuICBjaGFuZ2VzJDogQmVoYXZpb3JTdWJqZWN0PEZpbGVVcGxvYWQ+ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxGaWxlVXBsb2FkPihuZXcgRmlsZVVwbG9hZCgpKTtcclxuICB2YWx1ZTogRmlsZVVwbG9hZFtdO1xyXG4gIGZvY3VzZWQ6IEZpbGVVcGxvYWRbXTtcclxuICBvcmRlcmluZzogT3JkZXJpbmc8RmlsZVVwbG9hZD4gPSBuZXcgT3JkZXJpbmc8RmlsZVVwbG9hZD4oW10sIEZpbGVVcGxvYWQsICdvcmRlcicsICduYW1lJyk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZikgeyB9XHJcblxyXG4gIGdldCBhY3RpdmVGaWxlKCk6IEZpbGVVcGxvYWQge1xyXG4gICAgcmV0dXJuIHRoaXMuaGFzVXBsb2FkcyA/IHRoaXMudXBsb2Fkc1swXSA6IG5ldyBGaWxlVXBsb2FkKCk7XHJcbiAgfVxyXG5cclxuICBnZXQgaGFzVXBsb2FkcygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnVwbG9hZHMubGVuZ3RoID4gMDtcclxuICB9XHJcblxyXG4gIGdldCBzaG93TXVsdGlwbGUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5wcmV2aWV3ICYmIHRoaXMubXVsdGlwbGVcclxuICB9XHJcblxyXG4gIGdldCB1cGxvYWRzKCk6IEZpbGVVcGxvYWRbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcmRlcmluZy5pdGVtcy5maWx0ZXIodXBsb2FkID0+IHVwbG9hZC5uYW1lICE9PSAnJyk7XHJcbiAgfVxyXG5cclxuICBzZXQgdXBsb2Fkcyh2YWx1ZTogRmlsZVVwbG9hZFtdKSB7XHJcbiAgICB0aGlzLm9yZGVyaW5nLnVwZGF0ZUl0ZW1zKHZhbHVlLmZpbHRlcih1cGxvYWQgPT4gdXBsb2FkLm5hbWUgIT09ICcnKSk7XHJcbiAgICB0aGlzLm9uQ2hhbmdlKHRoaXMudXBsb2Fkcyk7XHJcbiAgfVxyXG5cclxuICBnZXQgb3JkZXJlZFVwbG9hZHMoKTogRmlsZVVwbG9hZFtdIHtcclxuICAgIHJldHVybiB0aGlzLnVwbG9hZHM7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuY2hhbmdlcyQuc3Vic2NyaWJlKHVwbG9hZCA9PiB7XHJcbiAgICAgIHRoaXMub25VcGxvYWQodXBsb2FkKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkKGY6IEZpbGVVcGxvYWQpIHtcclxuICAgIGlmICghdGhpcy5tdWx0aXBsZSAmJiB0aGlzLmhhc1VwbG9hZHMpIHtcclxuICAgICAgdGhpcy5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBsb2FkcyA9IHRoaXMub3JkZXJpbmcuYWRkSXRlbShmKTtcclxuICB9XHJcblxyXG4gIGVtaXQoKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgdGhpcy51cGxvYWQuZW1pdCh0aGlzLnZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnVwbG9hZC5lbWl0KHRoaXMudmFsdWVbMF0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtb3ZlVXAoZjogRmlsZVVwbG9hZCkge1xyXG4gICAgdGhpcy51cGxvYWRzID0gdGhpcy5vcmRlcmluZy5tb3ZlVXAoZik7XHJcbiAgfVxyXG5cclxuICBtb3ZlRG93bihmOiBGaWxlVXBsb2FkKSB7XHJcbiAgICB0aGlzLnVwbG9hZHMgPSB0aGlzLm9yZGVyaW5nLm1vdmVEb3duKGYpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKGY/OiBGaWxlVXBsb2FkKSB7XHJcbiAgICBjb25zdCByZW1vdmVGaWxlID0gZiB8fCB0aGlzLmFjdGl2ZUZpbGU7XHJcbiAgICB0aGlzLnVwbG9hZHMgPSB0aGlzLm9yZGVyaW5nLnJlbW92ZUl0ZW0ocmVtb3ZlRmlsZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoZjogRmlsZVVwbG9hZCkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnVwbG9hZHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbVsnbmFtZSddID09PSBmLm5hbWUpO1xyXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICB0aGlzLmFkZChmKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudXBsb2FkcyA9IHRoaXMudXBsb2Fkcy5tYXAoKHgsIGkpID0+IGkgPT09IGluZGV4ID8gYnVpbGQoRmlsZVVwbG9hZCwgZiwgeyBvcmRlcjogeC5vcmRlciB9KSA6IHgpO1xyXG4gICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5vbk1vZGVsQ2hhbmdlID0gZm47XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub25Ub3VjaCA9IGZuO1xyXG4gIH1cclxuXHJcbiAgd3JpdGVWYWx1ZSh2YWx1ZTogRmlsZVVwbG9hZFtdKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB0aGlzLnVwbG9hZEFsbCh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSh2YWx1ZTogRmlsZVVwbG9hZFtdKSB7XHJcbiAgICBpZiAoIWVxdWFscyh0aGlzLnZhbHVlLCB2YWx1ZSkpIHtcclxuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICBpZiAodmFsdWUuZXZlcnkoeCA9PiB4LnJlYWR5U3RhdGUgPT09ICdET05FJykpIHtcclxuICAgICAgICB0aGlzLmVtaXQoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5vbk1vZGVsQ2hhbmdlKSB7XHJcbiAgICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25JbnB1dENoYW5nZShlOiBhbnkpIHtcclxuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgY29uc3QgZmlsZXMgPSBpbnB1dFsnZmlsZXMnXTtcclxuICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLnNldHVwUmVhZGVyKGZpbGVzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25CbHVyKHZhbHVlOiBGaWxlVXBsb2FkW10pIHtcclxuICAgIHRoaXMuZm9jdXNlZCA9IFtdO1xyXG4gIH1cclxuXHJcbiAgb25Gb2N1cyh2YWx1ZTogRmlsZVVwbG9hZFtdKSB7XHJcbiAgICB0aGlzLmZvY3VzZWQgPSB2YWx1ZTtcclxuICAgIHRoaXMub25Ub3VjaCgpO1xyXG4gIH1cclxuXHJcbiAgb25VcGxvYWQodXBsb2FkOiBGaWxlVXBsb2FkKSB7XHJcbiAgICBjb25zdCBmID0gYnVpbGQoRmlsZVVwbG9hZCwgdXBsb2FkKTtcclxuICAgIHRoaXMudXBkYXRlKGYpO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBSZWFkZXIoZmlsZTogRmlsZSkge1xyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIGNvbnN0IGNoYW5nZXMkID0gdGhpcy5jaGFuZ2VzJDtcclxuICAgIGNvbnN0IHVwbG9hZCA9IGJ1aWxkKEZpbGVVcGxvYWQsIHtcclxuICAgICAgbGFzdE1vZGlmaWVkOiBmaWxlWydsYXN0TW9kaWZpZWQnXSxcclxuICAgICAgbGFzdE1vZGlmaWVkRGF0ZTogZmlsZVsnbGFzdE1vZGlmaWVkRGF0ZSddLFxyXG4gICAgICBuYW1lOiBmaWxlWyduYW1lJ10sXHJcbiAgICAgIHNpemU6IGZpbGVbJ3NpemUnXSxcclxuICAgICAgdHlwZTogZmlsZVsndHlwZSddLFxyXG4gICAgICB3ZWJraXRSZWxhdGl2ZVBhdGg6IGZpbGVbJ3dlYmtpdFJlbGF0aXZlUGF0aCddXHJcbiAgICB9KTtcclxuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZTogYW55KSB7XHJcbiAgICAgIGNvbnN0IHNyYyA9IHJlYWRlci5yZXN1bHQ7XHJcbiAgICAgIGNvbnN0IHJlYWR5U3RhdGUgPSBGaWxlVXBsb2FkLkdldFJlYWR5U3RhdGUocmVhZGVyKTtcclxuICAgICAgY2hhbmdlcyQubmV4dChPYmplY3QuYXNzaWduKHVwbG9hZCwgeyBzcmMsIHJlYWR5U3RhdGUgfSkpO1xyXG4gICAgfTtcclxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgdGhpcy5vblVwbG9hZChidWlsZChGaWxlVXBsb2FkLCB1cGxvYWQsIHsgcmVhZHlTdGF0ZTogRmlsZVVwbG9hZC5HZXRSZWFkeVN0YXRlKHJlYWRlcikgfSkpO1xyXG4gIH1cclxuXHJcbiAgdXBsb2FkQWxsKHVwbG9hZHM6IEZpbGVVcGxvYWRbXSkge1xyXG4gICAgdXBsb2Fkcy5mb3JFYWNoKHVwbG9hZCA9PiB7XHJcbiAgICAgIHRoaXMub25VcGxvYWQodXBsb2FkKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRmlsZVVwbG9hZCB9IGZyb20gJy4uL2ZpbGUtdXBsb2FkLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnaXUtZmlsZS1wcmV2aWV3JyxcbiAgdGVtcGxhdGU6IGA8bWF0LWNhcmQgY2xhc3M9XCJmaWxlLXByZXZpZXdcIiBbc3R5bGUuY3Vyc29yXT1cImN1cnNvclN0eWxlXCI+XG4gIDxkaXYgY2xhc3M9XCJncmFwaGljXCI+XG4gICAgPGltZyAqbmdJZj1cInNob3dJbWFnZVwiIFtzcmNdPVwiZmlsZS5zcmNcIiBbc3R5bGUuaGVpZ2h0XT1cImhlaWdodFwiIFtzdHlsZS53aWR0aF09XCJ3aWR0aFwiPlxuICAgIDxtYXQtaWNvbiAqbmdJZj1cIiFzaG93SW1hZ2VcIiBjbGFzcz1cImljb24tZ3JhcGhpY1wiPnt7IGdyYXBoaWMgfX08L21hdC1pY29uPlxuICA8L2Rpdj5cbiAgPG1hdC1wcm9ncmVzcy1iYXIgbW9kZT1cImluZGV0ZXJtaW5hdGVcIiAqbmdJZj1cImZpbGUubG9hZGluZ1wiPjwvbWF0LXByb2dyZXNzLWJhcj5cbiAgPGRpdiBjbGFzcz1cImZpbGUtaW5mb1wiPlxuICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1uYW1lXCI+e3sgZmlsZS5uYW1lIH19PC9zcGFuPlxuICA8L2Rpdj5cbiAgPG1hdC1pY29uICpuZ0lmPVwic2hvd1VwQXJyb3dcIiBjbGFzcz1cInVwLWFycm93XCIgKGNsaWNrKT1cIm9uTW92ZVVwKClcIj5rZXlib2FyZF9hcnJvd191cDwvbWF0LWljb24+XG4gIDxtYXQtaWNvbiAqbmdJZj1cInNob3dEb3duQXJyb3dcIiBjbGFzcz1cImRvd24tYXJyb3dcIiAoY2xpY2spPVwib25Nb3ZlRG93bigpXCI+a2V5Ym9hcmRfYXJyb3dfZG93bjwvbWF0LWljb24+XG4gIDxtYXQtaWNvbiBjbGFzcz1cInJlbW92ZS11cGxvYWRcIiAoY2xpY2spPVwib25SZW1vdmUoKVwiPmNhbmNlbDwvbWF0LWljb24+XG48L21hdC1jYXJkPlxuYCxcbiAgc3R5bGVzOiBbYC5maWxlLXByZXZpZXd7aGVpZ2h0OjgwcHg7bWFyZ2luOjJweCAwO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXQtY2FyZHtwYWRkaW5nOjB9LmZpbGUtcHJldmlldyBpbWd7bWF4LWhlaWdodDo3MnB4fS5ncmFwaGlje3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTBweDtoZWlnaHQ6NzJweDttYXgtd2lkdGg6MjAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZy1sZWZ0OjIwcHg7b3ZlcmZsb3c6aGlkZGVufS5pY29uLWdyYXBoaWN7Zm9udC1zaXplOjcycHg7aGVpZ2h0OjcycHg7d2lkdGg6NzJweH0ubWF0LXByb2dyZXNzLWJhcntwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjczcHh9LmZpbGUtaW5mb3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjI1MHB4O2hlaWdodDo3MnB4O21heC13aWR0aDozMDBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZmlsZS1uYW1le21hcmdpbjoxOHB4IDZweDtkaXNwbGF5OmlubGluZS1ibG9jaztsaW5lLWhlaWdodDozNnB4O2ZvbnQtc2l6ZToxNnB4O2hlaWdodDozNnB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojMDAwfS5hcnJvdywuZG93bi1hcnJvdywudXAtYXJyb3d7Y3Vyc29yOnBvaW50ZXJ9LnVwLWFycm93e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NnB4O3RvcDowO2ZvbnQtc2l6ZTozNnB4O2hlaWdodDozNnB4O3dpZHRoOjM2cHg7Zm9udC13ZWlnaHQ6NzAwfS5kb3duLWFycm93e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NnB4O3RvcDozNnB4O2ZvbnQtc2l6ZTozNnB4O2hlaWdodDozNnB4O3dpZHRoOjM2cHg7Zm9udC13ZWlnaHQ6NzAwfS5yZW1vdmUtdXBsb2Fke2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOjIwcHg7Zm9udC1zaXplOjQwcHg7aGVpZ2h0OjQwcHg7d2lkdGg6NDBweH0uZG93bi1hcnJvdzpob3ZlciwudXAtYXJyb3c6aG92ZXJ7Y29sb3I6I2ZmZn1gXVxufSlcbmV4cG9ydCBjbGFzcyBGaWxlUHJldmlld0NvbXBvbmVudCB7XG5cbiAgQElucHV0KCkgZmlsZTogRmlsZVVwbG9hZCA9IG5ldyBGaWxlVXBsb2FkKCk7XG4gIEBJbnB1dCgpIGhlaWdodDogbnVtYmVyO1xuICBASW5wdXQoKSB3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoKSBvcmRlcmVkID0gdHJ1ZTtcbiAgQElucHV0KCkgZmlyc3QgPSBmYWxzZTtcbiAgQElucHV0KCkgbGFzdCA9IGZhbHNlO1xuICBAT3V0cHV0KCkgbW92ZVVwID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlVXBsb2FkPigpO1xuICBAT3V0cHV0KCkgbW92ZURvd24gPSBuZXcgRXZlbnRFbWl0dGVyPEZpbGVVcGxvYWQ+KCk7XG4gIEBPdXRwdXQoKSByZW1vdmUgPSBuZXcgRXZlbnRFbWl0dGVyPEZpbGVVcGxvYWQ+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7IH1cblxuICBnZXQgY3Vyc29yU3R5bGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5vcmRlcmVkID8gJ21vdmUnIDogJ2RlZmF1bHQnO1xuICB9XG5cbiAgZ2V0IGdyYXBoaWMoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5maWxlLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiAnY2xvdWRfdXBsb2FkJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmlsZS5pc0ltYWdlKSB7XG4gICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLmZpbGUuZXh0ZW5zaW9uKSB7XG4gICAgICAgIGNhc2UgJ3BkZic6XG4gICAgICAgICAgcmV0dXJuICdwaWN0dXJlX2FzX3BkZic7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdjbG91ZF9kb25lJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgc2hvd0ltYWdlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdyYXBoaWMgPT09ICdpbWFnZSc7XG4gIH1cblxuICBnZXQgc2hvd1VwQXJyb3coKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMub3JkZXJlZCAmJiAhdGhpcy5maXJzdDtcbiAgfVxuXG4gIGdldCBzaG93RG93bkFycm93KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9yZGVyZWQgJiYgIXRoaXMubGFzdDtcbiAgfVxuXG4gIG9uTW92ZVVwKCkge1xuICAgIHRoaXMubW92ZVVwLmVtaXQodGhpcy5maWxlKTtcbiAgfVxuXG4gIG9uTW92ZURvd24oKSB7XG4gICAgdGhpcy5tb3ZlRG93bi5lbWl0KHRoaXMuZmlsZSk7XG4gIH1cblxuICBvblJlbW92ZSgpIHtcbiAgICB0aGlzLnJlbW92ZS5lbWl0KHRoaXMuZmlsZSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRmlsZVVwbG9hZCB9IGZyb20gJy4uL2ZpbGUtdXBsb2FkLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnaXUtdXBsb2FkJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwidXBsb2FkXCIgW3N0eWxlLmhlaWdodF09XCJpbWc/LnN0eWxlPy5oZWlnaHRcIj5cbiAgPGRpdiBjbGFzcz1cImdyYXBoaWNcIiAjaW1nPlxuICAgIDxpbWcgKm5nSWY9XCJzaG93SW1hZ2VcIiBbc3JjXT1cInVwbG9hZC5zcmNcIiBbc3R5bGUubWF4LWhlaWdodC5weF09XCJoZWlnaHRcIiBbc3R5bGUubWF4LXdpZHRoLnB4XT1cIndpZHRoXCI+XG4gICAgPG1hdC1pY29uICpuZ0lmPVwiIXNob3dJbWFnZVwiIGNsYXNzPVwiaWNvbi1ncmFwaGljXCIgW3N0eWxlLm1heC1oZWlnaHQucHhdPVwiaGVpZ2h0XCIgW3N0eWxlLm1heC13aWR0aC5weF09XCJ3aWR0aFwiPnt7IGdyYXBoaWMgfX08L21hdC1pY29uPlxuICAgIDxtYXQtaWNvbiAqbmdJZj1cIiF1cGxvYWQubG9hZGluZ1wiIGNsYXNzPVwicmVtb3ZlLXVwbG9hZFwiIChjbGljayk9XCJvblJlbW92ZSgpXCI+Y2FuY2VsPC9tYXQtaWNvbj5cbiAgPC9kaXY+XG4gIDxtYXQtc3Bpbm5lciBtb2RlPVwiaW5kZXRlcm1pbmF0ZVwiICpuZ0lmPVwidXBsb2FkLmxvYWRpbmdcIj48L21hdC1zcGlubmVyPlxuICA8ZGl2IGNsYXNzPVwiZmlsZS1pbmZvXCIgKm5nSWY9XCIhdXBsb2FkLmxvYWRpbmdcIj5cbiAgICA8c3BhbiBjbGFzcz1cImZpbGUtbmFtZVwiPnt7IHVwbG9hZC5uYW1lIH19PC9zcGFuPlxuICA8L2Rpdj5cbjwvZGl2PlxuYCxcbiAgc3R5bGVzOiBbYC51cGxvYWR7bWF4LWhlaWdodDo0MjBweDttYXgtd2lkdGg6NjAwcHg7bWFyZ2luOjEwcHggMjBweDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXh9LnVwbG9hZCBpbWd7bWF4LWhlaWdodDo0MDBweH0uZ3JhcGhpY3twYWRkaW5nOjAhaW1wb3J0YW50O2Zsb2F0OmxlZnQ7bWFyZ2luOjEwcHg7cG9zaXRpb246cmVsYXRpdmV9Lmljb24tZ3JhcGhpY3tmb250LXNpemU6NzJweDtoZWlnaHQ6NzJweDt3aWR0aDo3MnB4fS5tYXQtcHJvZ3Jlc3MtYmFye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6NzNweH0uZmlsZS1pbmZve2Zsb2F0OnJpZ2h0fS5maWxlLW5hbWV7bWFyZ2luOjE4cHggNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjM2cHg7Zm9udC1zaXplOjIwcHg7aGVpZ2h0OjM2cHg7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwMDB9LnJlbW92ZS11cGxvYWR7Y29sb3I6cmVkO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0Oi0yMHB4O3RvcDotMjBweDtmb250LXNpemU6NDBweDtoZWlnaHQ6NDBweDt3aWR0aDo0MHB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIFVwbG9hZENvbXBvbmVudCB7XG5cbiAgQElucHV0KCkgdXBsb2FkOiBGaWxlVXBsb2FkID0gbmV3IEZpbGVVcGxvYWQoKTtcbiAgQElucHV0KCkgaGVpZ2h0ID0gMjAwO1xuICBASW5wdXQoKSB3aWR0aCA9IDYwMDtcbiAgQE91dHB1dCgpIHJlbW92ZSA9IG5ldyBFdmVudEVtaXR0ZXI8RmlsZVVwbG9hZD4oKTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIGdldCBncmFwaGljKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMudXBsb2FkLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiAnY2xvdWRfdXBsb2FkJztcbiAgICB9IGVsc2UgaWYgKHRoaXMudXBsb2FkLmlzSW1hZ2UpIHtcbiAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKHRoaXMudXBsb2FkLmV4dGVuc2lvbikge1xuICAgICAgICBjYXNlICdwZGYnOlxuICAgICAgICAgIHJldHVybiAncGljdHVyZV9hc19wZGYnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnY2xvdWRfZG9uZSc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IHNob3dJbWFnZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ncmFwaGljID09PSAnaW1hZ2UnO1xuICB9XG5cbiAgb25SZW1vdmUoKSB7XG4gICAgdGhpcy5yZW1vdmUuZW1pdCh0aGlzLnVwbG9hZCk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEZpbGVVcGxvYWQgfSBmcm9tICcuLi9maWxlLXVwbG9hZC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2l1LXVwbG9hZHMnLFxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJ1cGxvYWRzXCIgW3N0eWxlLmhlaWdodF09XCJoZWlnaHRcIiBbc3R5bGUud2lkdGhdPVwid2lkdGhcIj5cbiAgPGl1LWZpbGUtcHJldmlldyAqbmdGb3I9XCJsZXQgdXBsb2FkIG9mIHVwbG9hZHM7IGxldCBmaXJzdCA9IGZpcnN0OyBsZXQgbGFzdCA9IGxhc3Q7XCIgW2ZpbGVdPVwidXBsb2FkXCIgW2ZpcnN0XT1cImZpcnN0XCIgW2xhc3RdPVwibGFzdFwiXG4gICAgW29yZGVyZWRdPVwib3JkZXJlZFwiIChtb3ZlVXApPVwib25Nb3ZlVXAoJGV2ZW50KVwiIChtb3ZlRG93bik9XCJvbk1vdmVEb3duKCRldmVudClcIiAocmVtb3ZlKT1cIm9uUmVtb3ZlKCRldmVudClcIj48L2l1LWZpbGUtcHJldmlldz5cbjwvZGl2PlxuYCxcbiAgc3R5bGVzOiBbYC51cGxvYWRze21heC1oZWlnaHQ6NDIwcHg7bWF4LXdpZHRoOjYwMHB4O292ZXJmbG93LXk6c2Nyb2xsO21hcmdpbjoxMHB4IDIwcHh9LnVwbG9hZHM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgNnB4IHJnYmEoMCwwLDAsLjMpO2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kLWNvbG9yOiM0MjQyNDJ9LnVwbG9hZHM6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjEycHg7YmFja2dyb3VuZC1jb2xvcjojNDI0MjQyfS51cGxvYWRzOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjEwcHg7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMCA2cHggcmdiYSgwLDAsMCwuMyl9LnVwbG9hZHMgLmRyYWdnaW5ne2JhY2tncm91bmQtY29sb3I6IzQyNDI0Mn1gXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgVXBsb2Fkc0NvbXBvbmVudCB7XG5cbiAgQElucHV0KCkgdXBsb2FkczogRmlsZVVwbG9hZFtdID0gW107XG4gIEBJbnB1dCgpIGhlaWdodDogbnVtYmVyO1xuICBASW5wdXQoKSB3aWR0aDogbnVtYmVyO1xuICBASW5wdXQoKSBvcmRlcmVkID0gdHJ1ZTtcbiAgQE91dHB1dCgpIG1vdmVVcCA9IG5ldyBFdmVudEVtaXR0ZXI8RmlsZVVwbG9hZD4oKTtcbiAgQE91dHB1dCgpIG1vdmVEb3duID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlVXBsb2FkPigpO1xuICBAT3V0cHV0KCkgcmVtb3ZlID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlVXBsb2FkPigpO1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgb25Nb3ZlVXAoZjogRmlsZVVwbG9hZCkge1xuICAgIHRoaXMubW92ZVVwLmVtaXQoZik7XG4gIH1cblxuICBvbk1vdmVEb3duKGY6IEZpbGVVcGxvYWQpIHtcbiAgICB0aGlzLm1vdmVEb3duLmVtaXQoZik7XG4gIH1cblxuICBvblJlbW92ZShmOiBGaWxlVXBsb2FkKSB7XG4gICAgdGhpcy5yZW1vdmUuZW1pdChmKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNYXRDYXJkTW9kdWxlLCBNYXRJY29uTW9kdWxlLCBNYXRQcm9ncmVzc0Jhck1vZHVsZSwgTWF0UHJvZ3Jlc3NTcGlubmVyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xyXG5cclxuaW1wb3J0IHsgRmlsZVVwbG9hZENvbXBvbmVudCB9IGZyb20gJy4vZmlsZS11cGxvYWQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgU2hhcmVkTW9kdWxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3NoYXJlZC5tb2R1bGUnO1xyXG5pbXBvcnQgeyBGaWxlUHJldmlld0NvbXBvbmVudCB9IGZyb20gJy4vZmlsZS1wcmV2aWV3L2ZpbGUtcHJldmlldy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBVcGxvYWRDb21wb25lbnQgfSBmcm9tICcuL3VwbG9hZC91cGxvYWQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVXBsb2Fkc0NvbXBvbmVudCB9IGZyb20gJy4vdXBsb2Fkcy91cGxvYWRzLmNvbXBvbmVudCc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIFNoYXJlZE1vZHVsZSxcclxuICAgIE1hdENhcmRNb2R1bGUsXHJcbiAgICBNYXRJY29uTW9kdWxlLFxyXG4gICAgTWF0UHJvZ3Jlc3NCYXJNb2R1bGUsXHJcbiAgICBNYXRQcm9ncmVzc1NwaW5uZXJNb2R1bGUsXHJcbiAgXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIEZpbGVVcGxvYWRDb21wb25lbnQsXHJcbiAgICBGaWxlUHJldmlld0NvbXBvbmVudCxcclxuICAgIFVwbG9hZENvbXBvbmVudCxcclxuICAgIFVwbG9hZHNDb21wb25lbnQsXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBGaWxlVXBsb2FkQ29tcG9uZW50LFxyXG4gICAgRmlsZVByZXZpZXdDb21wb25lbnQsXHJcbiAgICBVcGxvYWRDb21wb25lbnQsXHJcbiAgICBVcGxvYWRzQ29tcG9uZW50LFxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRNb2R1bGUgeyB9XHJcbiIsImltcG9ydCB7IE1ldGFkYXRhLCBEaWN0aW9uYXJ5LCBUeXBlQ29uc3RydWN0b3IgfSBmcm9tICcuL21vZGVscyc7XHJcbmltcG9ydCB7IGFycmF5VW5pb24sIGJ1aWxkLCBpbkFycmF5IH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGVjdGlvbjxUPiB7XHJcbiAgICBhY3RpdmVJZDogbnVtYmVyIHwgc3RyaW5nID0gMDtcclxuICAgIGxhc3RVcGRhdGVkOiBEYXRlO1xyXG4gICAgbWV0YWRhdGE6IE1ldGFkYXRhID0ge307XHJcbiAgICBfY3RvcjogVHlwZUNvbnN0cnVjdG9yPFQ+O1xyXG4gICAgX2l0ZW1zOiBEaWN0aW9uYXJ5PFQ+ID0ge307XHJcblxyXG4gICAgc3RhdGljIEFkZEl0ZW08VD4oc3RhdGU6IERpY3Rpb25hcnk8VD4sIGtleTogbnVtYmVyIHwgc3RyaW5nLCBpdGVtOiBUKTogRGljdGlvbmFyeTxUPiB7XHJcbiAgICAgICAgY29uc3QgbmV3U3RhdGU6IERpY3Rpb25hcnk8VD4gPSB7fTtcclxuICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZSlcclxuICAgICAgICAgICAgLmZvckVhY2goayA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZVtrXSA9IHN0YXRlW2tdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBuZXdTdGF0ZVtrZXldID0gaXRlbTtcclxuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkQ29sbGVjdGlvbjxUPihpdGVtczogVFtdLCBmaW5kQnlLZXkgPSAnaWQnKTogQ29sbGVjdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgZGljdGlvbmFyeTogRGljdGlvbmFyeTxUPiA9IENvbGxlY3Rpb24uQnVpbGRJdGVtcyhpdGVtcywgZmluZEJ5S2V5KTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB7IGl0ZW1zOiBkaWN0aW9uYXJ5IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZERpY3Rpb25hcnlGcm9tQXJyYXk8VD4odmFsdWU6IGFueVtdLCBrZXkgPSAnaWQnKTogRGljdGlvbmFyeTxUPiB7XHJcbiAgICAgICAgY29uc3Qgb2JqOiBEaWN0aW9uYXJ5PFQ+ID0ge307XHJcbiAgICAgICAgdmFsdWUuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgb2JqW2l0ZW1ba2V5XV0gPSBpdGVtO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkRnJvbUFycmF5PFQ+KGl0ZW1zOiBUW10sIGZpbmRCeUtleSA9ICdpZCcpOiBDb2xsZWN0aW9uPFQ+IHtcclxuICAgICAgICBjb25zdCBkaWN0aW9uYXJ5OiBEaWN0aW9uYXJ5PFQ+ID0gQ29sbGVjdGlvbi5CdWlsZEl0ZW1zKGl0ZW1zLCBmaW5kQnlLZXkpO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBDb2xsZWN0aW9uPFQ+KCksIHsgaXRlbXM6IGRpY3Rpb25hcnkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkSXRlbXM8VD4oaXRlbXM6IFRbXSwgZmluZEJ5S2V5ID0gJ2lkJyk6IERpY3Rpb25hcnk8VD4ge1xyXG4gICAgICAgIGNvbnN0IGRpY3Rpb25hcnk6IERpY3Rpb25hcnk8VD4gPSB7fTtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBpdGVtW2ZpbmRCeUtleV07XHJcbiAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XSA9IGl0ZW07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRpY3Rpb25hcnk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbHRlcjxUPihpdGVtOiBULCBwYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtWydtYXRjaGVzJ10pICYmIGluQXJyYXkoaXRlbVsnbWF0Y2hlcyddLCBwYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRmlsdGVyQW5kPFQ+KGl0ZW06IFQsIHBhdGhzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGl0ZW1bJ21hdGNoZXMnXSkgJiYgcGF0aHMuZXZlcnkocGF0aCA9PiBpbkFycmF5KGl0ZW1bJ21hdGNoZXMnXSwgcGF0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGaWx0ZXJPcjxUPihpdGVtOiBULCBwYXRoczogc3RyaW5nW10pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtWydtYXRjaGVzJ10pICYmIHBhdGhzLnNvbWUocGF0aCA9PiBpbkFycmF5KGl0ZW1bJ21hdGNoZXMnXSwgcGF0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBSZW1vdmVJdGVtPFQ+KHN0YXRlOiBEaWN0aW9uYXJ5PFQ+LCBrZXk6IG51bWJlciB8IHN0cmluZyk6IERpY3Rpb25hcnk8VD4ge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlOiBEaWN0aW9uYXJ5PFQ+ID0ge307XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoayA9PiBrICE9PSBrZXkpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGsgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba10gPSBzdGF0ZVtrXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGN0b3I/OiBUeXBlQ29uc3RydWN0b3I8VD4pIHtcclxuICAgICAgICBpZiAoY3Rvcikge1xyXG4gICAgICAgICAgICB0aGlzLmN0b3IgPSBjdG9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aXZlKCk6IFQge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zW3RoaXMuYWN0aXZlSWRdIHx8IDxUPnt9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0b3IgPyBidWlsZCh0aGlzLmN0b3IsIGl0ZW0pIDogaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3RvcigpOiBUeXBlQ29uc3RydWN0b3I8VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjdG9yKHZhbHVlOiBUeXBlQ29uc3RydWN0b3I8VD4pIHtcclxuICAgICAgICB0aGlzLl9jdG9yID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvdW50KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9BcnJheSgpLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVmYXVsdEl0ZW0oKTogVCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3RvciA/IG5ldyB0aGlzLmN0b3IoKSA6IDxUPnt9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbXB0eSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkubGVuZ3RoID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbnN0YW5jZSgpOiBDb2xsZWN0aW9uPFQ+IHtcclxuICAgICAgICBjb25zdCBhY3RpdmVJZCA9IHRoaXMuYWN0aXZlSWQ7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY3RvcjtcclxuICAgICAgICBjb25zdCBsYXN0VXBkYXRlZCA9IHRoaXMubGFzdFVwZGF0ZWQ7XHJcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhO1xyXG4gICAgICAgIC8vIGNvbnN0IGNvbGxlY3Rpb24gPSB0aGlzLmNvbnN0cnVjdG9yKCk7XHJcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uPFQ+KCk7XHJcbiAgICAgICAgY29sbGVjdGlvbi5hY3RpdmVJZCA9IGFjdGl2ZUlkO1xyXG4gICAgICAgIGNvbGxlY3Rpb24uY3RvciA9IGN0b3I7XHJcbiAgICAgICAgY29sbGVjdGlvbi5sYXN0VXBkYXRlZCA9IGxhc3RVcGRhdGVkO1xyXG4gICAgICAgIGNvbGxlY3Rpb24ubWV0YWRhdGEgPSBtZXRhZGF0YTtcclxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbXMoKTogRGljdGlvbmFyeTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBpdGVtcyh2YWx1ZTogRGljdGlvbmFyeTxUPikge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlZCA9IG5ldyBEYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGtleXMoKTogbnVtYmVyW10gfCBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaXRlbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhc0FycmF5KCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9BcnJheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtc0FycmF5KCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICB0b0FycmF5KCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaXRlbXMpLm1hcCgoa2V5OiBudW1iZXIgfCBzdHJpbmcpID0+IDxUPnRoaXMuaXRlbXNba2V5XSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aXZhdGUoaWQ6IG51bWJlciwga2V5OiBzdHJpbmcgPSAnaWQnKTogQ29sbGVjdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zW2lkXSA/IHRoaXMuY29weUl0ZW1zKCkgOiBPYmplY3QuYXNzaWduKHRoaXMuY29weUl0ZW1zKCksIHsgW2lkXTogeyBba2V5XTogaWQgfSB9KTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB0aGlzLCB7IGFjdGl2ZUlkOiBpZCwgaXRlbXMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShpdGVtOiBULCBrZXk/OiBudW1iZXIgfCBzdHJpbmcpOiBDb2xsZWN0aW9uPFQ+IHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuY29weUl0ZW1zKCk7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5jb25zdHJ1Y3RvcigpLCB0aGlzLCB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBPYmplY3QuYXNzaWduKGl0ZW1zLCB7IFtrZXldOiBpdGVtIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbXMoaXRlbXM6IFRbXSwga2V5ID0gJ2lkJyk6IENvbGxlY3Rpb248VD4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1zOiBEaWN0aW9uYXJ5PFQ+ID0ge307XHJcbiAgICAgICAgdGhpcy50b0FycmF5KCkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbmV3SXRlbXNbaXRlbVtrZXldXSA9IGl0ZW07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gbmV3SXRlbXNbaXRlbVtrZXldXSA/IG5ld0l0ZW1zW2l0ZW1ba2V5XV0gOiA8VD57fTtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdNYXRjaGVzID0gZXhpc3RpbmdJdGVtWydtYXRjaGVzJ10gfHwgW107XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld01hdGNoZXMgPSBpdGVtWydtYXRjaGVzJ10gfHwgW107XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBhcnJheVVuaW9uKGV4aXN0aW5nTWF0Y2hlcywgbmV3TWF0Y2hlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSB0aGlzLmJ1aWxkSXRlbShpdGVtLCB7IG1hdGNoZXM6IG1hdGNoZXMgfSk7XHJcbiAgICAgICAgICAgIG5ld0l0ZW1zW2l0ZW1ba2V5XV0gPSB0aGlzLmJ1aWxkSXRlbShleGlzdGluZ0l0ZW0sIG5ld0l0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBuZXdJdGVtcztcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZChpdGVtczogRGljdGlvbmFyeTxUPiwgY3Rvcj86IFR5cGVDb25zdHJ1Y3RvcjxDb2xsZWN0aW9uPFQ+Pik6IENvbGxlY3Rpb248VD4ge1xyXG4gICAgICAgIHJldHVybiBjdG9yID8gYnVpbGQoY3RvciwgeyBpdGVtcyB9KVxyXG4gICAgICAgICAgICA6IDxDb2xsZWN0aW9uPFQ+Pk9iamVjdC5hc3NpZ24odGhpcy5pbnN0YW5jZSwgeyBpdGVtcyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZEl0ZW0oZXhpc3RpbmdJdGVtOiBULCBuZXdJdGVtOiBhbnksIGN0b3I/OiBUeXBlQ29uc3RydWN0b3I8VD4pOiBUIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZyA9IGV4aXN0aW5nSXRlbSB8fCB7fTtcclxuICAgICAgICBjb25zdCBpdGVtID0gY3RvciA/IGJ1aWxkKGN0b3IsIGV4aXN0aW5nLCBuZXdJdGVtKVxyXG4gICAgICAgICAgICA6IHRoaXMuY3RvciA/IGJ1aWxkKHRoaXMuY3RvciwgZXhpc3RpbmcsIG5ld0l0ZW0pXHJcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLCBuZXdJdGVtKTtcclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZEl0ZW1zKGl0ZW1zOiBUW10sIGN0b3I/OiBUeXBlQ29uc3RydWN0b3I8VD4pOiBUW10ge1xyXG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSBjdG9yID8gY3RvciA6IHRoaXMuY3RvcjtcclxuICAgICAgICByZXR1cm4gaXRlbXMubWFwKHggPT4gZmFjdG9yeSA/IGJ1aWxkKGZhY3RvcnksIHgpIDogT2JqZWN0LmFzc2lnbig8VD57fSwgeCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvcHlJdGVtcygpOiBEaWN0aW9uYXJ5PFQ+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pdGVtcylcclxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjY1trZXldID0gdGhpcy5nZXQoa2V5KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoa2V5OiBzdHJpbmcgfCBudW1iZXIpOiBDb2xsZWN0aW9uPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVBdChrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlcihmOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IENvbGxlY3Rpb248VD4ge1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gQ29sbGVjdGlvbi5CdWlsZERpY3Rpb25hcnlGcm9tQXJyYXkodGhpcy50b0FycmF5KCkuZmlsdGVyKGYpKTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB0aGlzLCB7IGl0ZW1zIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlckJ5KGY6IChpdGVtOiBULCBpbmRleD86IG51bWJlcikgPT4gYm9vbGVhbik6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVySXRlbXMoZik7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsdGVySXRlbXMoZjogKGl0ZW06IFQsIGluZGV4PzogbnVtYmVyKSA9PiBib29sZWFuKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuZmlsdGVyKGYpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRCeShmOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFzQXJyYXkuZmluZChmKSB8fCB0aGlzLmRlZmF1bHRJdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChpZDogbnVtYmVyIHwgc3RyaW5nKTogVCB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLml0ZW1zW2lkXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdG9yID8gYnVpbGQodGhpcy5jdG9yLCBleGlzdGluZylcclxuICAgICAgICAgICAgOiBPYmplY3QuYXNzaWduKDxUPnt9LCBleGlzdGluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFwKGY6IChpdGVtOiBUKSA9PiBUKTogQ29sbGVjdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBDb2xsZWN0aW9uLkJ1aWxkRGljdGlvbmFyeUZyb21BcnJheSh0aGlzLnRvQXJyYXkoKS5tYXAoZikpO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBDb2xsZWN0aW9uPFQ+KCksIHRoaXMsIHsgaXRlbXMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcXVlcnkocGF0aDogc3RyaW5nKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuZmlsdGVyKGl0ZW0gPT4gQ29sbGVjdGlvbi5GaWx0ZXIoaXRlbSwgcGF0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHF1ZXJ5QW5kKHBhdGhzOiBzdHJpbmdbXSk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9BcnJheSgpLmZpbHRlcihpdGVtID0+IENvbGxlY3Rpb24uRmlsdGVyQW5kKGl0ZW0sIHBhdGhzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcXVlcnlPcihwYXRoczogc3RyaW5nW10pOiBUW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5maWx0ZXIoaXRlbSA9PiBDb2xsZWN0aW9uLkZpbHRlck9yKGl0ZW0sIHBhdGhzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQXQoa2V5OiBudW1iZXIgfCBzdHJpbmcpOiBDb2xsZWN0aW9uPFQ+IHtcclxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pdGVtcyk7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBDb2xsZWN0aW9uLkJ1aWxkRGljdGlvbmFyeUZyb21BcnJheShrZXlzLmZpbHRlcih4ID0+IHgudG9TdHJpbmcoKSAhPT0ga2V5LnRvU3RyaW5nKCkpLm1hcCh5ID0+IHRoaXMuaXRlbXNbeV0pKTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB0aGlzLCB7IGl0ZW1zIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVJdGVtKGtleTogbnVtYmVyIHwgc3RyaW5nKTogQ29sbGVjdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuY29uc3RydWN0b3IoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5pdGVtcykuZmlsdGVyKGsgPT4gayAhPT0ga2V5KTtcclxuICAgICAgICBrZXlzLmZvckVhY2goKGs6IG51bWJlciB8IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uLml0ZW1zW2tdID0gPFQ+T2JqZWN0LmFzc2lnbih7fSwgdGhpcy5pdGVtc1trXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlSXRlbXMoZmlsdGVyOiAoaXRlbTogVCkgPT4gYm9vbGVhbiwga2V5ID0gJ2lkJykge1xyXG4gICAgICAgIGNvbnN0IGtleXMgPSB0aGlzLnRvQXJyYXkoKS5maWx0ZXIoZmlsdGVyKS5tYXAoeCA9PiB4W2tleV0pO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlS2V5cyhrZXlzKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVLZXlzKGtleXM6IGFueVtdKSB7XHJcbiAgICAgICAga2V5cy5mb3JFYWNoKChrZXk6IG51bWJlciB8IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXBsYWNlKGl0ZW1zQXJyYXk6IFRbXSk6IENvbGxlY3Rpb248VD4ge1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gQ29sbGVjdGlvbi5CdWlsZERpY3Rpb25hcnlGcm9tQXJyYXkodGhpcy5idWlsZEl0ZW1zKGl0ZW1zQXJyYXkpKTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB0aGlzLCB7IGl0ZW1zIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcGxhY2VJdGVtcyhpdGVtczogVFtdLCBmaWx0ZXI/OiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IENvbGxlY3Rpb248VD4ge1xyXG4gICAgICAgIGlmIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZiA9ICh4OiBUKSA9PiAhZmlsdGVyKHgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlSXRlbXMoWy4uLnRoaXMuZmlsdGVySXRlbXMoZiksIC4uLml0ZW1zXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBDb2xsZWN0aW9uPFQ+KCksIHRoaXMsIHsgaXRlbXMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VmFsdWUodmFsdWU6IENvbGxlY3Rpb248VD4pOiBDb2xsZWN0aW9uPFQ+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQ29sbGVjdGlvbjxUPigpLCB0aGlzLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHZhbHVlOiBhbnkgfCBhbnlbXSwgY3Rvcj86IFR5cGVDb25zdHJ1Y3RvcjxUPiwga2V5ID0gJ2lkJyk6IENvbGxlY3Rpb248VD4ge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVJdGVtcyh2YWx1ZSwgY3Rvciwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSXRlbSh2YWx1ZSwgdmFsdWVba2V5XSwgY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSXRlbShpdGVtOiBhbnksIGtleTogbnVtYmVyIHwgc3RyaW5nLCBjdG9yPzogVHlwZUNvbnN0cnVjdG9yPFQ+KTogQ29sbGVjdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmNvcHlJdGVtcygpO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtID0gdGhpcy5idWlsZEl0ZW0oaXRlbXNba2V5XSwgaXRlbSwgY3Rvcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGQoT2JqZWN0LmFzc2lnbihpdGVtcywgeyBba2V5XTogdXBkYXRlZEl0ZW0gfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUl0ZW1zKGl0ZW1zOiBhbnlbXSwgY3Rvcj86IFR5cGVDb25zdHJ1Y3RvcjxUPiwga2V5OiBzdHJpbmcgPSAnaWQnKTogQ29sbGVjdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtcyA9IHRoaXMuY29weUl0ZW1zKCk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEl0ZW1zID0gaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gYWNjW2l0ZW1ba2V5XV07XHJcbiAgICAgICAgICAgIGFjY1tpdGVtW2tleV1dID0gdGhpcy5idWlsZEl0ZW0oZXhpc3RpbmdJdGVtLCBpdGVtLCBjdG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCBleGlzdGluZ0l0ZW1zKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZCh1cGRhdGVkSXRlbXMpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBvcmRlckJ5IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRhdGEtcXVlcnknO1xyXG5cclxuaW1wb3J0IHsgR3JpZENvbXBvbmVudCB9IGZyb20gJy4vZ3JpZC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbGxlY3Rpb24nO1xyXG5pbXBvcnQgeyBEYXRlSGVscGVyIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2RhdGUnO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVGaWx0ZXJEZXNjcmlwdG9yLCBHcm91cGFibGVTZXR0aW5ncywgU29ydERlc2NyaXB0b3IsIFNvcnRTZXR0aW5ncyB9IGZyb20gJy4uLy4uL3NoYXJlZC9rZW5kbyc7XHJcbmltcG9ydCB7IFF1ZXJ5TW9kZWwsIFN0eWxlTW9kZWwgfSBmcm9tICcuLi8uLi9zaGFyZWQvbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkPFQ+IHtcclxuICAgIHF1ZXJ5OiBRdWVyeU1vZGVsPFQ+ID0gbmV3IFF1ZXJ5TW9kZWw8VD4oKTtcclxuICAgIHN0eWxlOiBTdHlsZU1vZGVsID0gbmV3IFN0eWxlTW9kZWwoKTtcclxuXHJcbiAgICBkZXRhaWxSb3dIZWlnaHQ6IG51bWJlcjtcclxuICAgIGZpbHRlcjogQ29tcG9zaXRlRmlsdGVyRGVzY3JpcHRvcjtcclxuICAgIGZpbHRlcmFibGUgPSB0cnVlO1xyXG4gICAgZ3JvdXBhYmxlOiBHcm91cGFibGVTZXR0aW5ncyB8IGJvb2xlYW47XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIHBhZ2VTaXplOiBudW1iZXI7XHJcbiAgICBwYWdlYWJsZTogYW55IHwgYm9vbGVhbjtcclxuICAgIHJvd0hlaWdodDogbnVtYmVyO1xyXG4gICAgc2Nyb2xsYWJsZTogYW55O1xyXG4gICAgc2VsZWN0YWJsZTogYm9vbGVhbjtcclxuICAgIHNraXA6IG51bWJlcjtcclxuICAgIHNvcnRhYmxlOiBTb3J0U2V0dGluZ3MgPSB7IG1vZGU6ICdtdWx0aXBsZScgfTtcclxuICAgIGdyb3VwOiBhbnlbXTtcclxuICAgIHJvd0NsYXNzOiBGdW5jdGlvbjtcclxuICAgIHNvcnQ6IGFueVtdO1xyXG5cclxuICAgIHN0YXRpYyBBcHBseUZpbHRlcihhY2M6IGFueVtdLCBvcGVyYXRvcjogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCB2YWx1ZTogYW55KTogYW55W10ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcclxuICAgICAgICAgICAgY2FzZSAnY29udGFpbnMnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYy5maWx0ZXIocm93ID0+IEdyaWQuQ29udGFpbnMocm93W2ZpZWxkXSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgY2FzZSAnZ3RlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY2MuZmlsdGVyKHJvdyA9PiBHcmlkLk1hdGNoRGF0ZShyb3dbZmllbGRdLCB2YWx1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGQ8VD4oaXRlbXM6IFRbXSk6IEdyaWQ8VD4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKG5ldyBDb2xsZWN0aW9uPFQ+KCksIHsgaXRlbXMgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHcmlkPFQ+KGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZFNvcnQoZmllbGQ6IHN0cmluZywgZGlyOiAnYXNjJyB8ICdkZXNjJyA9ICdhc2MnKTogU29ydERlc2NyaXB0b3Ige1xyXG4gICAgICAgIHJldHVybiA8U29ydERlc2NyaXB0b3I+eyBkaXIsIGZpZWxkIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIENvbnRhaW5zKHN0cjogc3RyaW5nLCBzdWJzdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHN0cikgPT09ICdzdHJpbmcnICYmIHR5cGVvZiAoc3Vic3RyKSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHN1YnN0ci50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbHRlclJvd3Mocm93czogYW55W10sIGZpbHRlcnM6IGFueVtdKTogYW55W10ge1xyXG4gICAgICAgIHJldHVybiBmaWx0ZXJzLnJlZHVjZSgoYWNjLCBmaWx0ZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3BlcmF0b3IgPSBmaWx0ZXJbJ29wZXJhdG9yJ107XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZmlsdGVyWydmaWVsZCddO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZpbHRlclsndmFsdWUnXTtcclxuICAgICAgICAgICAgcmV0dXJuIEdyaWQuQXBwbHlGaWx0ZXIocm93cywgb3BlcmF0b3IsIGZpZWxkLCB2YWx1ZSk7XHJcbiAgICAgICAgfSwgcm93cyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIE1hdGNoRGF0ZShkYXRlMTogRGF0ZSwgZGF0ZTI6IERhdGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Jc1NhbWVEYXkoZGF0ZTEsIGRhdGUyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgUGFnZVJvd3Mocm93czogYW55W10sIHNraXA6IG51bWJlciwgdGFrZTogbnVtYmVyKTogYW55W10ge1xyXG4gICAgICAgIHJldHVybiByb3dzLmZpbHRlcigocm93LCBpbmRleCkgPT4gaW5kZXggPj0gc2tpcCAmJiBpbmRleCA8IHNraXAgKyB0YWtlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU29ydFJvd3Mocm93czogYW55W10sIHNvcnQ6IFNvcnREZXNjcmlwdG9yW10pOiBhbnlbXSB7XHJcbiAgICAgICAgcmV0dXJuIG9yZGVyQnkocm93cywgc29ydCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIGRhdGE6IENvbGxlY3Rpb248VD4pIHtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZ3JpZDogR3JpZENvbXBvbmVudCkge1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBHcmlkQ29sdW1uQ29tcG9uZW50IH0gZnJvbSAnLi9ncmlkLWNvbHVtbi5jb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgUHJvcGVydHlNZXRhZGF0YSwgU3R5bGVNb2RlbCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyaWRDb2x1bW48VD4ge1xyXG5cclxuICAgIHByaXZhdGUgX2NsYXNzOiBzdHJpbmcgfCBzdHJpbmdbXTtcclxuICAgIHByaXZhdGUgX2ZpZWxkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF90aXRsZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBfd2lkdGg6IG51bWJlcjtcclxuXHJcbiAgICBzdHlsZU1vZGVsOiBTdHlsZU1vZGVsID0gbmV3IFN0eWxlTW9kZWwoKTtcclxuICAgIG1ldGFkYXRhOiBQcm9wZXJ0eU1ldGFkYXRhPFQ+O1xyXG4gICAgZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgZWRpdG9yOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlIHwgYm9vbGVhbiA9ICd0ZXh0JztcclxuICAgIGZpbHRlcjogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IGJvb2xlYW4gPSAndGV4dCc7XHJcbiAgICBmaWx0ZXJhYmxlID0gdHJ1ZTtcclxuICAgIGZvb3RlckNsYXNzOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHsgW2tleTogc3RyaW5nXTogYW55IH07XHJcbiAgICBmb290ZXJTdHlsZTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcclxuICAgIGZvcm1hdDogc3RyaW5nO1xyXG4gICAgaGVhZGVyQ2xhc3M6IHN0cmluZyB8IHN0cmluZ1tdIHwgeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcclxuICAgIGhlYWRlclN0eWxlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xyXG4gICAgaGlkZGVuID0gZmFsc2U7XHJcbiAgICBsb2NrZWQgPSBmYWxzZTtcclxuICAgIG1lZGlhOiBzdHJpbmc7XHJcbiAgICBzb3J0YWJsZSA9IHRydWU7XHJcbiAgICBzdHlsZTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHVibGljIGxhYmVsOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLm1ldGFkYXRhID0geyBuYW1lLCBsYWJlbCB9O1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSBsYWJlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2xhc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjbGFzcyh2YWx1ZTogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgICAgICB0aGlzLl9jbGFzcyA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWVsZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maWVsZCA/IHRoaXMuX2ZpZWxkIDogdGhpcy5tZXRhZGF0YS5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBmaWVsZCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fZmllbGQgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdGl0bGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGUgPyB0aGlzLl90aXRsZSA6IHRoaXMubWV0YWRhdGEubGFiZWw7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRpdGxlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGNvbDogR3JpZENvbHVtbkNvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuY2xhc3MgPSBjb2wuY2xhc3M7XHJcbiAgICAgICAgdGhpcy5lZGl0YWJsZSA9IGNvbC5lZGl0YWJsZTtcclxuICAgICAgICB0aGlzLmVkaXRvciA9IGNvbC5lZGl0b3I7XHJcbiAgICAgICAgdGhpcy5maWVsZCA9IGNvbC5maWVsZDtcclxuICAgICAgICB0aGlzLmZpbHRlciA9IGNvbC5maWx0ZXI7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJhYmxlID0gY29sLmZpbHRlcmFibGU7XHJcbiAgICAgICAgdGhpcy5mb290ZXJDbGFzcyA9IGNvbC5mb290ZXJDbGFzcztcclxuICAgICAgICB0aGlzLmZvb3RlclN0eWxlID0gY29sLmZvb3RlclN0eWxlO1xyXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gY29sLmZvcm1hdDtcclxuICAgICAgICB0aGlzLmhlYWRlckNsYXNzID0gY29sLmhlYWRlckNsYXNzO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyU3R5bGUgPSBjb2wuaGVhZGVyU3R5bGU7XHJcbiAgICAgICAgdGhpcy5oaWRkZW4gPSBjb2wuaGlkZGVuO1xyXG4gICAgICAgIHRoaXMubG9ja2VkID0gY29sLmxvY2tlZDtcclxuICAgICAgICB0aGlzLm1lZGlhID0gY29sLm1lZGlhO1xyXG4gICAgICAgIHRoaXMuc29ydGFibGUgPSBjb2wuc29ydGFibGU7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IGNvbC5zdHlsZTtcclxuICAgICAgICB0aGlzLnRpdGxlID0gY29sLnRpdGxlO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjb2wud2lkdGg7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgVGVtcGxhdGVSZWYsIFZpZXdDaGlsZCwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgR3JpZENvbHVtbiB9IGZyb20gJy4vZ3JpZC1jb2x1bW4ubW9kZWwnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdpdS1ncmlkLWNvbHVtbicsXHJcbiAgdGVtcGxhdGU6IGA8a2VuZG8tZ3JpZC1jb2x1bW4gW2ZpZWxkXT1cImNvbEZpZWxkXCIgW3RpdGxlXT1cImNvbFRpdGxlXCIgW3dpZHRoXT1cImNvbFdpZHRoXCIgI2tlbmRvR3JpZENvbHVtbj5cclxuICA8c3BhbiAjY29udGVudD5cclxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cclxuICA8L3NwYW4+XHJcbjwva2VuZG8tZ3JpZC1jb2x1bW4+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYGBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHcmlkQ29sdW1uQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgbW9kZWw6IEdyaWRDb2x1bW48YW55PjtcclxuICBASW5wdXQoKSB0ZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PjtcclxuICBASW5wdXQoKSBjbGFzczogc3RyaW5nIHwgc3RyaW5nW107XHJcbiAgQElucHV0KCkgZWRpdGFibGUgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGVkaXRvcjogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IGJvb2xlYW47XHJcbiAgQElucHV0KCkgZmllbGQgPSAnJztcclxuICBASW5wdXQoKSBmaWx0ZXI6ICd0ZXh0JyB8ICdudW1lcmljJyB8ICdkYXRlJyB8ICdib29sZWFuJyA9ICd0ZXh0JztcclxuICBASW5wdXQoKSBmaWx0ZXJhYmxlID0gdHJ1ZTtcclxuICBASW5wdXQoKSBmb290ZXJDbGFzczogc3RyaW5nIHwgc3RyaW5nW10gfCB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xyXG4gIEBJbnB1dCgpIGZvb3RlclN0eWxlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xyXG4gIEBJbnB1dCgpIGZvcm1hdDogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGhlYWRlckNsYXNzOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHsgW2tleTogc3RyaW5nXTogYW55IH07XHJcbiAgQElucHV0KCkgaGVhZGVyU3R5bGU6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XHJcbiAgQElucHV0KCkgaGlkZGVuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgbG9ja2VkID0gZmFsc2U7XHJcbiAgQElucHV0KCkgbWVkaWE6IHN0cmluZztcclxuICBASW5wdXQoKSBzb3J0YWJsZSA9IHRydWU7XHJcbiAgQElucHV0KCkgc3R5bGU6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XHJcbiAgQElucHV0KCkgdGl0bGU6IHN0cmluZztcclxuICBASW5wdXQoKSB3aWR0aDogbnVtYmVyO1xyXG4gIEBWaWV3Q2hpbGQoJ2NvbnRlbnQnKSBjb250ZW50OiBFbGVtZW50UmVmO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmlldzogVmlld0NvbnRhaW5lclJlZikgeyB9XHJcblxyXG4gIGdldCBjb2xGaWVsZCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMubW9kZWwubWV0YWRhdGEubmFtZTtcclxuICB9XHJcblxyXG4gIGdldCBjb2xUaXRsZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMubW9kZWwudGl0bGU7XHJcbiAgfVxyXG5cclxuICBnZXQgY29sV2lkdGgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLm1vZGVsLndpZHRoO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBBZnRlckNvbnRlbnRJbml0LFxyXG4gIENvbXBvbmVudCxcclxuICBDb250ZW50Q2hpbGRyZW4sXHJcbiAgRWxlbWVudFJlZixcclxuICBJbnB1dCxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25Jbml0LFxyXG4gIFF1ZXJ5TGlzdCxcclxuICBSZW5kZXJlcjIsXHJcbiAgVmlld0NoaWxkLFxyXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXJcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IEdyaWQgfSBmcm9tICcuL2dyaWQubW9kZWwnO1xyXG5pbXBvcnQgeyBHcmlkQ29sdW1uQ29tcG9uZW50IH0gZnJvbSAnLi9ncmlkLWNvbHVtbi9ncmlkLWNvbHVtbi5jb21wb25lbnQnO1xyXG5pbXBvcnQge1xyXG4gIENvbXBvc2l0ZUZpbHRlckRlc2NyaXB0b3IsXHJcbiAgR3JvdXBhYmxlU2V0dGluZ3MsXHJcbiAgU29ydERlc2NyaXB0b3IsXHJcbiAgU29ydFNldHRpbmdzLFxyXG4gIEdyaWREYXRhUmVzdWx0LFxyXG4gIERhdGFTdGF0ZUNoYW5nZUV2ZW50LFxyXG4gIFBhZ2VDaGFuZ2VFdmVudFxyXG59IGZyb20gJy4uLy4uL3NoYXJlZC9rZW5kbyc7XHJcbmltcG9ydCB7IHN0cjJpbnQgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdpdS1ncmlkJyxcclxuICB0ZW1wbGF0ZTogYDxtYXQtY2FyZCBjbGFzcz1cImdyaWQgbWF0LXByaW1hcnlcIiBbY2xhc3MubWF0LWNhcmRdPVwiIWV4cG9ydFwiPlxyXG4gIDxrZW5kby1ncmlkIFtkYXRhXT1cImdyaWREYXRhXCIgW2ZpbHRlcl09XCJmaWx0ZXJcIiBbZmlsdGVyYWJsZV09XCJzaG93RmlsdGVyc1wiIFtncm91cGFibGVdPVwiZ3JvdXBhYmxlXCIgW2hlaWdodF09XCJkeW5hbWljSGVpZ2h0XCJcclxuICAgIFtwYWdlU2l6ZV09XCJwYWdlU2l6ZVwiIFtwYWdlYWJsZV09XCJwYWdlclNldHRpbmdzXCIgW3Jvd0hlaWdodF09XCJyb3dIZWlnaHRcIiBbc2Nyb2xsYWJsZV09XCJzY3JvbGxhYmxlXCIgW3NlbGVjdGFibGVdPVwic2VsZWN0YWJsZVwiXHJcbiAgICBbc2tpcF09XCJza2lwXCIgW3NvcnRhYmxlXT1cInNvcnRhYmxlXCIgW2dyb3VwXT1cImdyb3VwXCIgW3NvcnRdPVwic29ydFwiIChkYXRhU3RhdGVDaGFuZ2UpPVwiZGF0YVN0YXRlQ2hhbmdlKCRldmVudClcIiAja2VuZG9HcmlkSW5zdGFuY2U9XCJrZW5kb0dyaWRcIj5cclxuXHJcbiAgICA8IS0tIFRvb2xiYXIgVGVtcGxhdGUgLS0+XHJcbiAgICA8bmctdGVtcGxhdGUga2VuZG9HcmlkVG9vbGJhclRlbXBsYXRlICpuZ0lmPVwiZXhwb3J0XCI+XHJcbiAgICAgIDxidXR0b24gbWF0LXJhaXNlZC1idXR0b24gY2xhc3M9XCJ0b29sYmFyLWJ1dHRvbiBwZGYtYnV0dG9uXCIga2VuZG9HcmlkUERGQ29tbWFuZD5cclxuICAgICAgICA8bWF0LWljb24+cGljdHVyZV9hc19wZGY8L21hdC1pY29uPkV4cG9ydCB0byBQREY8L2J1dHRvbj5cclxuICAgICAgPGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjbGFzcz1cInRvb2xiYXItYnV0dG9uIGV4Y2VsLWJ1dHRvblwiIChjbGljayk9XCJzYXZlKGV4Y2VsZXhwb3J0KVwiPlxyXG4gICAgICAgIDxtYXQtaWNvbj5pbXBvcnRfZXhwb3J0PC9tYXQtaWNvbj5FeHBvcnQgVG8gRXhjZWw8L2J1dHRvbj5cclxuICAgIDwvbmctdGVtcGxhdGU+XHJcblxyXG4gICAgPCEtLSBHcmlkIENvbHVtbnMgLS0+XHJcbiAgICA8a2VuZG8tZ3JpZC1jb2x1bW4gKm5nRm9yPVwibGV0IGNvbCBvZiBjb2x1bW5zXCIgW2NsYXNzXT1cImNvbC5jbGFzc1wiIFtlZGl0YWJsZV09XCJjb2wuZWRpdGFibGVcIiBbZWRpdG9yXT1cImNvbC5lZGl0b3JcIiBbZmllbGRdPVwiY29sLmNvbEZpZWxkXCJcclxuICAgICAgW2ZpbHRlcl09XCJjb2wuZmlsdGVyXCIgW2ZpbHRlcmFibGVdPVwiY29sLmZpbHRlcmFibGVcIiBbZm9vdGVyQ2xhc3NdPVwiY29sLmZvb3RlckNsYXNzXCIgW2Zvb3RlclN0eWxlXT1cImNvbC5mb290ZXJTdHlsZVwiIFtmb3JtYXRdPVwiY29sLmZvcm1hdFwiXHJcbiAgICAgIFtoZWFkZXJDbGFzc109XCJjb2wuaGVhZGVyQ2xhc3NcIiBbaGVhZGVyU3R5bGVdPVwiY29sLmhlYWRlclN0eWxlXCIgW2hpZGRlbl09XCJjb2wuaGlkZGVuXCIgW2xvY2tlZF09XCJjb2wubG9ja2VkXCIgW21lZGlhXT1cImNvbC5tZWRpYVwiXHJcbiAgICAgIFtzb3J0YWJsZV09XCJjb2wuc29ydGFibGVcIiBbc3R5bGVdPVwiY29sLnN0eWxlXCIgW3RpdGxlXT1cImNvbC5jb2xUaXRsZVwiIFt3aWR0aF09XCJjb2wud2lkdGhcIj5cclxuICAgICAgPG5nLXRlbXBsYXRlICpuZ0lmPVwiY29sLnRlbXBsYXRlUmVmXCIga2VuZG9HcmlkQ2VsbFRlbXBsYXRlIGxldC1kYXRhSXRlbT5cclxuICAgICAgICA8aXUtZ3JpZC1jZWxsIFt0ZW1wbGF0ZVJlZl09XCJjb2wudGVtcGxhdGVSZWZcIiBbZGF0YUl0ZW1dPVwiZGF0YUl0ZW1cIj48L2l1LWdyaWQtY2VsbD5cclxuICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIDwva2VuZG8tZ3JpZC1jb2x1bW4+XHJcblxyXG4gICAgPCEtLSBFeHBvcnQgdG8gUERGIC0tPlxyXG4gICAgPGtlbmRvLWdyaWQtcGRmICpuZ0lmPVwiZXhwb3J0XCIgW2ZpbGVOYW1lXT1cInBkZkZpbGVOYW1lXCIgW2FsbFBhZ2VzXT1cInRydWVcIiBwYXBlclNpemU9XCJBNFwiIFtyZXBlYXRIZWFkZXJzXT1cInRydWVcIiBbbGFuZHNjYXBlXT1cInRydWVcIj5cclxuICAgICAgPGtlbmRvLWdyaWQtcGRmLW1hcmdpbiB0b3A9XCIyY21cIiBsZWZ0PVwiMWNtXCIgcmlnaHQ9XCIxY21cIiBib3R0b209XCIyY21cIj48L2tlbmRvLWdyaWQtcGRmLW1hcmdpbj5cclxuICAgICAgPG5nLXRlbXBsYXRlIGtlbmRvR3JpZFBERlRlbXBsYXRlIGxldC1wYWdlTnVtPVwicGFnZU51bVwiIGxldC10b3RhbFBhZ2VzPVwidG90YWxQYWdlc1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYWdlLXRlbXBsYXRlXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbG9hdDogcmlnaHRcIj5QYWdlIHt7IHBhZ2VOdW0gfX0gb2Yge3sgdG90YWxQYWdlcyB9fTwvZGl2PlxyXG4gICAgICAgICAgICB7eyBwZGZIZWFkZXIgfX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxyXG4gICAgICAgICAgICBQYWdlIHt7IHBhZ2VOdW0gfX0gb2Yge3sgdG90YWxQYWdlcyB9fVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICA8L2tlbmRvLWdyaWQtcGRmPlxyXG5cclxuICAgIDwhLS0gRXhwb3J0IHRvIEV4Y2VsIC0tPlxyXG4gICAgPGtlbmRvLWV4Y2VsZXhwb3J0IFtkYXRhXT1cImFjdGl2ZVJvd3NcIiBbZmlsZU5hbWVdPVwiZXhjZWxGaWxlTmFtZVwiIFtmaWx0ZXJhYmxlXT1cInRydWVcIiAjZXhjZWxleHBvcnQ+XHJcbiAgICAgIDxrZW5kby1leGNlbGV4cG9ydC1jb2x1bW4gKm5nRm9yPVwibGV0IGNvbCBvZiBjb2x1bW5zXCIgW2ZpZWxkXT1cImNvbC5jb2xGaWVsZFwiIFt0aXRsZV09XCJjb2wuY29sVGl0bGVcIj5cclxuICAgICAgPC9rZW5kby1leGNlbGV4cG9ydC1jb2x1bW4+XHJcbiAgICA8L2tlbmRvLWV4Y2VsZXhwb3J0PlxyXG5cclxuICA8L2tlbmRvLWdyaWQ+XHJcbjwvbWF0LWNhcmQ+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5tYXQtY2FyZC5ncmlke3BhZGRpbmc6MH0uZ3JpZCAuay1ncmlkLWhlYWRlcntwYWRkaW5nLXJpZ2h0OjEzcHh9LmdyaWQgdGguay1ncmlkLWhlYWRlcjpmaXJzdC1jaGlsZHtwYWRkaW5nLWxlZnQ6NnB4fS5ncmlkIC5tYXQtcmFpc2VkLWJ1dHRvbntjb2xvcjojZmZmfS5rLWdyaWQtaGVhZGVyIC5rLWhlYWRlcj4uay1saW5re2ZvbnQtc2l6ZToxNnB4O3BhZGRpbmc6MnB4IDEycHh9LmstZ3JpZCB0ZHtib3JkZXI6bm9uZTtwYWRkaW5nOjZweCAxMnB4fS5rLXdpZGdldHtib3JkZXI6bm9uZX0uay1maWx0ZXItcm93PnRoe3BhZGRpbmc6NHB4O21heC13aWR0aDoxOTBweDtib3JkZXItd2lkdGg6MCAwIDFweCAxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkfS5rLWlucHV0LmstdGV4dGJveCwuay10ZXh0Ym94e2hlaWdodDpjYWxjKDFlbSArICg0cHggKiAyKSArICgxcHggKiAyKSkhaW1wb3J0YW50O21pbi13aWR0aDo4MHB4fS5rLWZpbHRlcmNlbGwgLmstZmlsdGVyY2VsbC13cmFwcGVyLC5rLWZpbHRlcmNlbGw+c3BhbntwYWRkaW5nLXJpZ2h0OmNhbGMoMS41ZW0gKyA4cHggKyAycHggKyA0cHgpfS5rLWZpbHRlcmNlbGwgLmstZHJvcGRvd24tb3BlcmF0b3J7ZGlzcGxheTpub25lfS5rLXBpY2tlci13cmFwLmstc3RhdGUtZGVmYXVsdHtib3JkZXItYm90dG9tLXdpZHRoOjFweH0ucGFnZS10ZW1wbGF0ZXtmb250LWZhbWlseTpcIkRlamFWdSBTYW5zXCIsQXJpYWwsc2Fucy1zZXJpZjtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RvcDowO2xlZnQ6MH0ucGFnZS10ZW1wbGF0ZSAuaGVhZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDozMHB4O2xlZnQ6MzBweDtyaWdodDozMHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM4ODg7Y29sb3I6Izg4OH0ucGFnZS10ZW1wbGF0ZSAuZm9vdGVye3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTozMHB4O2xlZnQ6MzBweDtyaWdodDozMHB4O2JvcmRlci10b3A6MXB4IHNvbGlkICM4ODg7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6Izg4OH0udG9vbGJhci1idXR0b257Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWltYWdlOm5vbmU7dmVydGljYWwtYWxpZ246bWlkZGxlfWBdLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIEdyaWRDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCB7XHJcblxyXG4gIEBJbnB1dCgpIG1vZGVsOiBHcmlkPGFueT47XHJcbiAgQElucHV0KCkgYWR2YW5jZWRGaWx0ZXIgPSBmYWxzZTtcclxuICBASW5wdXQoKSBhdXRvQ2FsY3VsYXRlSGVpZ2h0ID0gdHJ1ZTtcclxuICBASW5wdXQoKSBidXR0b25Db2xvciA9ICcjZmZmJztcclxuICBASW5wdXQoKSBidXR0b25Db3VudCA9IDU7XHJcbiAgQElucHV0KCkgYnV0dG9uQ2xhc3MgPSAndG9vbGJhci1idXR0b24nO1xyXG4gIEBJbnB1dCgpIHBhZ2VySW5mbyA9IHRydWU7XHJcbiAgQElucHV0KCkgcGFnZXJUeXBlOiAnbnVtZXJpYycgfCAnaW5wdXQnID0gJ251bWVyaWMnO1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplcyA9IHRydWU7XHJcbiAgQElucHV0KCkgcHJldmlvdXNOZXh0ID0gdHJ1ZTtcclxuICBASW5wdXQoKSBkZXRhaWxSb3dIZWlnaHQ6IG51bWJlcjtcclxuICBASW5wdXQoKSBleHBvcnQgPSBmYWxzZTtcclxuICBASW5wdXQoKSBmaWxlTmFtZSA9ICdleHBvcnQnO1xyXG4gIEBJbnB1dCgpIGZpbHRlcjogQ29tcG9zaXRlRmlsdGVyRGVzY3JpcHRvciA9IHsgbG9naWM6ICdhbmQnLCBmaWx0ZXJzOiBbXSB9O1xyXG4gIEBJbnB1dCgpIGZpbHRlcmFibGUgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGdyb3VwYWJsZTogR3JvdXBhYmxlU2V0dGluZ3MgfCBib29sZWFuO1xyXG4gIEBJbnB1dCgpIGhlaWdodDogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplID0gMjA7XHJcbiAgQElucHV0KCkgcGFnZWFibGU6IGFueSB8IGJvb2xlYW47XHJcbiAgQElucHV0KCkgcGFnZXI6IGFueSA9IHtcclxuICAgIHBhZ2VTaXplczogWzEwLCAyMCwgNTAsIDEwMF1cclxuICB9O1xyXG4gIEBJbnB1dCgpIHBkZkhlYWRlciA9ICcnO1xyXG4gIEBJbnB1dCgpIHJvd0hlaWdodDogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIHJvd0hlaWdodE1heDogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIHNjcm9sbGFibGU6IGFueTtcclxuICBASW5wdXQoKSBzZWxlY3RhYmxlOiBib29sZWFuO1xyXG4gIEBJbnB1dCgpIHNraXAgPSAwO1xyXG4gIEBJbnB1dCgpIHNvcnRhYmxlOiBTb3J0U2V0dGluZ3MgPSB7IG1vZGU6ICdtdWx0aXBsZScgfTtcclxuICBASW5wdXQoKSBncm91cDogYW55W107XHJcbiAgQElucHV0KCkgcm93Q2xhc3M6IEZ1bmN0aW9uO1xyXG4gIEBJbnB1dCgpIHNvcnQ6IFNvcnREZXNjcmlwdG9yW10gPSBbXTtcclxuICBASW5wdXQoKSB0b3RhbCA9IDA7IC8vIG5lZWQgdGhpcyBmb3IgaW5maW5pdGUgc2Nyb2xsIHdoZW4gbm90IGFsbCByb3dzIGFyZSBsb2FkZWRcclxuICBAT3V0cHV0KCkgY2hhbmdlcyA9IG5ldyBFdmVudEVtaXR0ZXI8RGF0YVN0YXRlQ2hhbmdlRXZlbnQ+KCk7XHJcbiAgQFZpZXdDaGlsZCgna2VuZG9HcmlkSW5zdGFuY2UnKSBncmlkOiBFbGVtZW50UmVmO1xyXG4gIEBDb250ZW50Q2hpbGRyZW4oR3JpZENvbHVtbkNvbXBvbmVudCkgY29udGVudENoaWxkcmVuOiBRdWVyeUxpc3Q8R3JpZENvbHVtbkNvbXBvbmVudD47XHJcbiAgY29sdW1uczogR3JpZENvbHVtbkNvbXBvbmVudFtdID0gW107XHJcbiAgcHJpdmF0ZSBfY29sb3I6IHN0cmluZztcclxuICBwcml2YXRlIGZpbHRlcmluZyA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2VsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgX3JlbmRlcmVyOiBSZW5kZXJlcjIpIHtcclxuICB9XHJcblxyXG4gIC8qKiBUaGUgY29sb3Igb2YgdGhlIHRvb2xiYXIuIENhbiBiZSBwcmltYXJ5LCBhY2NlbnQsIG9yIHdhcm4uICovXHJcbiAgQElucHV0KClcclxuICBnZXQgY29sb3IoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLl9jb2xvcjtcclxuICB9XHJcblxyXG4gIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl91cGRhdGVDb2xvcih2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF91cGRhdGVDb2xvcihuZXdDb2xvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9zZXRFbGVtZW50Q29sb3IodGhpcy5fY29sb3IsIGZhbHNlKTtcclxuICAgIHRoaXMuX3NldEVsZW1lbnRDb2xvcihuZXdDb2xvciwgdHJ1ZSk7XHJcbiAgICB0aGlzLl9jb2xvciA9IG5ld0NvbG9yO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc2V0RWxlbWVudENvbG9yKGNvbG9yOiBzdHJpbmcsIGlzQWRkOiBib29sZWFuKSB7XHJcbiAgICBpZiAoY29sb3IgIT0gbnVsbCAmJiBjb2xvciAhPT0gJycpIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcclxuXHJcbiAgICAgIGlmIChpc0FkZCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKGVsZW1lbnQsIGBtYXQtJHtjb2xvcn1gKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyhlbGVtZW50LCBgbWF0LSR7Y29sb3J9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBhY3RpdmVSb3dzKCk6IGFueVtdIHtcclxuICAgIHJldHVybiB0aGlzLnBhZ2VSb3dzKHRoaXMuZmlsdGVyUm93cyh0aGlzLnNvcnRSb3dzKHRoaXMucm93cykpKTtcclxuICB9XHJcblxyXG4gIGdldCBjb21wdXRlZFJvd0hlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucm93SGVpZ2h0TWF4IHx8IDMyO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGR5bmFtaWNIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmF1dG9DYWxjdWxhdGVIZWlnaHQgPyAodGhpcy5hY3RpdmVSb3dzLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy5udW1lcmljSGVpZ2h0KSA/XHJcbiAgICAgIG51bGwgOiBNYXRoLm1heCg5NiArIHRoaXMuaGVhZGVySGVpZ2h0ICsgdGhpcy5wYWdlckhlaWdodCArIHRoaXMudG9vbGJhckhlaWdodCxcclxuICAgICAgICBNYXRoLm1pbih0aGlzLmNvbXB1dGVkUm93SGVpZ2h0ICogdGhpcy5hY3RpdmVSb3dzLmxlbmd0aCArIHRoaXMuaGVhZGVySGVpZ2h0ICsgdGhpcy5wYWdlckhlaWdodCArIHRoaXMudG9vbGJhckhlaWdodCwgdGhpcy5udW1lcmljSGVpZ2h0KSlcclxuICAgICAgOiB0aGlzLm51bWVyaWNIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBnZXQgZXhjZWxGaWxlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAke3RoaXMuZmlsZU5hbWV9Lnhsc3hgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGZpbHRlcnMoKTogYW55W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyLmZpbHRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXQgZ3JpZERhdGEoKTogR3JpZERhdGFSZXN1bHQge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogdGhpcy5hY3RpdmVSb3dzLFxyXG4gICAgICB0b3RhbDogdGhpcy50b3RhbCA/IHRoaXMudG90YWwgOiB0aGlzLnJvd3MubGVuZ3RoXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGhlYWRlckhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyYWJsZSA/IDY2IDogMjc7XHJcbiAgfVxyXG5cclxuICBnZXQgbnVtZXJpY0hlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHR5cGVvZiAodGhpcy5oZWlnaHQpID09PSAnc3RyaW5nJyA/IHN0cjJpbnQodGhpcy5oZWlnaHQpIDogdGhpcy5oZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBnZXQgcGFnZXJIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBhZ2VhYmxlID8gNDYgOiAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBhZ2VyU2V0dGluZ3MoKTogYW55IHtcclxuICAgIHJldHVybiB0aGlzLnBhZ2VyO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHBkZkZpbGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5maWxlTmFtZX0ucGRmYDtcclxuICB9XHJcblxyXG4gIGdldCByb3dzKCk6IGFueVtdIHtcclxuICAgIHJldHVybiB0aGlzLm1vZGVsLmRhdGEgPyB0aGlzLm1vZGVsLmRhdGEudG9BcnJheSgpIDogW107XHJcbiAgfVxyXG5cclxuICBnZXQgc2hvd0ZpbHRlcnMoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJhYmxlICYmIHRoaXMuZmlsdGVyaW5nO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRha2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBhZ2VTaXplIHx8IDIwO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvb2xiYXJIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmV4cG9ydCA/IDUzIDogMDtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKCkge1xyXG4gICAgdGhpcy5tb2RlbC51cGRhdGUodGhpcyk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMucGFnZWFibGUgPSB7XHJcbiAgICAgIGJ1dHRvbkNvdW50OiB0aGlzLmJ1dHRvbkNvdW50LFxyXG4gICAgICBpbmZvOiB0aGlzLnBhZ2VySW5mbyxcclxuICAgICAgdHlwZTogdGhpcy5wYWdlclR5cGUsXHJcbiAgICAgIHBhZ2VTaXplczogdGhpcy5wYWdlU2l6ZXMsXHJcbiAgICAgIHByZXZpb3VzTmV4dDogdGhpcy5wcmV2aW91c05leHRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XHJcbiAgICB0aGlzLmNvbnRlbnRDaGlsZHJlbi5mb3JFYWNoKHggPT4ge1xyXG4gICAgICB0aGlzLmNvbHVtbnMucHVzaCh4KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGF0YVN0YXRlQ2hhbmdlKHN0YXRlOiBEYXRhU3RhdGVDaGFuZ2VFdmVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5maWx0ZXJDaGFuZ2Uoc3RhdGVbJ2ZpbHRlciddKTtcclxuICAgIHRoaXMucGFnZUNoYW5nZSh7IHNraXA6IHN0YXRlWydza2lwJ10sIHRha2U6IHN0YXRlWyd0YWtlJ10gfSk7XHJcbiAgICB0aGlzLnNvcnRDaGFuZ2Uoc3RhdGVbJ3NvcnQnXSk7XHJcbiAgICB0aGlzLmNoYW5nZXMuZW1pdChzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBzYXZlKGNvbXBvbmVudCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbXBvbmVudC53b3JrYm9va09wdGlvbnMoKTtcclxuICAgIGNvbnN0IHJvd3MgPSBvcHRpb25zLnNoZWV0c1swXS5yb3dzO1xyXG5cclxuICAgIGxldCBhbHRJZHggPSAwO1xyXG4gICAgcm93cy5mb3JFYWNoKChyb3cpID0+IHtcclxuICAgICAgaWYgKHJvdy50eXBlID09PSAnZGF0YScpIHtcclxuICAgICAgICBpZiAoYWx0SWR4ICUgMiAhPT0gMCkge1xyXG4gICAgICAgICAgcm93LmNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcclxuICAgICAgICAgICAgY2VsbC5iYWNrZ3JvdW5kID0gJyNhYWJiY2MnO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFsdElkeCsrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb21wb25lbnQuc2F2ZShvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBmaWx0ZXJDaGFuZ2UoZTogQ29tcG9zaXRlRmlsdGVyRGVzY3JpcHRvcikge1xyXG4gICAgdGhpcy5maWx0ZXIgPSBlO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHBhZ2VDaGFuZ2UoZTogUGFnZUNoYW5nZUV2ZW50KTogdm9pZCB7XHJcbiAgICB0aGlzLnNraXAgPSBlLnNraXA7XHJcbiAgICB0aGlzLnBhZ2VTaXplID0gc3RyMmludChlLnRha2UudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc29ydENoYW5nZShzb3J0OiBTb3J0RGVzY3JpcHRvcltdKTogdm9pZCB7XHJcbiAgICB0aGlzLnNvcnQgPSBzb3J0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBmaWx0ZXJSb3dzKHJvd3M6IGFueVtdKTogYW55W10ge1xyXG4gICAgcmV0dXJuIEdyaWQuRmlsdGVyUm93cyhyb3dzLCB0aGlzLmZpbHRlcnMpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHBhZ2VSb3dzKHJvd3M6IGFueVtdKTogYW55W10ge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZXIgPyBHcmlkLlBhZ2VSb3dzKHJvd3MsIHRoaXMuc2tpcCwgdGhpcy50YWtlKSA6IHJvd3M7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc29ydFJvd3Mocm93czogYW55W10pOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gR3JpZC5Tb3J0Um93cyhyb3dzLCB0aGlzLnNvcnQpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBWaWV3Q29udGFpbmVyUmVmLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdpdS1ncmlkLWNlbGwnLFxuICB0ZW1wbGF0ZTogYDxkaXY+PC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIEdyaWRDZWxsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKSBkYXRhSXRlbTogYW55O1xuICBASW5wdXQoKSB0ZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYpIHtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMudmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy50ZW1wbGF0ZVJlZiwgdGhpcy5kYXRhSXRlbSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgR3JpZCB9IGZyb20gJy4uL2dyaWQubW9kZWwnO1xyXG5pbXBvcnQgeyBHcmlkQ29sdW1uIH0gZnJvbSAnLi4vZ3JpZC1jb2x1bW4vZ3JpZC1jb2x1bW4ubW9kZWwnO1xyXG5pbXBvcnQgeyBNZXRhZGF0YSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9tb2RlbHMnO1xyXG5pbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnaXUtc2ltcGxlLWdyaWQnLFxyXG4gIHRlbXBsYXRlOiBgPGl1LWdyaWQgW21vZGVsXT1cImdyaWREYXRhXCIgW2V4cG9ydF09XCJleHBvcnRcIiBbZmlsdGVyYWJsZV09XCJmaWx0ZXJhYmxlXCIgW2ZpbGVOYW1lXT1cImZpbGVOYW1lXCIgW3BhZ2VTaXplXT1cInBhZ2VTaXplXCIgW2hlaWdodF09XCJoZWlnaHRcIj5cclxuICA8aXUtZ3JpZC1jb2x1bW4gKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zXCIgW21vZGVsXT1cImNvbHVtblwiPjwvaXUtZ3JpZC1jb2x1bW4+XHJcbjwvaXUtZ3JpZD5cclxuYCxcclxuICBzdHlsZXM6IFtgYF1cclxufSlcclxuZXhwb3J0IGNsYXNzIFNpbXBsZUdyaWRDb21wb25lbnQge1xyXG5cclxuICBASW5wdXQoKSBkYXRhOiBhbnlbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIGV4cG9ydCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGZpbHRlcmFibGUgPSBmYWxzZTtcclxuICBASW5wdXQoKSBmaWxlTmFtZSA9ICdleHBvcnQnO1xyXG4gIEBJbnB1dCgpIGhlaWdodCA9IDYwMDtcclxuICBASW5wdXQoKSBwYWdlU2l6ZSA9IDMwO1xyXG5cclxuICBfbWV0YWRhdGE6IE1ldGFkYXRhO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBtZXRhZGF0YSh2YWx1ZTogTWV0YWRhdGEpIHtcclxuICAgIHRoaXMuX21ldGFkYXRhID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBnZXQgbWV0YWRhdGEoKTogTWV0YWRhdGEge1xyXG4gICAgcmV0dXJuIHRoaXMuX21ldGFkYXRhID8gdGhpcy5fbWV0YWRhdGEgOiAodG9BcnJheSh0aGlzLmRhdGEpLmxlbmd0aCA+IDAgPyB0b0FycmF5KHRoaXMuZGF0YSlbMF0ubWV0YWRhdGEgOiBudWxsKTtcclxuICB9XHJcblxyXG4gIGdldCBjb2x1bW5zKCk6IEdyaWRDb2x1bW48YW55PltdIHtcclxuICAgIHJldHVybiB0aGlzLm1ldGFkYXRhID8gdGhpcy5jb2x1bW5LZXlzLm1hcChrZXkgPT4gbmV3IEdyaWRDb2x1bW4oa2V5LCB0aGlzLm1ldGFkYXRhW2tleV0uY29sdW1uTGFiZWwpKSA6IFtdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbHVtbktleXMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIHRoaXMubWV0YWRhdGEgPyBPYmplY3Qua2V5cyh0aGlzLm1ldGFkYXRhKS5maWx0ZXIoa2V5ID0+IHRoaXMubWV0YWRhdGFba2V5XS5jb2x1bW5MYWJlbCA/IHRydWUgOiBmYWxzZSkgOiBbXTtcclxuICB9XHJcblxyXG4gIGdldCBjb2x1bW5MYWJlbHMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIHRoaXMubWV0YWRhdGEgPyB0aGlzLmNvbHVtbktleXMubWFwKGtleSA9PiB0aGlzLm1ldGFkYXRhW2tleV0uY29sdW1uTGFiZWwpIDogW107XHJcbiAgfVxyXG5cclxuICBnZXQgZ3JpZERhdGEoKTogR3JpZDxhbnk+IHtcclxuICAgIHJldHVybiBHcmlkLkJ1aWxkPGFueT4odG9BcnJheSh0aGlzLmRhdGEpKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1hdENhcmRNb2R1bGUsIE1hdEljb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XHJcbmltcG9ydCB7IEV4Y2VsRXhwb3J0TW9kdWxlIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWFuZ3VsYXItZXhjZWwtZXhwb3J0JztcclxuaW1wb3J0IHsgR3JpZE1vZHVsZSBhcyBLZW5kb0dyaWRNb2R1bGUsIFBERk1vZHVsZSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1hbmd1bGFyLWdyaWQnO1xyXG5cclxuaW1wb3J0IHsgR3JpZENvbXBvbmVudCB9IGZyb20gJy4vZ3JpZC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHcmlkQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vZ3JpZC1jZWxsL2dyaWQtY2VsbC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHcmlkQ29sdW1uQ29tcG9uZW50IH0gZnJvbSAnLi9ncmlkLWNvbHVtbi9ncmlkLWNvbHVtbi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBTaW1wbGVHcmlkQ29tcG9uZW50IH0gZnJvbSAnLi9zaW1wbGUtZ3JpZC9zaW1wbGUtZ3JpZC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBTaGFyZWRNb2R1bGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvc2hhcmVkLm1vZHVsZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIFNoYXJlZE1vZHVsZSxcclxuICAgIEV4Y2VsRXhwb3J0TW9kdWxlLFxyXG4gICAgS2VuZG9HcmlkTW9kdWxlLFxyXG4gICAgUERGTW9kdWxlLFxyXG4gICAgTWF0Q2FyZE1vZHVsZSxcclxuICAgIE1hdEljb25Nb2R1bGVcclxuICBdLFxyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgR3JpZENvbXBvbmVudCxcclxuICAgIEdyaWRDb2x1bW5Db21wb25lbnQsXHJcbiAgICBTaW1wbGVHcmlkQ29tcG9uZW50LFxyXG4gICAgR3JpZENlbGxDb21wb25lbnQsXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBLZW5kb0dyaWRNb2R1bGUsXHJcbiAgICBHcmlkQ29tcG9uZW50LFxyXG4gICAgR3JpZENvbHVtbkNvbXBvbmVudCxcclxuICAgIFNpbXBsZUdyaWRDb21wb25lbnQsXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3JpZE1vZHVsZSB7IH1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnaXUtbm90LWZvdW5kJyxcbiAgdGVtcGxhdGU6IGA8cD5cbiAgbm90LWZvdW5kIHdvcmtzIVxuPC9wPlxuYCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IE5vdEZvdW5kQ29tcG9uZW50IH0gZnJvbSAnLi9ub3QtZm91bmQuY29tcG9uZW50JztcbmltcG9ydCB7IFNoYXJlZE1vZHVsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9zaGFyZWQubW9kdWxlJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIFNoYXJlZE1vZHVsZSxcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbTm90Rm91bmRDb21wb25lbnRdLFxuICBleHBvcnRzOiBbTm90Rm91bmRDb21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kTW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBJbnB1dCwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tICcuLi8uLi9zaGFyZWQvbW9kZWxzJztcclxuaW1wb3J0IHsgdG9QeCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LXdhbGxwYXBlcicsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwid2FsbHBhcGVyXCIgW3N0eWxlLmhlaWdodC5weF09XCJ3aW5kb3dIZWlnaHRcIiBbc3R5bGUud2lkdGgucHhdPVwid2luZG93V2lkdGhcIj5cclxuICA8aXUtY29sbGFnZSBbaW1hZ2VzXT1cImltYWdlc1wiIFtjYW52YXNIZWlnaHRdPVwiY2FudmFzSGVpZ2h0XCIgW2NhbnZhc1dpZHRoXT1cImNhbnZhc1dpZHRoXCIgW3RvdGFsUm93c109XCJ0b3RhbFJvd3NcIiBbdG90YWxDb2x1bW5zXT1cInRvdGFsQ29sdW1uc1wiXHJcbiAgICBbbWF4Um93c109XCJtYXhSb3dzXCIgW21heENvbHVtbnNdPVwibWF4Q29sdW1uc1wiPjwvaXUtY29sbGFnZT5cclxuPC9kaXY+YCxcclxuICBzdHlsZXM6IFtgLndhbGxwYXBlcntoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfWBdLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBXYWxscGFwZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBJbnB1dCgpIGltYWdlczogSW1hZ2VbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIHdpbmRvd0hlaWdodCA9IDA7XHJcbiAgQElucHV0KCkgd2luZG93V2lkdGggPSAwO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZikgeyB9XHJcblxyXG4gIGdldCBjYW52YXNIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLndpbmRvd1dpZHRoICogMjtcclxuICB9XHJcblxyXG4gIGdldCBjYW52YXNXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMud2luZG93V2lkdGggLSAxMDA7XHJcbiAgfVxyXG5cclxuICBnZXQgZWxlbWVudEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFJlZiAmJiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCAmJiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZSA/XHJcbiAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLmhlaWdodCA6IDA7XHJcbiAgfVxyXG5cclxuICBnZXQgZWxlbWVudEhlaWdodFB4KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdG9QeCh0aGlzLmVsZW1lbnRIZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGVsZW1lbnRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFJlZiAmJiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCAmJiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5zdHlsZSA/XHJcbiAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlLndpZHRoIDogMDtcclxuICB9XHJcblxyXG4gIGdldCBlbGVtZW50V2lkdGhQeCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRvUHgodGhpcy5lbGVtZW50V2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG1heENvbHVtbnMoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG1heFJvd3MoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvdGFsQ29sdW1ucygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDEyO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvdGFsUm93cygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIDI0O1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcblxyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IFdhbGxwYXBlckNvbXBvbmVudCB9IGZyb20gJy4vd2FsbHBhcGVyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENvbGxhZ2VNb2R1bGUgfSBmcm9tICcuLi9jb2xsYWdlL2NvbGxhZ2UubW9kdWxlJztcclxuaW1wb3J0IHsgU2hhcmVkTW9kdWxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3NoYXJlZC5tb2R1bGUnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbXHJcbiAgICBTaGFyZWRNb2R1bGUsXHJcbiAgICBDb2xsYWdlTW9kdWxlLFxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBXYWxscGFwZXJDb21wb25lbnQsXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBXYWxscGFwZXJDb21wb25lbnQsXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgV2FsbHBhcGVyTW9kdWxlIHsgfVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBQaXBlKHtcbiAgbmFtZTogJ2xpc3QnXG59KVxuZXhwb3J0IGNsYXNzIExpc3RQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cbiAgdHJhbnNmb3JtKHZhbHVlOiBhbnlbXSwgYXJncz86IGFueSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUucmVkdWNlKChhY2MsIHgpID0+IGFjYyA/IGAke2FjY30sICR7eH1gIDogeCwgJycpIDogJyc7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AUGlwZSh7XG4gIG5hbWU6ICdwaG9uZSdcbn0pXG5leHBvcnQgY2xhc3MgUGhvbmVOdW1iZXJQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cbiAgdHJhbnNmb3JtKHZhbHVlOiBzdHJpbmcsIGFyZ3M/OiBhbnkpOiBzdHJpbmcge1xuICAgIHJldHVybiB2YWx1ZS5sZW5ndGggIT09IDEwID8gdmFsdWVcbiAgICAgIDogYCgke3ZhbHVlWzBdfSR7dmFsdWVbMV19JHt2YWx1ZVsyXX0pICR7dmFsdWVbM119JHt2YWx1ZVs0XX0ke3ZhbHVlWzVdfS0ke3ZhbHVlWzZdfSR7dmFsdWVbN119JHt2YWx1ZVs4XX0ke3ZhbHVlWzldfWA7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBEYXRlSGVscGVyIH0gZnJvbSAnLi4vc2hhcmVkL2RhdGUnO1xuXG5AUGlwZSh7XG4gIG5hbWU6ICd0aW1lYWdvJ1xufSlcbmV4cG9ydCBjbGFzcyBUaW1lQWdvUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gIHRyYW5zZm9ybSh2YWx1ZTogRGF0ZSwgYXJncz86IGFueSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIERhdGVIZWxwZXIuVGltZUFnbyh2YWx1ZSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AUGlwZSh7XG4gIG5hbWU6ICd5ZXNubydcbn0pXG5leHBvcnQgY2xhc3MgWWVzTm9QaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cbiAgdHJhbnNmb3JtKHZhbHVlOiBib29sZWFuLCBhcmdzPzogYW55KTogJ1llcycgfCAnTm8nIHtcbiAgICByZXR1cm4gdmFsdWUgPyAnWWVzJyA6ICdObyc7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtcclxuICBNYXRCdXR0b25Nb2R1bGUsXHJcbiAgTWF0Q2FyZE1vZHVsZSxcclxuICBNYXRDaGVja2JveE1vZHVsZSxcclxuICBNYXRJbnB1dE1vZHVsZSxcclxuICBNYXRQcm9ncmVzc0Jhck1vZHVsZSxcclxuICBNYXRQcm9ncmVzc1NwaW5uZXJNb2R1bGUsXHJcbiAgTWF0UmFkaW9Nb2R1bGUsXHJcbiAgTWF0U2VsZWN0TW9kdWxlLFxyXG4gIE1hdFRhYnNNb2R1bGUsXHJcbiAgTWF0VG9vbGJhck1vZHVsZVxyXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcclxuaW1wb3J0IHsgTWF0SWNvbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2ljb24nO1xyXG5cclxuaW1wb3J0IHsgTGlicmFyeUNvbXBvbmVudCB9IGZyb20gJy4vbGlicmFyeS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBBY2NvcmRpb25Nb2R1bGUgfSBmcm9tICcuL2NvbXBvbmVudHMvYWNjb3JkaW9uL2FjY29yZGlvbi5tb2R1bGUnO1xyXG5pbXBvcnQgeyBDb2xsYWdlTW9kdWxlIH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbGxhZ2UvY29sbGFnZS5tb2R1bGUnO1xyXG5pbXBvcnQgeyBEYXRlcGlja2VyTW9kdWxlIH0gZnJvbSAnLi9jb21wb25lbnRzL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5tb2R1bGUnO1xyXG5pbXBvcnQgeyBEaWFsb2dNb2R1bGUgfSBmcm9tICcuL2NvbXBvbmVudHMvZGlhbG9nL2RpYWxvZy5tb2R1bGUnO1xyXG5pbXBvcnQgeyBGaWxlVXBsb2FkTW9kdWxlIH0gZnJvbSAnLi9jb21wb25lbnRzL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLm1vZHVsZSc7XHJcbmltcG9ydCB7IEdyaWRNb2R1bGUgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3JpZC9ncmlkLm1vZHVsZSc7XHJcbmltcG9ydCB7IE5vdEZvdW5kTW9kdWxlIH0gZnJvbSAnLi9jb21wb25lbnRzL25vdC1mb3VuZC9ub3QtZm91bmQubW9kdWxlJztcclxuaW1wb3J0IHsgVGlsZU1vZHVsZSB9IGZyb20gJy4vY29tcG9uZW50cy90aWxlL3RpbGUubW9kdWxlJztcclxuaW1wb3J0IHsgV2FsbHBhcGVyTW9kdWxlIH0gZnJvbSAnLi9jb21wb25lbnRzL3dhbGxwYXBlci93YWxscGFwZXIubW9kdWxlJztcclxuaW1wb3J0IHsgTGlzdFBpcGUgfSBmcm9tICcuL3BpcGVzL2xpc3QucGlwZSc7XHJcbmltcG9ydCB7IFBob25lTnVtYmVyUGlwZSB9IGZyb20gJy4vcGlwZXMvcGhvbmUtbnVtYmVyLnBpcGUnO1xyXG5pbXBvcnQgeyBUaW1lQWdvUGlwZSB9IGZyb20gJy4vcGlwZXMvdGltZS1hZ28ucGlwZSc7XHJcbmltcG9ydCB7IFllc05vUGlwZSB9IGZyb20gJy4vcGlwZXMveWVzLW5vLnBpcGUnO1xyXG5pbXBvcnQgeyBTaGFyZWRNb2R1bGUgfSBmcm9tICcuL3NoYXJlZC9zaGFyZWQubW9kdWxlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgU2hhcmVkTW9kdWxlLFxyXG4gICAgQWNjb3JkaW9uTW9kdWxlLFxyXG4gICAgRGF0ZXBpY2tlck1vZHVsZSxcclxuICAgIERpYWxvZ01vZHVsZSxcclxuICAgIEZpbGVVcGxvYWRNb2R1bGUsXHJcbiAgICBHcmlkTW9kdWxlLFxyXG4gICAgTm90Rm91bmRNb2R1bGUsXHJcbiAgICBNYXRCdXR0b25Nb2R1bGUsXHJcbiAgICBNYXRDYXJkTW9kdWxlLFxyXG4gICAgTWF0Q2hlY2tib3hNb2R1bGUsXHJcbiAgICBNYXRJY29uTW9kdWxlLFxyXG4gICAgTWF0SW5wdXRNb2R1bGUsXHJcbiAgICBNYXRQcm9ncmVzc0Jhck1vZHVsZSxcclxuICAgIE1hdFByb2dyZXNzU3Bpbm5lck1vZHVsZSxcclxuICAgIE1hdFJhZGlvTW9kdWxlLFxyXG4gICAgTWF0U2VsZWN0TW9kdWxlLFxyXG4gICAgTWF0VGFic01vZHVsZSxcclxuICAgIE1hdFRvb2xiYXJNb2R1bGUsXHJcbiAgXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIExpYnJhcnlDb21wb25lbnQsXHJcbiAgICBMaXN0UGlwZSxcclxuICAgIFBob25lTnVtYmVyUGlwZSxcclxuICAgIFRpbWVBZ29QaXBlLFxyXG4gICAgWWVzTm9QaXBlLFxyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgTGlicmFyeUNvbXBvbmVudCxcclxuICAgIFNoYXJlZE1vZHVsZSxcclxuICAgIEFjY29yZGlvbk1vZHVsZSxcclxuICAgIENvbGxhZ2VNb2R1bGUsXHJcbiAgICBEYXRlcGlja2VyTW9kdWxlLFxyXG4gICAgRGlhbG9nTW9kdWxlLFxyXG4gICAgRmlsZVVwbG9hZE1vZHVsZSxcclxuICAgIC8vIEdyaWRNb2R1bGUsXHJcbiAgICBMaXN0UGlwZSxcclxuICAgIE5vdEZvdW5kTW9kdWxlLFxyXG4gICAgUGhvbmVOdW1iZXJQaXBlLFxyXG4gICAgVGlsZU1vZHVsZSxcclxuICAgIFRpbWVBZ29QaXBlLFxyXG4gICAgV2FsbHBhcGVyTW9kdWxlLFxyXG4gICAgWWVzTm9QaXBlLFxyXG4gICAgTWF0QnV0dG9uTW9kdWxlLFxyXG4gICAgTWF0Q2FyZE1vZHVsZSxcclxuICAgIE1hdENoZWNrYm94TW9kdWxlLFxyXG4gICAgTWF0SWNvbk1vZHVsZSxcclxuICAgIE1hdElucHV0TW9kdWxlLFxyXG4gICAgTWF0UHJvZ3Jlc3NCYXJNb2R1bGUsXHJcbiAgICBNYXRQcm9ncmVzc1NwaW5uZXJNb2R1bGUsXHJcbiAgICBNYXRSYWRpb01vZHVsZSxcclxuICAgIE1hdFNlbGVjdE1vZHVsZSxcclxuICAgIE1hdFRhYnNNb2R1bGUsXHJcbiAgICBNYXRUb29sYmFyTW9kdWxlLFxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIExpYnJhcnlNb2R1bGUgeyB9XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIENvbW1vbk1vZHVsZVxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uc01vZHVsZSB7IH1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZ1JlZiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuaW1wb3J0IHsgRGlhbG9nQWN0aW9uLCBEaWFsb2dNb2RlbCB9IGZyb20gJy4uLy4uL2RpYWxvZy9kaWFsb2cubW9kZWwnO1xuaW1wb3J0IHsgYnVpbGQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdpdS1lZGl0b3Itd2luZG93JyxcbiAgdGVtcGxhdGU6IGA8c3BhbiBpZD1cImVkaXRvci13aW5kb3dcIj5cbiAgPG1hdC10b29sYmFyIGNvbG9yPVwicHJpbWFyeVwiIG1hdC1kaWFsb2ctdGl0bGU+XG4gICAgPHNwYW4gY2xhc3M9XCJkaWFsb2ctdGl0bGVcIj5cbiAgICAgIHt7IHRpdGxlIH19XG4gICAgICA8YnV0dG9uIG1hdC1idXR0b24gW21hdC1kaWFsb2ctY2xvc2VdPVwibnVsbFwiPlxuICAgICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9zcGFuPlxuICA8L21hdC10b29sYmFyPlxuICA8bWF0LWRpYWxvZy1jb250ZW50PlxuICAgIDxkaXYgaWQ9XCJleHBhbmRlZC1lZGl0b3JcIj5cbiAgICAgIDxpdS1lZGl0b3IgW3ZhbHVlXT1cImRhdGFcIiBbZXhwYW5kZWRdPVwidHJ1ZVwiIFtoZWlnaHRdPVwiMzgwXCIgKGNoYW5nZXMpPVwidXBkYXRlKCRldmVudClcIj48L2l1LWVkaXRvcj5cbiAgICA8L2Rpdj5cbiAgPC9tYXQtZGlhbG9nLWNvbnRlbnQ+XG4gIDxtYXQtZGlhbG9nLWFjdGlvbnM+XG4gICAgPGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiAoY2xpY2spPVwiY2xvc2UoKVwiIFtzdHlsZS53aWR0aF09XCJhY3Rpb25XaWR0aFwiIGNvbG9yPVwiYWNjZW50XCI+U2F2ZSBhbmQgQ2xvc2U8L2J1dHRvbj5cbiAgPC9tYXQtZGlhbG9nLWFjdGlvbnM+XG48L3NwYW4+XG5gLFxuICBzdHlsZXM6IFtgI2VkaXRvci13aW5kb3cgI2V4cGFuZGVkLWVkaXRvcnttYXJnaW46MDtwYWRkaW5nOjA7aGVpZ2h0OjYwdmh9I2VkaXRvci13aW5kb3cgLm1hdC10b29sYmFye21hcmdpbjotMjRweCAtMjRweCAwO3dpZHRoOmNhbGMoMTAwJSArIDQ4cHgpO21pbi1oZWlnaHQ6MzJweCFpbXBvcnRhbnR9I2VkaXRvci13aW5kb3cgLm1hdC10b29sYmFyIC5tYXQtdG9vbGJhci1yb3d7aGVpZ2h0OjQ4cHh9I2VkaXRvci13aW5kb3cgLm1hdC10b29sYmFyIC5kaWFsb2ctdGl0bGV7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OmNhbGMoMTAwJSAtIDhweCk7d2lkdGg6MTAwJTttYXJnaW4tdG9wOjhweH0jZWRpdG9yLXdpbmRvdyAubWF0LXRvb2xiYXIgLmRpYWxvZy10aXRsZSBidXR0b257Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6LTVweDtib3JkZXItcmFkaXVzOjEwMCU7aGVpZ2h0OjQycHg7d2lkdGg6NDJweDttaW4td2lkdGg6MzZweH0jZWRpdG9yLXdpbmRvdyAubWF0LXRvb2xiYXIgLmRpYWxvZy10aXRsZSBidXR0b246aG92ZXIsI2VkaXRvci13aW5kb3cgLm1hdC10b29sYmFyIC5kaWFsb2ctdGl0bGUgYnV0dG9uOmhvdmVyIG1hdC1pY29ue2ZvbnQtd2VpZ2h0OjcwMH0jZWRpdG9yLXdpbmRvdyAubWF0LXRvb2xiYXIgLmRpYWxvZy10aXRsZSBtYXQtaWNvbntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6OXB4O3JpZ2h0OjhweDt6LWluZGV4OjF9I2VkaXRvci13aW5kb3cgLm1hdC10b29sYmFyLXJvd3toZWlnaHQ6NDhweH0jZWRpdG9yLXdpbmRvdyAubWF0LWRpYWxvZy1hY3Rpb25ze21hcmdpbi1sZWZ0Oi0yNHB4O21hcmdpbi1yaWdodDotMjRweDtjb2xvcjojZmZmO3BhZGRpbmc6MH0jZWRpdG9yLXdpbmRvdyAubWF0LWRpYWxvZy1hY3Rpb25zIGJ1dHRvbntwYWRkaW5nOjEycHggMH0jZWRpdG9yLXdpbmRvdyAubWF0LWRpYWxvZy1hY3Rpb25zIC5tYXQtYWNjZW50e2NvbG9yOiNmZmYhaW1wb3J0YW50fWBdLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEVkaXRvcldpbmRvd0NvbXBvbmVudCB7XG5cbiAgYWN0aW9uV2lkdGggPSAnMTAwJSc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBhbnksXG4gICAgcHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPEVkaXRvcldpbmRvd0NvbXBvbmVudD5cbiAgKSB7IH1cblxuICBnZXQgYWN0aW9ucygpOiBEaWFsb2dBY3Rpb25bXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGJ1aWxkKERpYWxvZ0FjdGlvbiwgeyB2YWx1ZTogdGhpcy5kYXRhLCBsYWJlbDogJ1NhdmUgYW5kIENsb3NlJyB9KSxcbiAgICBdO1xuICB9XG5cbiAgZ2V0IGRpYWxvZygpOiBEaWFsb2dNb2RlbCB7XG4gICAgcmV0dXJuIGJ1aWxkKERpYWxvZ01vZGVsLCB7XG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIGFjdGlvbnM6IHRoaXMuYWN0aW9uc1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdFZGl0b3InO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UodGhpcy5kYXRhKTtcbiAgfVxuXG4gIHVwZGF0ZShkYXRhOiBzdHJpbmcpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG5cbn1cbiIsImltcG9ydCB7XHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgQ29tcG9uZW50LFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBJbnB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE91dHB1dCxcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIGZvcndhcmRSZWYsXHJcbiAgQ2hhbmdlRGV0ZWN0b3JSZWZcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNYXREaWFsb2cgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5cclxuaW1wb3J0IHsgRWRpdG9yV2luZG93Q29tcG9uZW50IH0gZnJvbSAnLi9lZGl0b3Itd2luZG93L2VkaXRvci13aW5kb3cuY29tcG9uZW50JztcclxuXHJcbmRlY2xhcmUgdmFyIHRpbnltY2U6IGFueTtcclxuXHJcbmV4cG9ydCBjb25zdCBFRElUT1JfQUNDRVNTT1I6IGFueSA9IHtcclxuICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBFZGl0b3JDb21wb25lbnQpLFxyXG4gIG11bHRpOiB0cnVlXHJcbn07XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LWVkaXRvcicsXHJcbiAgdGVtcGxhdGU6IGA8bWF0LWNhcmQgY2xhc3M9XCJlZGl0b3JcIj5cclxuICA8dGV4dGFyZWEgW2lkXT1cImVsZW1lbnRJZFwiPlxyXG4gICAgPG5nLWNvbnRlbnQgKm5nSWY9XCIhaGFzVmFsdWVcIj48L25nLWNvbnRlbnQ+XHJcbiAgICA8c3BhbiAqbmdJZj1cImhhc1ZhbHVlXCI+e3sgdmFsdWUgfX08L3NwYW4+XHJcbiAgPC90ZXh0YXJlYT5cclxuICA8YnV0dG9uICpuZ0lmPVwic2hvd0V4cGFuZFwiIGlkPVwiZXhwYW5kLWVkaXRvclwiIChjbGljayk9XCJleHBhbmQoJGV2ZW50KVwiIG1hdC1idXR0b24+XHJcbiAgICA8bWF0LWljb24+ZnVsbHNjcmVlbjwvbWF0LWljb24+XHJcbiAgPC9idXR0b24+XHJcbjwvbWF0LWNhcmQ+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5tYXQtY2FyZHtkaXNwbGF5OmJsb2NrO2NsZWFyOmJvdGg7cGFkZGluZzoxcHggM3B4IDFweCAxcHg7Ym9yZGVyLXJhZGl1czoycHh9I2V4cGFuZC1lZGl0b3J7Zm9udC1zaXplOjM2cHg7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6M3B4O3RvcDozcHg7Y29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjttaW4td2lkdGg6MzZweDtsaW5lLWhlaWdodDoyNHB4O3BhZGRpbmc6MnB4fS5tYXQtaWNvbntmb250LXNpemU6MzZweDtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0Oi02cHg7dG9wOi03cHh9YF0sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgcHJvdmlkZXJzOiBbRURJVE9SX0FDQ0VTU09SXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRWRpdG9yQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXQsIENvbnRyb2xWYWx1ZUFjY2Vzc29yIHtcclxuXHJcbiAgQElucHV0KCkgdHlwZTogJ2Jhc2ljJyB8ICdmdWxsJyA9ICdmdWxsJztcclxuICBASW5wdXQoKSBlbGVtZW50SWQ6IHN0cmluZztcclxuICBASW5wdXQoKSBleHBhbmRlZCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGhlaWdodCA9IDEwMDtcclxuICBASW5wdXQoKSBwbHVnaW5zID0gW1xyXG4gICAgJ2Fkdmxpc3QgYXV0b2xpbmsgbGlzdHMgbGluayBpbWFnZSBjaGFybWFwIHByaW50IHByZXZpZXcgaHIgYW5jaG9yIHBhZ2VicmVhaycsXHJcbiAgICAnc2VhcmNocmVwbGFjZSB3b3JkY291bnQgdmlzdWFsYmxvY2tzIHZpc3VhbGNoYXJzIGNvZGUgZnVsbHNjcmVlbicsXHJcbiAgICAnaW5zZXJ0ZGF0ZXRpbWUgbWVkaWEgbm9uYnJlYWtpbmcgc2F2ZSB0YWJsZSBjb250ZXh0bWVudSBkaXJlY3Rpb25hbGl0eScsXHJcbiAgICAnZW1vdGljb25zIHRlbXBsYXRlIHBhc3RlIHRleHRjb2xvciBjb2xvcnBpY2tlciB0ZXh0cGF0dGVybiBpbWFnZXRvb2xzIHRvYyBoZWxwJ1xyXG4gIF07XHJcbiAgQElucHV0KCkgc2tpblVybCA9ICcvYXNzZXRzL3NraW5zL2xpZ2h0Z3JheS1ncmFkaWVudCc7XHJcbiAgQElucHV0KCkgdGVtcGxhdGVzID0gW1xyXG4gICAgeyB0aXRsZTogJ1Rlc3QgdGVtcGxhdGUgMScsIGNvbnRlbnQ6ICdUZXN0IDEnIH0sXHJcbiAgICB7IHRpdGxlOiAnVGVzdCB0ZW1wbGF0ZSAyJywgY29udGVudDogJ1Rlc3QgMicgfVxyXG4gIF07XHJcbiAgQE91dHB1dCgpIGNoYW5nZXMgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBwcml2YXRlIG9uTW9kZWxDaGFuZ2U6IEZ1bmN0aW9uO1xyXG4gIHByaXZhdGUgb25Ub3VjaDogRnVuY3Rpb247XHJcbiAgX3ZhbHVlOiBzdHJpbmc7XHJcbiAgZm9jdXNlZDogc3RyaW5nO1xyXG4gIGRpYWxvZ1JlZjogU3Vic2NyaXB0aW9uO1xyXG4gIGVkaXRvclJlZjogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGlhbG9nOiBNYXREaWFsb2csIHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZikgeyB9XHJcblxyXG4gIEBJbnB1dCgpIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgdGhpcy5fdmFsdWUgPSB2YWw7XHJcbiAgICB0aGlzLnNldENvbnRlbnQodGhpcy5fdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHZhbHVlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGJhc2ljKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gJ2Jhc2ljJztcclxuICB9XHJcblxyXG4gIGdldCBmdWxsKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gJ2Z1bGwnO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbmZpZygpOiBhbnkge1xyXG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcclxuICAgICAgY2FzZSAnYmFzaWMnOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ0Jhc2ljO1xyXG4gICAgICBjYXNlICdmdWxsJzpcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWdGdWxsO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ0Z1bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgY29uZmlnQmFzaWMoKTogYW55IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgIHNlbGVjdG9yOiAnIycgKyB0aGlzLmVsZW1lbnRJZCxcclxuICAgICAgbWVudWJhcjogZmFsc2UsXHJcbiAgICAgIHNraW5fdXJsOiB0aGlzLnNraW5VcmwsXHJcbiAgICAgIHRoZW1lOiAnbW9kZXJuJyxcclxuICAgICAgcGx1Z2luczogW1xyXG4gICAgICAgICdhZHZsaXN0IGF1dG9saW5rIGxpc3RzIGxpbmsgaW1hZ2UgY2hhcm1hcCBwcmludCBwcmV2aWV3IGFuY2hvcicsXHJcbiAgICAgICAgJ3NlYXJjaHJlcGxhY2UgdmlzdWFsYmxvY2tzIGNvZGUgZnVsbHNjcmVlbicsXHJcbiAgICAgICAgJ2luc2VydGRhdGV0aW1lIG1lZGlhIHRhYmxlIGNvbnRleHRtZW51IHBhc3RlIGNvZGUnXHJcbiAgICAgIF0sXHJcbiAgICAgIHRvb2xiYXI6IGB1bmRvIHJlZG8gfCBpbnNlcnQgfCBzdHlsZXNlbGVjdCB8IGJvbGQgaXRhbGljIHxcclxuICAgICAgIGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeSB8IGJ1bGxpc3QgbnVtbGlzdCBvdXRkZW50IGluZGVudCB8IGxpbmtgLFxyXG4gICAgICBjb250ZW50X2NzczogW1xyXG4gICAgICAgICcvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9TGF0bzozMDAsMzAwaSw0MDAsNDAwaScsXHJcbiAgICAgICAgJy8vd3d3LnRpbnltY2UuY29tL2Nzcy9jb2RlcGVuLm1pbi5jc3MnXHJcbiAgICAgIF0sXHJcbiAgICAgIHNldHVwOiBlZGl0b3IgPT4ge1xyXG4gICAgICAgIHRoaXMuZWRpdG9yUmVmID0gZWRpdG9yO1xyXG4gICAgICAgIGVkaXRvci5vbigna2V5dXAnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICB0aGlzLm9uS2V5dXAoY29udGVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWRpdG9yLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGNvbnRlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVkaXRvci5vbigndmlld2NvbnRlbnRsb2FkZWQnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgZWRpdG9yLnNldENvbnRlbnQoJycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldCBjb25maWdGdWxsKCk6IGFueSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICBzZWxlY3RvcjogJyMnICsgdGhpcy5lbGVtZW50SWQsXHJcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcclxuICAgICAgc2tpbl91cmw6IHRoaXMuc2tpblVybCxcclxuICAgICAgdGVtcGxhdGVzOiB0aGlzLnRlbXBsYXRlcyxcclxuICAgICAgdGhlbWU6ICdtb2Rlcm4nLFxyXG4gICAgICB0b29sYmFyMTogYHVuZG8gcmVkbyB8IGluc2VydCB8IHN0eWxlc2VsZWN0IHwgYm9sZCBpdGFsaWMgfCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnkgfCBidWxsaXN0IG51bWxpc3Qgb3V0ZGVudCBpbmRlbnRgLFxyXG4gICAgICB0b29sYmFyMjogJ3ByaW50IHByZXZpZXcgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgbGluaycsXHJcbiAgICAgIHNldHVwOiBlZGl0b3IgPT4ge1xyXG4gICAgICAgIHRoaXMuZWRpdG9yUmVmID0gZWRpdG9yO1xyXG4gICAgICAgIGVkaXRvci5vbigna2V5dXAnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICB0aGlzLm9uS2V5dXAoY29udGVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWRpdG9yLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGNvbnRlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVkaXRvci5vbigndmlld2NvbnRlbnRsb2FkZWQnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgZWRpdG9yLnNldENvbnRlbnQoJycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBpbWFnZV9hZHZ0YWI6IHRydWUsXHJcbiAgICAgIGNvbnRlbnRfY3NzOiBbXHJcbiAgICAgICAgJy8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1MYXRvOjMwMCwzMDBpLDQwMCw0MDBpJyxcclxuICAgICAgICAnLy93d3cudGlueW1jZS5jb20vY3NzL2NvZGVwZW4ubWluLmNzcydcclxuICAgICAgXVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldCBoYXNWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNob3dFeHBhbmQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mdWxsICYmICF0aGlzLmV4cGFuZGVkO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICB0aW55bWNlLmluaXQodGhpcy5jb25maWcpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aW55bWNlLnJlbW92ZSh0aGlzLmVkaXRvclJlZik7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMudmFsdWUgPSAnJztcclxuICB9XHJcblxyXG4gIGV4cGFuZChlOiBhbnkpIHtcclxuICAgIGlmIChlICYmIGUucHJldmVudERlZmF1bHQpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICBkYXRhOiB0aGlzLmVkaXRvclJlZi5nZXRDb250ZW50KCksXHJcbiAgICAgIHdpZHRoOiAnMTIwMHB4J1xyXG4gICAgfTtcclxuICAgIHRoaXMub3BlbkRpYWxvZyhjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub25Nb2RlbENoYW5nZSA9IGZuO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLm9uVG91Y2ggPSBmbjtcclxuICB9XHJcblxyXG4gIHdyaXRlVmFsdWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgb25DaGFuZ2UodmFsdWU6IHN0cmluZykge1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgdGhpcy5jaGFuZ2VzLmVtaXQodmFsdWUpO1xyXG4gICAgaWYgKHRoaXMub25Nb2RlbENoYW5nZSkge1xyXG4gICAgICB0aGlzLm9uTW9kZWxDaGFuZ2UodmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25VcGRhdGUodmFsdWU6IHN0cmluZykge1xyXG4gICAgdGhpcy5vbkNoYW5nZSh2YWx1ZSk7XHJcbiAgICB0aGlzLnNldENvbnRlbnQodGhpcy52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBvbktleXVwKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMub25DaGFuZ2UodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgb25CbHVyKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZm9jdXNlZCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgb25Gb2N1cyh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmZvY3VzZWQgPSB2YWx1ZTtcclxuICAgIGlmICh0aGlzLm9uVG91Y2gpIHtcclxuICAgICAgdGhpcy5vblRvdWNoKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuRGlhbG9nKGNvbmZpZzogYW55KSB7XHJcbiAgICBjb25zdCBkaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKEVkaXRvcldpbmRvd0NvbXBvbmVudCwgY29uZmlnKTtcclxuICAgIHRoaXMuZGlhbG9nUmVmID0gZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2VEaWFsb2cocmVzdWx0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VEaWFsb2codmFsdWU6IHN0cmluZykge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMub25DaGFuZ2UodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kaWFsb2dSZWYudW5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIHNldENvbnRlbnQodmFsdWU6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMuZWRpdG9yUmVmICYmIHRoaXMuZWRpdG9yUmVmLmdldENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuZWRpdG9yUmVmLmdldENvbnRlbnQoKTtcclxuICAgICAgaWYgKHZhbHVlICYmIGNvbnRlbnQgIT0gdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmVkaXRvclJlZi5zZXRDb250ZW50KHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IE1hdEJ1dHRvbk1vZHVsZSwgTWF0Q2FyZE1vZHVsZSwgTWF0RGlhbG9nTW9kdWxlLCBNYXRJY29uTW9kdWxlLCBNYXRUb29sYmFyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xyXG5cclxuaW1wb3J0IHsgRWRpdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9lZGl0b3IuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRWRpdG9yV2luZG93Q29tcG9uZW50IH0gZnJvbSAnLi9lZGl0b3Itd2luZG93L2VkaXRvci13aW5kb3cuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRGlhbG9nTW9kdWxlIH0gZnJvbSAnLi4vZGlhbG9nL2RpYWxvZy5tb2R1bGUnO1xyXG5pbXBvcnQgeyBTaGFyZWRNb2R1bGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvc2hhcmVkLm1vZHVsZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIFNoYXJlZE1vZHVsZSxcclxuICAgIEZvcm1zTW9kdWxlLFxyXG4gICAgRGlhbG9nTW9kdWxlLFxyXG4gICAgTWF0QnV0dG9uTW9kdWxlLFxyXG4gICAgTWF0Q2FyZE1vZHVsZSxcclxuICAgIE1hdERpYWxvZ01vZHVsZSxcclxuICAgIE1hdEljb25Nb2R1bGUsXHJcbiAgICBNYXRUb29sYmFyTW9kdWxlLFxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBFZGl0b3JDb21wb25lbnQsXHJcbiAgICBFZGl0b3JXaW5kb3dDb21wb25lbnQsXHJcbiAgXSxcclxuICBlbnRyeUNvbXBvbmVudHM6IFtcclxuICAgIEVkaXRvcldpbmRvd0NvbXBvbmVudCxcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIEVkaXRvckNvbXBvbmVudCxcclxuICAgIEVkaXRvcldpbmRvd0NvbXBvbmVudCxcclxuICBdLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRWRpdG9yTW9kdWxlIHsgfVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgVHlwZSwgTW9kdWxlV2l0aFByb3ZpZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRWZmZWN0c01vZHVsZSBhcyBOZ3J4RWZmZWN0c01vZHVsZSB9IGZyb20gJ0BuZ3J4L2VmZmVjdHMnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgTmdyeEVmZmVjdHNNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBFZmZlY3RzTW9kdWxlIHtcblxuICBzdGF0aWMgZm9yRmVhdHVyZShmZWF0dXJlRWZmZWN0czogVHlwZTxhbnk+W10pOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4gTmdyeEVmZmVjdHNNb2R1bGUuZm9yRmVhdHVyZShmZWF0dXJlRWZmZWN0cyk7XG4gIH1cblxuICBzdGF0aWMgZm9yUm9vdChyb290RWZmZWN0czogVHlwZTxhbnk+W10pOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4gTmdyeEVmZmVjdHNNb2R1bGUuZm9yUm9vdChyb290RWZmZWN0cyk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgRXJyb3JPdXRsZXQsIEVycm9yUGF5bG9hZCwgRXJyb3IgfSBmcm9tICcuL2Vycm9ycy5tb2RlbHMnO1xyXG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVycm9yQWN0aW9ucyB7XHJcbiAgICBzdGF0aWMgQUREID0gJ1tFcnJvcl0gQWRkIEVycm9yJztcclxuICAgIHN0YXRpYyBSRU1PVkUgPSAnW0Vycm9yXSBSZW1vdmUgRXJyb3InO1xyXG4gICAgc3RhdGljIEhBTkRMRV9FUlJPUiA9ICdbRXJyb3IgSGFuZGxlcl0gSGFuZGxlIEVycm9yJztcclxuICAgIHN0YXRpYyBUSFJPV19FUlJPUiA9ICdbRXJyb3IgSGFuZGxlcl0gVGhyb3cgRXJyb3InO1xyXG5cclxuICAgIHN0YXRpYyBhZGRBdE91dGxldChlOiBFcnJvciwgb3V0bGV0OiBFcnJvck91dGxldCk6IEFjdGlvbiB7XHJcbiAgICAgICAgbGV0IHBheWxvYWQ6IEVycm9yUGF5bG9hZCA9IHtcclxuICAgICAgICAgICAga2V5OiBvdXRsZXQua2V5LFxyXG4gICAgICAgICAgICBlcnJvcjogb3V0bGV0LmhhbmRsZXIgPyBvdXRsZXQuaGFuZGxlcihlKSA6IGVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFcnJvckFjdGlvbnMuYWRkKHBheWxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRFcnJvcihrZXk6IHN0cmluZywgZTogRXJyb3IpOiBBY3Rpb24ge1xyXG4gICAgICAgIGxldCBwYXlsb2FkOiBFcnJvclBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICBlcnJvcjogZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEVycm9yQWN0aW9ucy5hZGQocGF5bG9hZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZChwYXlsb2FkOiBFcnJvclBheWxvYWQpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEVycm9yQWN0aW9ucy5BREQsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmUoa2V5OiBzdHJpbmcpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEVycm9yQWN0aW9ucy5SRU1PVkUsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IGtleVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBFcnJvcnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBFZmZlY3QsIEFjdGlvbnMgfSBmcm9tICdAbmdyeC9lZmZlY3RzJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGZpbHRlciwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5cclxuaW1wb3J0IHsgRXJyb3JBY3Rpb25zIH0gZnJvbSAnLi9lcnJvcnMuYWN0aW9ucyc7XHJcbmltcG9ydCB7IEVycm9yc1NlcnZpY2UgfSBmcm9tICcuL2Vycm9ycy5zZXJ2aWNlJztcclxuXHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBFcnJvckVmZmVjdHMge1xyXG4gICAgYWN0aW9uVHlwZXM6IHN0cmluZ1tdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVucyBmb3IgdGhyb3duIGVycm9ycyBhbmQgaGFuZGxlcyB0aGVtIGFjY29yZGluZ2x5XHJcbiAgICAgKi9cclxuICAgIEBFZmZlY3QoKSBoYW5kbGVFcnJvciQ6IE9ic2VydmFibGU8QWN0aW9uPiA9IHRoaXMuYWN0aW9ucyQucGlwZShcclxuICAgICAgICBmaWx0ZXIoKGFjdGlvbjogQWN0aW9uKSA9PiBhY3Rpb24udHlwZSA9PT0gRXJyb3JBY3Rpb25zLlRIUk9XX0VSUk9SKSxcclxuICAgICAgICBtYXAoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIDxBY3Rpb24+eyB0eXBlOiBFcnJvckFjdGlvbnMuSEFORExFX0VSUk9SIH07XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBhY3Rpb25zJDogQWN0aW9ucyxcclxuICAgICAgICBwcml2YXRlIHNlcnZpY2U6IEVycm9yc1NlcnZpY2VcclxuICAgICkgeyB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSwgRXJyb3JIYW5kbGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEdsb2JhbEVycm9yc1NlcnZpY2UgaW1wbGVtZW50cyBFcnJvckhhbmRsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICBhbGVydChlcnJvcik7XG4gICAgLy8gSU1QT1JUQU5UOiBSZXRocm93IHRoZSBlcnJvciBvdGhlcndpc2UgaXQgZ2V0cyBzd2FsbG93ZWRcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycywgRXJyb3JIYW5kbGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEVycm9yRWZmZWN0cyB9IGZyb20gJy4vZXJyb3JzLmVmZmVjdHMnO1xuaW1wb3J0IHsgRXJyb3JzU2VydmljZSB9IGZyb20gJy4vZXJyb3JzLnNlcnZpY2UnO1xuaW1wb3J0IHsgR2xvYmFsRXJyb3JzU2VydmljZSB9IGZyb20gJy4vZ2xvYmFsLWVycm9ycy5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW10sXG4gIGRlY2xhcmF0aW9uczogW11cbn0pXG5leHBvcnQgY2xhc3MgRXJyb3JzTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBFcnJvcnNNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgRXJyb3JzU2VydmljZSxcbiAgICAgICAgRXJyb3JFZmZlY3RzLFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogRXJyb3JIYW5kbGVyLFxuICAgICAgICAgIHVzZUNsYXNzOiBHbG9iYWxFcnJvcnNTZXJ2aWNlXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRXJyb3Ige1xyXG4gICAgbWVzc2FnZT86IHN0cmluZyA9ICcnO1xyXG4gICAgc3RhdHVzQ29kZT86IG51bWJlciA9IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JPdXRsZXQge1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbiAgICBoYW5kbGVyPzogKGU6IEVycm9yKSA9PiBFcnJvcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFcnJvclBheWxvYWQge1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbiAgICBlcnJvcjogRXJyb3I7XHJcbn1cclxuIiwiaW1wb3J0IHsgRXJyb3JBY3Rpb25zIH0gZnJvbSAnLi9lcnJvcnMuYWN0aW9ucyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuLi9zaGFyZWQvY29sbGVjdGlvbic7XHJcbmltcG9ydCB7IERpY3Rpb25hcnkgfSBmcm9tICcuLi9zaGFyZWQvbW9kZWxzJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JzUmVkdWNlcihzdGF0ZTogRGljdGlvbmFyeTxFcnJvcj4gPSB7fSwgYWN0aW9uOiBBY3Rpb24pOiBEaWN0aW9uYXJ5PEVycm9yPiB7XHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcblxyXG4gICAgICAgIGNhc2UgRXJyb3JBY3Rpb25zLkFERDpcclxuICAgICAgICAgICAgbGV0IG5ld1N0YXRlID0gQ29sbGVjdGlvbi5BZGRJdGVtKHN0YXRlLCAnbGFzdEVycm9yJywgYWN0aW9uLnBheWxvYWQuZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQua2V5ID09PSAnbGFzdEVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xsZWN0aW9uLkFkZEl0ZW0oc3RhdGUsIGFjdGlvbi5wYXlsb2FkLmtleSwgYWN0aW9uLnBheWxvYWQuZXJyb3IpO1xyXG5cclxuICAgICAgICBjYXNlIEVycm9yQWN0aW9ucy5SRU1PVkU6XHJcbiAgICAgICAgICAgIHJldHVybiBDb2xsZWN0aW9uLlJlbW92ZUl0ZW0oc3RhdGUsIGFjdGlvbi5wYXlsb2FkKTtcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IEVycm9yIH0gZnJvbSAnLi9lcnJvcnMubW9kZWxzJztcclxuaW1wb3J0IHsgRGljdGlvbmFyeSB9IGZyb20gJy4uL3NoYXJlZC9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yc1NlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxEaWN0aW9uYXJ5PEVycm9yPj4ge1xyXG4gICAgcmV0dXJuIHN0b3JlLnNlbGVjdChzID0+IHNbJ2Vycm9ycyddKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yU2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4sIGtleTogc3RyaW5nKTogT2JzZXJ2YWJsZTxFcnJvcj4ge1xyXG4gICAgcmV0dXJuIGVycm9yc1NlbGVjdG9yKHN0b3JlKS5waXBlKG1hcChlcnJvcnMgPT4gZXJyb3JzW2tleV0pKTtcclxufVxyXG4iLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi4vc2hhcmVkL2NvbGxlY3Rpb24nO1xyXG5pbXBvcnQgeyBEaWN0aW9uYXJ5IH0gZnJvbSAnLi4vc2hhcmVkL21vZGVscyc7XHJcbmltcG9ydCB7IGJ1aWxkIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudCB7XHJcbiAgICBlbWl0dGVkQ291bnQgPSAwO1xyXG4gICAgaGFuZGxlcjogKGFjdGlvbjogQWN0aW9uKSA9PiBhbnk7XHJcbiAgICBrZXkgPSAnJztcclxuICAgIG9uQWN0aW9uOiBzdHJpbmcgfCBzdHJpbmdbXSA9ICcnO1xyXG4gICAgdmFsdWU6IGFueSA9IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudHMgZXh0ZW5kcyBDb2xsZWN0aW9uPEV2ZW50PiB7XHJcblxyXG4gICAgZ2V0IGFjdGlvbnMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5yZWR1Y2UoKGFjYzogYW55W10sIGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhZGRWYWx1ZXMgPSAhZXZlbnQub25BY3Rpb24gP1xyXG4gICAgICAgICAgICAgICAgW10gOiB0eXBlb2YgZXZlbnQub25BY3Rpb24gPT09ICdzdHJpbmcnID9cclxuICAgICAgICAgICAgICAgICAgICBhY2MuaW5kZXhPZihldmVudC5vbkFjdGlvbikgPT09IC0xID8gW2V2ZW50Lm9uQWN0aW9uXSA6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgOiBldmVudC5vbkFjdGlvbi5maWx0ZXIoeCA9PiBhY2MuaW5kZXhPZih4KSA9PT0gLTEpO1xyXG4gICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgLi4uYWRkVmFsdWVzXTtcclxuICAgICAgICB9LCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGV2ZW50c0J5QWN0aW9uKCk6IERpY3Rpb25hcnk8RXZlbnRbXT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5yZWR1Y2UoKGFjYzogRGljdGlvbmFyeTxFdmVudFtdPiwgZXZlbnQ6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQub25BY3Rpb24gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWw6IEV2ZW50W10gPSBhY2NbZXZlbnQub25BY3Rpb25dIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgYWNjW2V2ZW50Lm9uQWN0aW9uXSA9IFsuLi52YWwsIGV2ZW50XTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50Lm9uQWN0aW9uLmZvckVhY2goYWN0aW9uVHlwZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsOiBFdmVudFtdID0gYWNjW2FjdGlvblR5cGVdIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY1thY3Rpb25UeXBlXSA9IFsuLi52YWwsIGV2ZW50XTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwge30pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEV2ZW50KHBheWxvYWQ6IEV2ZW50KTogRXZlbnRzIHtcclxuICAgICAgICByZXR1cm4gYnVpbGQoRXZlbnRzLCB0aGlzLmFkZEl0ZW0ocGF5bG9hZCwgcGF5bG9hZC5rZXkpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBY3Rpb25FdmVudHMoYWN0aW9uVHlwZTogc3RyaW5nKTogRXZlbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzQnlBY3Rpb25bYWN0aW9uVHlwZV07XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnQocGF5bG9hZDogc3RyaW5nKTogRXZlbnRzIHtcclxuICAgICAgICByZXR1cm4gYnVpbGQoRXZlbnRzLCB0aGlzLnJlbW92ZUl0ZW0ocGF5bG9hZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcGxhY2VFdmVudHMocGF5bG9hZDogRXZlbnRbXSk6IEV2ZW50cyB7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5jb3B5SXRlbXMoKTtcclxuICAgICAgICBwYXlsb2FkLmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50c1tlLmtleV0gPSBlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBidWlsZChFdmVudHMsIHRoaXMsIHsgaXRlbXM6IGV2ZW50cyB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyRXZlbnQocGF5bG9hZDogQWN0aW9uKTogRXZlbnRzIHtcclxuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLmdldEFjdGlvbkV2ZW50cyhwYXlsb2FkLnR5cGUpXHJcbiAgICAgICAgICAgIC5tYXAoZSA9PiBidWlsZChFdmVudCwgZSwgeyB2YWx1ZTogZS5oYW5kbGVyID8gZS5oYW5kbGVyKHBheWxvYWQpIDogcGF5bG9hZCB9KSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZUV2ZW50cyhldmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZhbHVlKHBheWxvYWQ6IFVwZGF0ZVZhbHVlUGF5bG9hZCk6IEV2ZW50cyB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBidWlsZChFdmVudCwgdGhpcy5pdGVtc1twYXlsb2FkLmtleV0sIHsgdmFsdWU6IHBheWxvYWQudmFsdWUgfSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1aWxkKEV2ZW50cywgdGhpcy51cGRhdGVJdGVtKGV2ZW50LCBwYXlsb2FkLmtleSwgRXZlbnQpKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBVcGRhdGVWYWx1ZVBheWxvYWQge1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbiAgICB2YWx1ZTogYW55O1xyXG59XHJcbiIsImltcG9ydCB7IEV2ZW50LCBVcGRhdGVWYWx1ZVBheWxvYWQgfSBmcm9tICcuL2V2ZW50cy5tb2RlbHMnO1xyXG5pbXBvcnQgeyBBY3Rpb24sIEFjdGlvbldpdGhLZXkgfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xyXG5pbXBvcnQgeyBidWlsZCwgZ3VpZCB9IGZyb20gJy4uL3NoYXJlZC91dGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRXZlbnRBY3Rpb25zIHtcclxuICAgIHN0YXRpYyBBRERfRVZFTlQgPSAnW0V2ZW50c10gQWRkIEV2ZW50JztcclxuICAgIHN0YXRpYyBSRU1PVkVfRVZFTlQgPSAnW0V2ZW50c10gUmVtb3ZlIEV2ZW50JztcclxuICAgIHN0YXRpYyBUUklHR0VSX0VWRU5UID0gJ1tFdmVudHNdIFRyaWdnZXIgRXZlbnQnO1xyXG4gICAgc3RhdGljIFVQREFURV9WQUxVRSA9ICdbRXZlbnRzXSBVcGRhdGUgVmFsdWUnO1xyXG5cclxuICAgIHN0YXRpYyBhZGRFdmVudChvbkFjdGlvbjogc3RyaW5nIHwgc3RyaW5nW10sIGhhbmRsZXI/OiAoYWN0aW9uOiBBY3Rpb24pID0+IGFueSwgdmFsdWUgPSBudWxsKTogQWN0aW9uV2l0aEtleSB7XHJcbiAgICAgICAgY29uc3QgZTogRXZlbnQgPSBidWlsZChFdmVudCwge1xyXG4gICAgICAgICAgICBvbkFjdGlvbixcclxuICAgICAgICAgICAgaGFuZGxlcixcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIGtleTogZ3VpZCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogRXZlbnRBY3Rpb25zLkFERF9FVkVOVCxcclxuICAgICAgICAgICAgcGF5bG9hZDogZSxcclxuICAgICAgICAgICAga2V5OiBlLmtleVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZUV2ZW50KGtleTogc3RyaW5nKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBFdmVudEFjdGlvbnMuUkVNT1ZFX0VWRU5ULFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBrZXlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0cmlnZ2VyRXZlbnQoYWN0aW9uOiBBY3Rpb24pOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEV2ZW50QWN0aW9ucy5UUklHR0VSX0VWRU5ULFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBhY3Rpb25cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cGRhdGVWYWx1ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IEFjdGlvbiB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGJ1aWxkKFVwZGF0ZVZhbHVlUGF5bG9hZCxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogRXZlbnRBY3Rpb25zLlVQREFURV9WQUxVRSxcclxuICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQWN0aW9ucywgRWZmZWN0IH0gZnJvbSAnQG5ncngvZWZmZWN0cyc7XHJcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGZpbHRlciwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5cclxuaW1wb3J0IHsgRXZlbnRBY3Rpb25zIH0gZnJvbSAnLi9ldmVudHMuYWN0aW9ucyc7XHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vZXZlbnRzLm1vZGVscyc7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL21vZGVscyc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBFdmVudEVmZmVjdHMge1xyXG5cclxuICAgIGV2ZW50czogRXZlbnRzID0gbmV3IEV2ZW50cygpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciBldmVudCBpZiBhY3Rpb24gaXMgYSByZWdpc3RlcmVkIHRyaWdnZXIuXHJcbiAgICAgKi9cclxuICAgIEBFZmZlY3QoKSBvblRyaWdnZXJFdmVudDogT2JzZXJ2YWJsZTxBY3Rpb24+ID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIGZpbHRlcihhY3Rpb24gPT4gdGhpcy5ldmVudHMuYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSAhPT0gLTEpLFxyXG4gICAgICAgIG1hcCh0aGlzLnRyaWdnZXIpXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgYWN0aW9ucyQ6IEFjdGlvbnMsXHJcbiAgICAgICAgcHJpdmF0ZSBzdG9yZTogU3RvcmU8YW55PlxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5zZWxlY3QocyA9PiBzWydldmVudHMnXSlcclxuICAgICAgICAgICAgLnN1YnNjcmliZShldmVudHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoYWN0aW9uOiBBY3Rpb24pOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiBFdmVudEFjdGlvbnMudHJpZ2dlckV2ZW50KGFjdGlvbik7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IEV2ZW50cywgRXZlbnQgfSBmcm9tICcuL2V2ZW50cy5tb2RlbHMnO1xyXG5pbXBvcnQgeyBEaWN0aW9uYXJ5IH0gZnJvbSAnLi4vc2hhcmVkL21vZGVscyc7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50c1NlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxEaWN0aW9uYXJ5PEV2ZW50Pj4ge1xyXG4gICAgcmV0dXJuIHN0b3JlLnNlbGVjdChzID0+IHNbJ2V2ZW50cyddKS5waXBlKFxyXG4gICAgICAgIG1hcCgoZXZlbnRzOiBFdmVudHMpID0+IGV2ZW50cy5pdGVtcylcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBldmVudFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+LCBrZXk6IHN0cmluZyk6IE9ic2VydmFibGU8RXZlbnQ+IHtcclxuICAgIHJldHVybiBldmVudHNTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAoZXZlbnRzID0+IGV2ZW50c1trZXldKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50VmFsdWVTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Piwga2V5OiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuIGV2ZW50U2VsZWN0b3Ioc3RvcmUsIGtleSkucGlwZShcclxuICAgICAgICBtYXAoZSA9PiBlID8gZS52YWx1ZSA6IG51bGwpXHJcbiAgICApO1xyXG59XHJcbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiwgb2YgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgc2tpcCwgdGFrZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IEV2ZW50QWN0aW9ucyB9IGZyb20gJy4vZXZlbnRzLmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBldmVudFZhbHVlU2VsZWN0b3IgfSBmcm9tICcuL2V2ZW50cy5zZWxlY3RvcnMnO1xyXG5pbXBvcnQgeyBIdHRwQWN0aW9uIH0gZnJvbSAnLi4vaHR0cC9odHRwLm1vZGVscyc7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL21vZGVscyc7XHJcblxyXG5ASW5qZWN0YWJsZSh7XHJcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBFdmVudHNTZXJ2aWNlIHtcclxuXHJcbiAgZXZlbnRJbmRleCA9IDA7XHJcbiAgZXZlbnRzOiBFdmVudFtdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzdG9yZTogU3RvcmU8YW55Pikge1xyXG4gIH1cclxuXHJcbiAgZ2V0IGV2ZW50S2V5KCk6IHN0cmluZyB7XHJcbiAgICB0aGlzLmV2ZW50SW5kZXgrKztcclxuICAgIHJldHVybiBgZXZlbnQtJHt0aGlzLmV2ZW50SW5kZXh9YDtcclxuICB9XHJcblxyXG4gIGFkZEV2ZW50KGFjdGlvblR5cGU6IHN0cmluZywgaGFuZGxlcj86IChhY3Rpb246IEFjdGlvbikgPT4gYW55KTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGYgPSBoYW5kbGVyID8gaGFuZGxlciA6IChhY3Rpb246IEFjdGlvbikgPT4gdHJ1ZTtcclxuICAgIGNvbnN0IGFjdGlvbldpdGhLZXkgPSBFdmVudEFjdGlvbnMuYWRkRXZlbnQoYWN0aW9uVHlwZSwgZiwgZmFsc2UpO1xyXG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChhY3Rpb25XaXRoS2V5KTtcclxuICAgIHJldHVybiBhY3Rpb25XaXRoS2V5LmtleTtcclxuICB9XHJcblxyXG4gIGRpc3BhdGNoKGFjdGlvbjogSHR0cEFjdGlvbiwgaGFuZGxlcj86IChhY3Rpb246IEFjdGlvbikgPT4gYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoSHR0cEFjdGlvbihhY3Rpb24sIGhhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgZGlzcGF0Y2hIdHRwQWN0aW9uKGFjdGlvbjogSHR0cEFjdGlvbiwgaGFuZGxlcj86IChhY3Rpb246IEFjdGlvbikgPT4gYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHN1Y2Nlc3NBY3Rpb24gPSBhY3Rpb24ucGF5bG9hZC5vblN1Y2Nlc3M7XHJcbiAgICBjb25zdCBlcnJvckFjdGlvbiA9IHR5cGVvZiAoYWN0aW9uLnBheWxvYWQub25FcnJvcikgPT09ICdzdHJpbmcnID8gYWN0aW9uLnBheWxvYWQub25FcnJvciA6IG51bGw7XHJcbiAgICBjb25zdCBzdWNjZXNzID0gdGhpcy50YWtlT25lKHN1Y2Nlc3NBY3Rpb24sIGhhbmRsZXIpO1xyXG4gICAgY29uc3Qgb2JzID0gZXJyb3JBY3Rpb24gPyBzdWNjZXNzLnBpcGUoXHJcbiAgICAgIGNvbWJpbmVMYXRlc3QodGhpcy50YWtlT25lKGVycm9yQWN0aW9uLCBoYW5kbGVyKSwgKHgsIHkpID0+IHRydWUpXHJcbiAgICApIDogc3VjY2VzcztcclxuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcclxuICAgIHJldHVybiBvYnM7XHJcbiAgfVxyXG5cclxuICByZW1vdmVFdmVudChldmVudEtleTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKEV2ZW50QWN0aW9ucy5yZW1vdmVFdmVudChldmVudEtleSkpO1xyXG4gIH1cclxuXHJcbiAgc3Vic2NyaWJlKGFjdGlvbjogc3RyaW5nLCBoYW5kbGVyOiAoZTogYW55KSA9PiB2b2lkKTogU3Vic2NyaXB0aW9uIHtcclxuICAgIHJldHVybiB0aGlzLnRha2UoMSwgYWN0aW9uKS5zdWJzY3JpYmUoaGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICB0YWtlKG4gPSAxLCBhY3Rpb25UeXBlOiBzdHJpbmcsIGhhbmRsZXI/OiAoYWN0aW9uOiBBY3Rpb24pID0+IGFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBrZXkgPSB0aGlzLmFkZEV2ZW50KGFjdGlvblR5cGUsIGhhbmRsZXIpO1xyXG4gICAgcmV0dXJuIGV2ZW50VmFsdWVTZWxlY3Rvcih0aGlzLnN0b3JlLCBrZXkpLnBpcGUoXHJcbiAgICAgIHNraXAoMSksXHJcbiAgICAgIHRha2UobilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0YWtlRnJvbShuID0gMSwgYWN0aW9uczogc3RyaW5nW10sIGhhbmRsZXI/OiAoYWN0aW9uOiBBY3Rpb24pID0+IGFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBrZXlzID0gYWN0aW9ucy5tYXAoYWN0aW9uID0+IHRoaXMuYWRkRXZlbnQoYWN0aW9uLCBoYW5kbGVyKSk7XHJcbiAgICByZXR1cm4ga2V5cy5tYXAoa2V5ID0+IGV2ZW50VmFsdWVTZWxlY3Rvcih0aGlzLnN0b3JlLCBrZXkpKVxyXG4gICAgICAucmVkdWNlKChhY2MsIG9icykgPT4ge1xyXG4gICAgICAgIHJldHVybiBhY2MucGlwZShcclxuICAgICAgICAgIGNvbWJpbmVMYXRlc3Qob2JzLCAoeCwgeSkgPT4gdHJ1ZSlcclxuICAgICAgICApO1xyXG4gICAgICB9LCBvZihmYWxzZSkpLnBpcGUoXHJcbiAgICAgICAgc2tpcCgxKSxcclxuICAgICAgICB0YWtlKG4pXHJcbiAgICAgICk7XHJcbiAgfVxyXG5cclxuICB0YWtlT25lKGFjdGlvblR5cGU6IHN0cmluZywgaGFuZGxlcj86IChhY3Rpb246IEFjdGlvbikgPT4gYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybiB0aGlzLnRha2UoMSwgYWN0aW9uVHlwZSwgaGFuZGxlcik7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgRXZlbnRFZmZlY3RzIH0gZnJvbSAnLi9ldmVudHMuZWZmZWN0cyc7XHJcbmltcG9ydCB7IEV2ZW50c1NlcnZpY2UgfSBmcm9tICcuL2V2ZW50cy5zZXJ2aWNlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBFdmVudEVmZmVjdHMsXHJcbiAgICBFdmVudHNTZXJ2aWNlLFxyXG4gIF0sXHJcbiAgZXhwb3J0czogW11cclxufSlcclxuZXhwb3J0IGNsYXNzIEV2ZW50c01vZHVsZSB7IH1cclxuIiwiaW1wb3J0IHsgRXZlbnRBY3Rpb25zIH0gZnJvbSAnLi9ldmVudHMuYWN0aW9ucyc7XHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vZXZlbnRzLm1vZGVscyc7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL21vZGVscyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRzUmVkdWNlcihzdGF0ZTogRXZlbnRzID0gbmV3IEV2ZW50cygpLCBhY3Rpb246IEFjdGlvbik6IEV2ZW50cyB7XHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcblxyXG4gICAgICAgIGNhc2UgRXZlbnRBY3Rpb25zLkFERF9FVkVOVDpcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmFkZEV2ZW50KGFjdGlvbi5wYXlsb2FkKTtcclxuXHJcbiAgICAgICAgY2FzZSBFdmVudEFjdGlvbnMuUkVNT1ZFX0VWRU5UOlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUucmVtb3ZlRXZlbnQoYWN0aW9uLnBheWxvYWQpO1xyXG5cclxuICAgICAgICBjYXNlIEV2ZW50QWN0aW9ucy5UUklHR0VSX0VWRU5UOlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudHJpZ2dlckV2ZW50KGFjdGlvbi5wYXlsb2FkKTtcclxuXHJcbiAgICAgICAgY2FzZSBFdmVudEFjdGlvbnMuVVBEQVRFX1ZBTFVFOlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudXBkYXRlVmFsdWUoYWN0aW9uLnBheWxvYWQpO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgYXMgTmcyRm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIE5nMkZvcm1zTW9kdWxlLFxyXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIE5nMkZvcm1zTW9kdWxlLFxyXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGb3Jtc01vZHVsZSB7XHJcblxyXG4gIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmdNb2R1bGU6IEZvcm1zTW9kdWxlLFxyXG4gICAgICBwcm92aWRlcnM6IFtdXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sLCBGb3JtIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5cclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQWN0aW9ucyB7XHJcbiAgICBzdGF0aWMgQUREID0gJ1tmb3Jtc10gQWRkIEZvcm0nO1xyXG4gICAgc3RhdGljIFJFU0VUID0gJ1tmb3Jtc10gUmVzZXQgRm9ybXMnO1xyXG4gICAgc3RhdGljIE5BVklHQVRFID0gJ1tmb3Jtc10gTmF2aWdhdGUgdG8gRm9ybSc7XHJcbiAgICBzdGF0aWMgU1RBVFVTX0NIQU5HRVMgPSAnW2Zvcm1dIFN0YXR1cyBDaGFuZ2VzJztcclxuICAgIHN0YXRpYyBWQUxVRV9DSEFOR0VTID0gJ1tmb3JtXSBWYWx1ZSBDaGFuZ2VzJztcclxuXHJcbiAgICBzdGF0aWMgYWRkRm9ybShjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEZvcm1BY3Rpb25zLkFERCxcclxuICAgICAgICAgICAgcGF5bG9hZDogY29udHJvbFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNoYW5nZVN0YXR1cyhjb250cm9sOiBBYnN0cmFjdENvbnRyb2wsIGNoYW5nZXM6IGFueSk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogRm9ybUFjdGlvbnMuU1RBVFVTX0NIQU5HRVMsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2w6IGNvbnRyb2wsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiBjaGFuZ2VzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjaGFuZ2VWYWx1ZShjb250cm9sOiBBYnN0cmFjdENvbnRyb2wsIGNoYW5nZXM6IGFueSk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogRm9ybUFjdGlvbnMuVkFMVUVfQ0hBTkdFUyxcclxuICAgICAgICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbDogY29udHJvbCxcclxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IGNoYW5nZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5hdmlnYXRlVG9Gb3JtKHJvdXRlOiBzdHJpbmcpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEZvcm1BY3Rpb25zLk5BVklHQVRFLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiByb3V0ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlc2V0Rm9ybXMoZm9ybXM6IEZvcm1bXSk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogRm9ybUFjdGlvbnMuUkVTRVQsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IGZvcm1zXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sLCBGb3JtQnVpbGRlciwgRm9ybUFycmF5IGFzIE5nMkZvcm1BcnJheSwgVmFsaWRhdG9yRm4sIEFzeW5jVmFsaWRhdG9yRm4gfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcblxyXG5pbXBvcnQgeyBidWlsZEFic3RyYWN0Q29udHJvbCwgYnVpbGRDb250cm9sc0NvbmZpZyB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgeyBUeXBlQ29uc3RydWN0b3IgfSBmcm9tICcuLi9zaGFyZWQvbW9kZWxzJztcclxuaW1wb3J0IHsgYnVpbGQsIGdldFZhbHVlLCB0b0FycmF5IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQXJyYXkgZXh0ZW5kcyBOZzJGb3JtQXJyYXkge1xyXG5cclxuICAgIGN0b3I6IFR5cGVDb25zdHJ1Y3Rvcjxhbnk+O1xyXG5cclxuICAgIHN0YXRpYyBCdWlsZDxUPihmYjogRm9ybUJ1aWxkZXIsIGNvbnRyb2xzOiBBYnN0cmFjdENvbnRyb2xbXSwgdmFsaWRhdG9yPzogVmFsaWRhdG9yRm4sIGFzeW5jVmFsaWRhdG9yPzogQXN5bmNWYWxpZGF0b3JGbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRm9ybUFycmF5KGZiLCBjb250cm9scywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkV2l0aFR5cGU8VD4oY3RvcjogVHlwZUNvbnN0cnVjdG9yPFQ+LCBmYjogRm9ybUJ1aWxkZXIsIGNvbnRyb2xzOiBBYnN0cmFjdENvbnRyb2xbXSA9IFtdLCB2YWxpZGF0b3I/OiBWYWxpZGF0b3JGbiwgYXN5bmNWYWxpZGF0b3I/OiBBc3luY1ZhbGlkYXRvckZuKSB7XHJcbiAgICAgICAgY29uc3QgZmEgPSBuZXcgRm9ybUFycmF5KGZiLCBjb250cm9scywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XHJcbiAgICAgICAgZmEuY3RvciA9IGN0b3I7XHJcbiAgICAgICAgcmV0dXJuIGZhO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZFdpdGhUeXBlQW5kVmFsdWU8VD4oY3RvcjogVHlwZUNvbnN0cnVjdG9yPFQ+LCB2YWx1ZTogVFtdLCBmYjogRm9ybUJ1aWxkZXIsIGNvbnRyb2xzOiBBYnN0cmFjdENvbnRyb2xbXSA9IFtdLCB2YWxpZGF0b3I/OiBWYWxpZGF0b3JGbiwgYXN5bmNWYWxpZGF0b3I/OiBBc3luY1ZhbGlkYXRvckZuKSB7XHJcbiAgICAgICAgY29uc3QgZmEgPSBuZXcgRm9ybUFycmF5KGZiLCBjb250cm9scywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XHJcbiAgICAgICAgZmEuY3RvciA9IGN0b3I7XHJcbiAgICAgICAgZmEuc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBmYTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGRXaXRoVmFsdWU8VD4odmFsdWU6IFRbXSwgZmI6IEZvcm1CdWlsZGVyLCBjb250cm9sczogQWJzdHJhY3RDb250cm9sW10gPSBbXSwgdmFsaWRhdG9yPzogVmFsaWRhdG9yRm4sIGFzeW5jVmFsaWRhdG9yPzogQXN5bmNWYWxpZGF0b3JGbikge1xyXG4gICAgICAgIGNvbnN0IGZhID0gbmV3IEZvcm1BcnJheShmYiwgY29udHJvbHMsIHZhbGlkYXRvciwgYXN5bmNWYWxpZGF0b3IpO1xyXG4gICAgICAgIGZhLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gZmE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldFZhbHVlKHZhbHVlOiBhbnlbXSwgY3RvcjogVHlwZUNvbnN0cnVjdG9yPGFueT4pOiBhbnlbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRvQXJyYXkodmFsdWUpLm1hcCh4ID0+IGdldFZhbHVlKGJ1aWxkKGN0b3IsIHgpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIGZiOiBGb3JtQnVpbGRlciwgY29udHJvbHM6IEFic3RyYWN0Q29udHJvbFtdLCB2YWxpZGF0b3I/OiBWYWxpZGF0b3JGbiwgYXN5bmNWYWxpZGF0b3I/OiBBc3luY1ZhbGlkYXRvckZuKSB7XHJcbiAgICAgICAgc3VwZXIoY29udHJvbHMsIHZhbGlkYXRvciwgYXN5bmNWYWxpZGF0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtYXhJbmRleCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlcygpOiBhbnlbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLnZhbHVlXTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZENvbnRyb2xzKG46IG51bWJlcik6IEFic3RyYWN0Q29udHJvbFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZEl0ZW1zKG4pLm1hcCh4ID0+IGJ1aWxkQWJzdHJhY3RDb250cm9sKHRoaXMuZmIsIHgpKTtcclxuICAgIH1cclxuXHJcbiAgICBidWlsZEl0ZW1zKG46IG51bWJlcik6IGFueVtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShBcnJheShuKS5rZXlzKCkpLm1hcCh4ID0+IHRoaXMuY3RvciA/IGdldFZhbHVlKG5ldyB0aGlzLmN0b3IoKSkgOiB7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmFsdWUodmFsdWU6IGFueVtdKTogYW55W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0b3IgPyB0b0FycmF5KHZhbHVlKS5tYXAoeCA9PiBnZXRWYWx1ZShidWlsZCh0aGlzLmN0b3IsIHgpKSkgOiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldFZhbHVlKHZhbHVlOiBhbnlbXSkge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgdGhpcy5hZGRDb250cm9scyh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGVuZ3RoKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZCh2YWx1ZSAtIHRoaXMubGVuZ3RoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGVuZ3RoID4gdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhpcy5sZW5ndGggLSB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFZhbHVlKHZhbHVlOiBhbnlbXSkge1xyXG4gICAgICAgIHRoaXMuc2V0TGVuZ3RoKHZhbHVlLmxlbmd0aCk7XHJcbiAgICAgICAgc3VwZXIuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRDb250cm9sQnlJZChpZDogYW55KTogQWJzdHJhY3RDb250cm9sIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9scy5maW5kKGNvbnRyb2wgPT4gY29udHJvbC52YWx1ZSAmJiBjb250cm9sLnZhbHVlWydpZCddICYmIGNvbnRyb2wudmFsdWVbJ2lkJ10gPT09IGlkKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUluZGV4ZXMoaW5kZXhlczogYW55W10pIHtcclxuICAgICAgICBpbmRleGVzLmZvckVhY2goaW5kZXggPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUF0KGluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQobjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5idWlsZENvbnRyb2xzKG4pLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaCh4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUobjogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgayA9IE1hdGgubWluKG4sIHRoaXMubGVuZ3RoKTtcclxuICAgICAgICBBcnJheS5mcm9tKEFycmF5KGspLmtleXMoKSkuZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdCh0aGlzLm1heEluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb250cm9scyh2YWx1ZTogYW55W10pIHtcclxuICAgICAgICBjb25zdCBjb250cm9scyA9IHZhbHVlLm1hcCh4ID0+IHRoaXMuZmIuZ3JvdXAoYnVpbGRDb250cm9sc0NvbmZpZyh4LCB0aGlzLmZiKSkpO1xyXG4gICAgICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaChjb250cm9sKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB2YWx1ZSBvZiBlYWNoIGNvbnRyb2wuXHJcbiAgICAgKiBAcGFyYW0gY3RvciBDbGFzcyBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHByb3BzIFZhbHVlcyB0byBhc3NpZ24gdG8gcHJvcHMgb2YgZWFjaCBjb250cm9sXHJcbiAgICAgKi9cclxuICAgIHNldEFsbChjdG9yOiBUeXBlQ29uc3RydWN0b3I8YW55PiwgcHJvcHM6IGFueSkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcclxuICAgICAgICAgICAgY29udHJvbC5zZXRWYWx1ZShidWlsZChuZXcgY3RvcigpLCBjb250cm9sLnZhbHVlLCBwcm9wcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBGb3JtR3JvdXAsIEZvcm1CdWlsZGVyLCBBYnN0cmFjdENvbnRyb2wsIEZvcm1Db250cm9sLCBWYWxpZGF0b3JGbiwgQXN5bmNWYWxpZGF0b3JGbiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuXHJcbmltcG9ydCB7IEZvcm1BcnJheSB9IGZyb20gJy4vbW9kZWxzJztcclxuaW1wb3J0IHsgRGljdGlvbmFyeSwgVHlwZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi4vc2hhcmVkL21vZGVscyc7XHJcbmltcG9ydCB7IGdldEFsbFByb3BzLCBpZ25vcmVLZXksIGluQXJyYXksIGJ1aWxkLCBnZXRWYWx1ZSB9IGZyb20gJy4uL3NoYXJlZC91dGlscyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRBYnN0cmFjdENvbnRyb2woZmI6IEZvcm1CdWlsZGVyLCB2YWx1ZTogYW55KTogRm9ybUdyb3VwIHwgRm9ybUFycmF5IHwgRm9ybUNvbnRyb2wge1xyXG4gICAgcmV0dXJuIGlzR3JvdXBWYWx1ZSh2YWx1ZSkgPyBmYi5ncm91cChidWlsZENvbnRyb2xzQ29uZmlnKHZhbHVlLCBmYikpIDogZmIuY29udHJvbCh2YWx1ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3QgZm9ybSBidWlsZGVyIGFuZCBpbml0aWFsaXplIG5ldyBmb3JtIGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRBcnJheUZyb21UeXBlPFQ+KGN0b3I6IFR5cGVDb25zdHJ1Y3RvcjxUPiwgdmFsaWRhdG9yPzogVmFsaWRhdG9yRm4sIGFzeW5jVmFsaWRhdG9yPzogQXN5bmNWYWxpZGF0b3JGbik6IEZvcm1BcnJheSB7XHJcbiAgICBjb25zdCBmYiA9IG5ldyBGb3JtQnVpbGRlcigpO1xyXG4gICAgcmV0dXJuIEZvcm1BcnJheS5CdWlsZFdpdGhUeXBlKGN0b3IsIGZiLCBbXSwgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbnRyb2woZmI6IEZvcm1CdWlsZGVyLCBtb2RlbDogYW55LCBrZXk6IHN0cmluZyk6IEZvcm1Hcm91cCB8IEZvcm1BcnJheSB8IGFueVtdIHtcclxuICAgIHJldHVybiBpc0Zvcm1Hcm91cChtb2RlbCwga2V5KSA/XHJcbiAgICAgICAgZmIuZ3JvdXAoYnVpbGRDb250cm9sc0NvbmZpZyhtb2RlbFtrZXldLCBmYikpXHJcbiAgICAgICAgOiAoaXNGb3JtQXJyYXkobW9kZWwsIGtleSkgPyBidWlsZEZvcm1BcnJheShmYiwgbW9kZWwsIGtleSlcclxuICAgICAgICAgICAgOiAoaGFzVmFsaWRhdG9ycyhtb2RlbCwga2V5KSA/IFttb2RlbFtrZXldLCBtb2RlbFsnbWV0YWRhdGEnXVtrZXldWyd2YWxpZGF0b3JzJ11dXHJcbiAgICAgICAgICAgICAgICA6IFttb2RlbFtrZXldXSkpO1xyXG59XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0IGZvcm0gYnVpbGRlciBhbmQgaW5pdGlhbGl6ZSBuZXcgZm9ybSBncm91cC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbnRyb2xGcm9tTW9kZWw8VD4obW9kZWw6IFQpOiBGb3JtR3JvdXAge1xyXG4gICAgY29uc3QgZmIgPSBuZXcgRm9ybUJ1aWxkZXIoKTtcclxuICAgIGNvbnN0IGNvbnRyb2xzQ29uZmlnID0gYnVpbGRDb250cm9sc0NvbmZpZyhtb2RlbCwgZmIpO1xyXG4gICAgcmV0dXJuIGhhc0dyb3VwVmFsaWRhdG9ycyhtb2RlbCkgPyBmYi5ncm91cChjb250cm9sc0NvbmZpZywgbW9kZWxbJ21ldGFkYXRhJ11bJ3ZhbGlkYXRvcnMnXSkgOiBmYi5ncm91cChjb250cm9sc0NvbmZpZyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byByZWN1cnNpdmVseSBjb25zdHJ1Y3QgZm9ybSBjb250cm9sIGNvbmZpZyBvYmplY3QuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDb250cm9sc0NvbmZpZyhtb2RlbDogYW55LCBmYjogRm9ybUJ1aWxkZXIpOiBEaWN0aW9uYXJ5PGFueT4ge1xyXG4gICAgY29uc3Qga2V5cyA9IGdldEFsbFByb3BzKG1vZGVsKTtcclxuICAgIGNvbnN0IGNvbmZpZzogRGljdGlvbmFyeTxhbnk+ID0ge307XHJcbiAgICByZXR1cm4ga2V5cy5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ21ldGFkYXRhJyAmJiAhaWdub3JlS2V5KG1vZGVsLCBrZXkpKVxyXG4gICAgICAgIC5yZWR1Y2UoKGFjYywga2V5KSA9PiBPYmplY3QuYXNzaWduKHt9LCBhY2MsIHsgW2tleV06IGJ1aWxkQ29udHJvbChmYiwgbW9kZWwsIGtleSkgfSksIHt9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgbmV3IGZvcm0gYXJyYXkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRGb3JtQXJyYXk8VD4oZmI6IEZvcm1CdWlsZGVyLCBtb2RlbDogYW55LCBrZXk6IHN0cmluZyk6IEZvcm1BcnJheSB7XHJcbiAgICBjb25zdCBjdG9yID0gZmluZEZvcm1BcnJheVR5cGUobW9kZWwsIGtleSk7XHJcbiAgICBjb25zdCB2YWx1ZSA9IG1vZGVsW2tleV07XHJcbiAgICBjb25zdCBjb250cm9scyA9IGJ1aWxkRm9ybUFycmF5Q29udHJvbHMoZmIsIHZhbHVlLCBjdG9yKTtcclxuICAgIHJldHVybiBjdG9yID8gRm9ybUFycmF5LkJ1aWxkV2l0aFR5cGUoY3RvciwgZmIsIGNvbnRyb2xzKSA6IEZvcm1BcnJheS5CdWlsZChmYiwgW10pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRGb3JtQXJyYXlDb250cm9sczxUPihmYjogRm9ybUJ1aWxkZXIsIHZhbHVlOiBUW10sIGN0b3I/OiBUeXBlQ29uc3RydWN0b3I8VD4pOiBBYnN0cmFjdENvbnRyb2xbXSB7XHJcbiAgICByZXR1cm4gY3RvciA/IHZhbHVlLm1hcCh4ID0+IGJ1aWxkQWJzdHJhY3RDb250cm9sKGZiLCBnZXRWYWx1ZShidWlsZChjdG9yLCB4KSkpKVxyXG4gICAgICAgIDogdmFsdWUubWFwKHggPT4gYnVpbGRBYnN0cmFjdENvbnRyb2woZmIsIHgpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRGb3JtQXJyYXlUeXBlKG1vZGVsOiBhbnksIGtleTogc3RyaW5nKTogVHlwZUNvbnN0cnVjdG9yPGFueT4ge1xyXG4gICAgcmV0dXJuIG1vZGVsWydtZXRhZGF0YSddICYmIG1vZGVsWydtZXRhZGF0YSddW2tleV0gP1xyXG4gICAgICAgIDxUeXBlQ29uc3RydWN0b3I8YW55Pj5tb2RlbFsnbWV0YWRhdGEnXVtrZXldWyd0eXBlJ10gOiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzR3JvdXBWYWxpZGF0b3JzKG1vZGVsOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBtb2RlbFsnbWV0YWRhdGEnXSAmJiBtb2RlbFsnbWV0YWRhdGEnXVsndmFsaWRhdG9ycyddO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsaWRhdG9ycyhtb2RlbDogYW55LCBrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIG1vZGVsWydtZXRhZGF0YSddICYmIG1vZGVsWydtZXRhZGF0YSddW2tleV0gJiYgbW9kZWxbJ21ldGFkYXRhJ11ba2V5XVsndmFsaWRhdG9ycyddO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheVZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9ybUFycmF5KG1vZGVsOiBhbnksIGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShtb2RlbFtrZXldKSAmJiBtb2RlbFsnbWV0YWRhdGEnXSAmJiBtb2RlbFsnbWV0YWRhdGEnXVtrZXldICYmIG1vZGVsWydtZXRhZGF0YSddW2tleV1bJ2lzRm9ybUFycmF5J107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1Db250cm9sKG1vZGVsOiBhbnksIGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gbW9kZWxbJ21ldGFkYXRhJ10gJiYgbW9kZWxbJ21ldGFkYXRhJ11bJ2NvbnRyb2xzJ10gJiYgaW5BcnJheShtb2RlbFsnbWV0YWRhdGEnXVsnY29udHJvbHMnXSwga2V5KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9ybUdyb3VwKG1vZGVsOiBhbnksIGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gbW9kZWxba2V5XVxyXG4gICAgICAgICYmIHR5cGVvZiBtb2RlbFtrZXldID09PSAnb2JqZWN0J1xyXG4gICAgICAgICYmICFBcnJheS5pc0FycmF5KG1vZGVsW2tleV0pXHJcbiAgICAgICAgJiYgT2JqZWN0LmtleXMobW9kZWxba2V5XSkubGVuZ3RoID4gMFxyXG4gICAgICAgICYmICFpc0Zvcm1Db250cm9sKG1vZGVsLCBrZXkpXHJcbiAgICAgICAgJiYgIWlzRm9ybUFycmF5KG1vZGVsLCBrZXkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cFZhbHVlKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwICYmICFpc0FycmF5VmFsdWUodmFsdWUpO1xyXG59XHJcbiIsImltcG9ydCB7IFR5cGVDb25zdHJ1Y3RvciB9IGZyb20gJy4uL3NoYXJlZC9tb2RlbHMnO1xyXG5pbXBvcnQgeyBWYWxpZGF0b3JGbiwgQXN5bmNWYWxpZGF0b3JGbiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuXHJcbmltcG9ydCB7IGJ1aWxkQ29udHJvbEZyb21Nb2RlbCwgYnVpbGRBcnJheUZyb21UeXBlIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG4vKipcclxuICogRGVjb3JhdGVzIGFuIGFic3RyYWN0IGNvbnRyb2wgcHJvcGVydHkgYnVpbHQgdXNpbmcgZm9ybSBidWlsZGVyLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIENvbnRyb2w8VD4oY3RvcjogVHlwZUNvbnN0cnVjdG9yPFQ+KSB7XHJcbiAgICBjb25zdCBwcm9wZXJ0eURlY29yYXRvciA9ICh0YXJnZXQ6IGFueSwgcHJvcGVydHlTaWduYXR1cmU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlY29yYXRlZFByb3BlcnR5ID0gYnVpbGRDb250cm9sRnJvbU1vZGVsKG5ldyBjdG9yKCkpO1xyXG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eVNpZ25hdHVyZV0gPSBkZWNvcmF0ZWRQcm9wZXJ0eTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBwcm9wZXJ0eURlY29yYXRvcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlY29yYXRlcyBhbiBhYnN0cmFjdCBjb250cm9sIHByb3BlcnR5IGJ1aWx0IHVzaW5nIGZvcm0gYnVpbGRlci5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBBcnJheUNvbnRyb2w8VD4oY3RvcjogVHlwZUNvbnN0cnVjdG9yPFQ+LCB2YWxpZGF0b3I/OiBWYWxpZGF0b3JGbiwgYXN5bmNWYWxpZGF0b3I/OiBBc3luY1ZhbGlkYXRvckZuKSB7XHJcbiAgICBjb25zdCBwcm9wZXJ0eURlY29yYXRvciA9ICh0YXJnZXQ6IGFueSwgcHJvcGVydHlTaWduYXR1cmU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlY29yYXRlZFByb3BlcnR5ID0gYnVpbGRBcnJheUZyb21UeXBlKGN0b3IsIHZhbGlkYXRvciwgYXN5bmNWYWxpZGF0b3IpO1xyXG4gICAgICAgIHRhcmdldFtwcm9wZXJ0eVNpZ25hdHVyZV0gPSBkZWNvcmF0ZWRQcm9wZXJ0eTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBwcm9wZXJ0eURlY29yYXRvcjtcclxufVxyXG4iLCJpbXBvcnQgeyBFcnJvck91dGxldCB9IGZyb20gJy4uL2Vycm9ycy9lcnJvcnMubW9kZWxzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSHR0cEFjdGlvbiB7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBwYXlsb2FkOiBIdHRwQWN0aW9uUGF5bG9hZDxhbnk+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBBY3Rpb25QYXlsb2FkPFQ+IHtcclxuICAgIHBhdGg6IHN0cmluZztcclxuICAgIG1vZGVsPzogVDtcclxuICAgIG9wdGlvbnM/OiBIdHRwT3B0aW9ucztcclxuICAgIGhlYWRlcnM/OiBhbnk7XHJcbiAgICBvblN1Y2Nlc3M/OiBzdHJpbmc7XHJcbiAgICBvbkVycm9yPzogc3RyaW5nIHwgRXJyb3JPdXRsZXQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwRGVsZXRlUGF5bG9hZDxUPiBpbXBsZW1lbnRzIEh0dHBBY3Rpb25QYXlsb2FkPFQ+IHtcclxuICAgIHBhdGggPSAnJztcclxuICAgIG9wdGlvbnM6IEh0dHBPcHRpb25zID0gbmV3IEh0dHBPcHRpb25zKCk7XHJcbiAgICBoZWFkZXJzPzogYW55ID0gdW5kZWZpbmVkO1xyXG4gICAgb25TdWNjZXNzPz0gJyc7XHJcbiAgICBvblN1Y2Nlc3NQYXlsb2FkPzogYW55O1xyXG4gICAgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSHR0cEdldFBheWxvYWQ8VD4gaW1wbGVtZW50cyBIdHRwQWN0aW9uUGF5bG9hZDxUPiB7XHJcbiAgICBwYXRoID0gJyc7XHJcbiAgICBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IG5ldyBIdHRwT3B0aW9ucygpO1xyXG4gICAgaGVhZGVycz86IGFueSA9IHVuZGVmaW5lZDtcclxuICAgIG9uU3VjY2Vzcz89ICcnO1xyXG4gICAgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSHR0cFB1dFBheWxvYWQ8VD4gaW1wbGVtZW50cyBIdHRwQWN0aW9uUGF5bG9hZDxUPiB7XHJcbiAgICBwYXRoID0gJyc7XHJcbiAgICBtb2RlbDogVCA9IG51bGw7XHJcbiAgICBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IG5ldyBIdHRwT3B0aW9ucygpO1xyXG4gICAgaGVhZGVycz86IGFueSA9IHVuZGVmaW5lZDtcclxuICAgIG9uU3VjY2Vzcz89ICcnO1xyXG4gICAgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSHR0cFBvc3RQYXlsb2FkPFQ+IGltcGxlbWVudHMgSHR0cEFjdGlvblBheWxvYWQ8VD4ge1xyXG4gICAgcGF0aCA9ICcnO1xyXG4gICAgbW9kZWw6IFQgPSBudWxsO1xyXG4gICAgb3B0aW9uczogSHR0cE9wdGlvbnMgPSBuZXcgSHR0cE9wdGlvbnMoKTtcclxuICAgIGhlYWRlcnM/OiBhbnkgPSB1bmRlZmluZWQ7XHJcbiAgICBvblN1Y2Nlc3M/PSAnJztcclxuICAgIG9uRXJyb3I/OiBzdHJpbmcgfCBFcnJvck91dGxldDtcclxufVxyXG5cclxuZXhwb3J0IGVudW0gSFRUUF9SRVFVRVNUX1NUQVRVUyB7XHJcbiAgICBQRU5ESU5HLFxyXG4gICAgRVJST1IsXHJcbiAgICBTVUNDRVNTXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEhUVFBfU1RBVFVTX0NPREVTIHtcclxuICAgIENPTlRJTlVFID0gMTAwLFxyXG4gICAgU1dJVENISU5HX1BST1RPQ09MUyA9IDEwMSxcclxuICAgIE9LID0gMjAwLFxyXG4gICAgQ1JFQVRFRCA9IDIwMSxcclxuICAgIEFDQ0VQVEVEID0gMjAyLFxyXG4gICAgTk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04gPSAyMDMsXHJcbiAgICBOT19DT05URU5UID0gMjA0LFxyXG4gICAgUkVTRVRfQ09OVEVOVCA9IDIwNSxcclxuICAgIFBBUlRJQUxfQ09OVEVOVCA9IDIwNixcclxuICAgIE1VTFRJUExFX0NIT0lDRVMgPSAzMDAsXHJcbiAgICBNT1ZFRF9QRVJNQU5FTlRMWSA9IDMwMSxcclxuICAgIEZPVU5EID0gMzAyLFxyXG4gICAgU0VFX09USEVSID0gMzAzLFxyXG4gICAgTk9UX01PRElGSUVEID0gMzA0LFxyXG4gICAgVVNFX1BST1hZID0gMzA1LFxyXG4gICAgVEVNUE9SQVJZX1JFRElSRUNUID0gMzA3LFxyXG4gICAgQkFEX1JFUVVFU1QgPSA0MDAsXHJcbiAgICBVTkFVVEhPUklaRUQgPSA0MDEsXHJcbiAgICBQQVlNRU5UX1JFUVVJUkVEID0gNDAyLFxyXG4gICAgRk9SQklEREVOID0gNDAzLFxyXG4gICAgTk9UX0ZPVU5EID0gNDA0LFxyXG4gICAgTUVUSE9EX05PVF9BTExPV0VEID0gNDA1LFxyXG4gICAgTk9UX0FDQ0VQVEFCTEUgPSA0MDYsXHJcbiAgICBQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRCA9IDQwNyxcclxuICAgIFJFUVVFU1RfVElNRU9VVCA9IDQwOCxcclxuICAgIENPTkZMSUNUID0gNDA5LFxyXG4gICAgR09ORSA9IDQxMCxcclxuICAgIExFTkdUSF9SRVFVSVJFRCA9IDQxMSxcclxuICAgIFBSRUNPTkRJVElPTl9GQUlMRUQgPSA0MTIsXHJcbiAgICBSRVFVRVNUX0VOVElUWV9UT09fTEFSR0UgPSA0MTMsXHJcbiAgICBSRVFVRVNUX1VSSV9UT09fTE9ORyA9IDQxNCxcclxuICAgIFVOU1VQUE9SVEVEX01FRElBX1RZUEUgPSA0MTUsXHJcbiAgICBSRVFVRVNURURfUkFOR0VfTk9UX1NBVElTRklBQkxFID0gNDE2LFxyXG4gICAgRVhQRUNUQVRJT05fRkFJTEVEID0gNDE3LFxyXG4gICAgVU5QUk9DRVNTQUJMRV9FTlRJVFkgPSA0MjIsXHJcbiAgICBUT09fTUFOWV9SRVFVRVNUUyA9IDQyOSxcclxuICAgIElOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMCxcclxuICAgIE5PVF9JTVBMRU1FTlRFRCA9IDUwMSxcclxuICAgIEJBRF9HQVRFV0FZID0gNTAyLFxyXG4gICAgU0VSVklDRV9VTkFWQUlMQUJMRSA9IDUwMyxcclxuICAgIEdBVEVXQVlfVElNRU9VVCA9IDUwNCxcclxuICAgIEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEID0gNTA1XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwT3B0aW9ucyB7XHJcbiAgICBwcmVwZW5kQmFzZVVybCA9IHRydWU7XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIEh0dHBBY3Rpb24sXHJcbiAgICBIdHRwR2V0UGF5bG9hZCxcclxuICAgIEh0dHBQdXRQYXlsb2FkLFxyXG4gICAgSHR0cFBvc3RQYXlsb2FkLFxyXG4gICAgSHR0cEFjdGlvblBheWxvYWQsXHJcbiAgICBIdHRwRGVsZXRlUGF5bG9hZFxyXG59IGZyb20gJy4vaHR0cC5tb2RlbHMnO1xyXG5pbXBvcnQgeyBFcnJvckFjdGlvbnMgfSBmcm9tICcuLi9lcnJvcnMvZXJyb3JzLmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBFcnJvck91dGxldCwgRXJyb3JQYXlsb2FkIH0gZnJvbSAnLi4vZXJyb3JzL2Vycm9ycy5tb2RlbHMnO1xyXG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xyXG5pbXBvcnQgeyBpbkFycmF5IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwQWN0aW9ucyB7XHJcblxyXG4gICAgc3RhdGljIERFTEVURSA9IGBbSHR0cF0gREVMRVRFYDtcclxuICAgIHN0YXRpYyBERUxFVEVfU1VDQ0VTUyA9IGBbSHR0cF0gREVMRVRFIFN1Y2Nlc3NgO1xyXG4gICAgc3RhdGljIERFTEVURV9FUlJPUiA9IGBbSHR0cF0gREVMRVRFIEVycm9yYDtcclxuICAgIHN0YXRpYyBHRVQgPSBgW0h0dHBdIEdFVGA7XHJcbiAgICBzdGF0aWMgR0VUX1NVQ0NFU1MgPSBgW0h0dHBdIEdFVCBTdWNjZXNzYDtcclxuICAgIHN0YXRpYyBHRVRfRVJST1IgPSBgW0h0dHBdIEdFVCBFcnJvcmA7XHJcbiAgICBzdGF0aWMgUE9TVCA9IGBbSHR0cF0gUE9TVGA7XHJcbiAgICBzdGF0aWMgUE9TVF9TVUNDRVNTID0gYFtIdHRwXSBQT1NUIFN1Y2Nlc3NgO1xyXG4gICAgc3RhdGljIFBPU1RfRVJST1IgPSBgW0h0dHBdIFBPU1QgRXJyb3JgO1xyXG4gICAgc3RhdGljIFBPU1RfRk9STV9VUkxfRU5DT0RFRCA9IGBbSHR0cF0gUE9TVCBGb3JtIFVSTCBFbmNvZGVkYDtcclxuICAgIHN0YXRpYyBQVVQgPSBgW0h0dHBdIFBVVGA7XHJcbiAgICBzdGF0aWMgUFVUX1NVQ0NFU1MgPSBgW0h0dHBdIFBVVCBTdWNjZXNzYDtcclxuICAgIHN0YXRpYyBQVVRfRVJST1IgPSBgW0h0dHBdIFBVVCBFcnJvcmA7XHJcbiAgICBzdGF0aWMgU0VBUkNIID0gYFtIdHRwXSBTRUFSQ0hgO1xyXG4gICAgc3RhdGljIFNFQVJDSF9TVUNDRVNTID0gYFtIdHRwXSBTRUFSQ0ggU3VjY2Vzc2A7XHJcbiAgICBzdGF0aWMgU0VBUkNIX0VSUk9SID0gYFtIdHRwXSBTRUFSQ0ggRXJyb3JgO1xyXG5cclxuICAgIHN0YXRpYyBhZGRQYXRoKHBhdGgsIHRhcmdldCkge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTWF0Y2hlcyA9IHRhcmdldFsnbWF0Y2hlcyddIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBpbkFycmF5KGV4aXN0aW5nTWF0Y2hlcywgcGF0aCkgPyBleGlzdGluZ01hdGNoZXMgOiBbLi4uZXhpc3RpbmdNYXRjaGVzLCBwYXRoXTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0YXJnZXQsIHsgbWF0Y2hlczogbWF0Y2hlcyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbWF0Y2hQYXRoKHBhdGgsIHBheWxvYWQpIHtcclxuICAgICAgICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkWydyZXN1bHRzJ10pIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocGF5bG9hZCwgeyByZXN1bHRzOiBIdHRwQWN0aW9ucy5tYXRjaFBhdGgocGF0aCwgcGF5bG9hZFsncmVzdWx0cyddKSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF5bG9hZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQubWFwKHggPT4gSHR0cEFjdGlvbnMuYWRkUGF0aChwYXRoLCB4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBIdHRwQWN0aW9ucy5hZGRQYXRoKHBhdGgsIHBheWxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBidWlsZEVycm9yKHBheWxvYWQ6IEVycm9yUGF5bG9hZCk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIEVycm9yQWN0aW9ucy5hZGQocGF5bG9hZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJ1aWxkRXJyb3JQYXlsb2FkKGtleTogc3RyaW5nLCBlOiBFcnJvcik6IEVycm9yUGF5bG9hZCB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgIGVycm9yOiBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaGFuZGxlRXJyb3IoZTogRXJyb3IsIG9uRXJyb3I6IHN0cmluZyk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogb25FcnJvcixcclxuICAgICAgICAgICAgcGF5bG9hZDogZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhhbmRsZUVycm9yT3V0bGV0KGU6IEVycm9yLCBvdXRsZXQ6IEVycm9yT3V0bGV0KTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4gRXJyb3JBY3Rpb25zLmFkZEF0T3V0bGV0KGUsIG91dGxldCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGhhbmRsZUVycm9yRGVmYXVsdChlOiBFcnJvcik6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogSHR0cEFjdGlvbnMuREVMRVRFX0VSUk9SLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBIdHRwQWN0aW9ucy5idWlsZEVycm9yUGF5bG9hZCgnbGFzdEVycm9yJywgZSlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkZWxldGUocGF0aDogc3RyaW5nLCBvblN1Y2Nlc3NQYXlsb2FkOiBhbnksIG9uU3VjY2Vzcz86IHN0cmluZywgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0KTogSHR0cEFjdGlvbiB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IE9iamVjdC5hc3NpZ24obmV3IEh0dHBEZWxldGVQYXlsb2FkPGFueT4oKSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzczogb25TdWNjZXNzIHx8IEh0dHBBY3Rpb25zLkRFTEVURV9TVUNDRVNTLFxyXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzUGF5bG9hZCxcclxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IgfHwgSHR0cEFjdGlvbnMuREVMRVRFX0VSUk9SXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBIdHRwQWN0aW9ucy5odHRwRGVsZXRlKHBheWxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBodHRwRGVsZXRlKHBheWxvYWQ6IEh0dHBEZWxldGVQYXlsb2FkPGFueT4pOiBIdHRwQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBIdHRwQWN0aW9ucy5ERUxFVEUsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkZWxldGVTdWNjZXNzKG1vZGVsOiBhbnksIGFjdGlvblR5cGU/OiBzdHJpbmcpOiBIdHRwQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBhY3Rpb25UeXBlIHx8IEh0dHBBY3Rpb25zLkRFTEVURV9TVUNDRVNTLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBtb2RlbFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGRlbGV0ZUVycm9yKGU6IEVycm9yLCBvbkVycm9yPzogc3RyaW5nIHwgRXJyb3JPdXRsZXQpOiBBY3Rpb24ge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25FcnJvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmhhbmRsZUVycm9yKGUsIG9uRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbHNlIGlmICh0eXBlb2Ygb25FcnJvciA9PT0gJ0Vycm9yT3V0bGV0Jykge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gSHR0cEFjdGlvbnMuaGFuZGxlRXJyb3JPdXRsZXQoZSwgb25FcnJvcik7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBIdHRwQWN0aW9ucy5oYW5kbGVFcnJvckRlZmF1bHQoZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldChwYXRoOiBzdHJpbmcsIG9uU3VjY2Vzcz86IHN0cmluZywgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0KTogSHR0cEFjdGlvbiB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IE9iamVjdC5hc3NpZ24obmV3IEh0dHBHZXRQYXlsb2FkPGFueT4oKSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzczogb25TdWNjZXNzIHx8IEh0dHBBY3Rpb25zLkdFVF9TVUNDRVNTLFxyXG4gICAgICAgICAgICAgICAgb25FcnJvcjogb25FcnJvciB8fCBIdHRwQWN0aW9ucy5HRVRfRVJST1JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmh0dHBHZXQocGF5bG9hZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGh0dHBHZXQocGF5bG9hZDogSHR0cEdldFBheWxvYWQ8YW55Pik6IEh0dHBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEh0dHBBY3Rpb25zLkdFVCxcclxuICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFN1Y2Nlc3MocmVzcG9uc2U6IGFueSwgYWN0aW9uVHlwZT86IHN0cmluZyk6IEh0dHBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IGFjdGlvblR5cGUgfHwgSHR0cEFjdGlvbnMuR0VUX1NVQ0NFU1MsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHJlc3BvbnNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RXJyb3IoZTogRXJyb3IsIG9uRXJyb3I/OiBzdHJpbmcgfCBFcnJvck91dGxldCk6IEFjdGlvbiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvbkVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gSHR0cEFjdGlvbnMuaGFuZGxlRXJyb3IoZSwgb25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVsc2UgaWYgKHR5cGVvZiBvbkVycm9yID09PSAnRXJyb3JPdXRsZXQnKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBIdHRwQWN0aW9ucy5oYW5kbGVFcnJvck91dGxldChlLCBvbkVycm9yKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmhhbmRsZUVycm9yRGVmYXVsdChlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcG9zdChwYXRoOiBzdHJpbmcsIG1vZGVsOiBhbnksIG9uU3VjY2Vzcz86IHN0cmluZywgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0KTogSHR0cEFjdGlvbiB7XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IE9iamVjdC5hc3NpZ24obmV3IEh0dHBQb3N0UGF5bG9hZDxhbnk+KCksXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXHJcbiAgICAgICAgICAgICAgICBtb2RlbDogbW9kZWwsXHJcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IG9uU3VjY2VzcyB8fCBIdHRwQWN0aW9ucy5QT1NUX1NVQ0NFU1MsXHJcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yIHx8IEh0dHBBY3Rpb25zLlBPU1RfRVJST1JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmh0dHBQb3N0KHBheWxvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBodHRwUG9zdChwYXlsb2FkOiBIdHRwUG9zdFBheWxvYWQ8YW55Pik6IEh0dHBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEh0dHBBY3Rpb25zLlBPU1QsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwb3N0Rm9ybVVybEVuY29kZWQocGF0aDogc3RyaW5nLCBtb2RlbDogYW55LCBvblN1Y2Nlc3M/OiBzdHJpbmcsIG9uRXJyb3I/OiBzdHJpbmcgfCBFcnJvck91dGxldCk6IEh0dHBBY3Rpb24ge1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBPYmplY3QuYXNzaWduKG5ldyBIdHRwUG9zdFBheWxvYWQ8YW55PigpLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgbW9kZWw6IG1vZGVsLFxyXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiBvblN1Y2Nlc3MgfHwgSHR0cEFjdGlvbnMuR0VUX1NVQ0NFU1MsXHJcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yIHx8IEh0dHBBY3Rpb25zLkdFVF9FUlJPUlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBIdHRwQWN0aW9ucy5QT1NUX0ZPUk1fVVJMX0VOQ09ERUQsXHJcbiAgICAgICAgICAgIHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwb3N0U3VjY2Vzcyhtb2RlbDogYW55LCBhY3Rpb25UeXBlPzogc3RyaW5nKTogSHR0cEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogYWN0aW9uVHlwZSB8fCBIdHRwQWN0aW9ucy5QT1NUX1NVQ0NFU1MsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IG1vZGVsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcG9zdEVycm9yKGU6IEVycm9yLCBvbkVycm9yPzogc3RyaW5nIHwgRXJyb3JPdXRsZXQpOiBBY3Rpb24ge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25FcnJvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmhhbmRsZUVycm9yKGUsIG9uRXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBIdHRwQWN0aW9ucy5oYW5kbGVFcnJvck91dGxldChlLCBvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmhhbmRsZUVycm9yRGVmYXVsdChlKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcHV0KHBhdGg6IHN0cmluZywgbW9kZWw6IGFueSwgb25TdWNjZXNzPzogc3RyaW5nLCBvbkVycm9yPzogc3RyaW5nIHwgRXJyb3JPdXRsZXQpOiBIdHRwQWN0aW9uIHtcclxuICAgICAgICBjb25zdCBwYXlsb2FkID0gT2JqZWN0LmFzc2lnbihuZXcgSHR0cFB1dFBheWxvYWQ8YW55PigpLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgbW9kZWw6IG1vZGVsLFxyXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiBvblN1Y2Nlc3MgfHwgSHR0cEFjdGlvbnMuUFVUX1NVQ0NFU1MsXHJcbiAgICAgICAgICAgICAgICBvbkVycm9yOiBvbkVycm9yIHx8IEh0dHBBY3Rpb25zLlBVVF9FUlJPUlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gSHR0cEFjdGlvbnMuaHR0cFB1dChwYXlsb2FkKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaHR0cFB1dChwYXlsb2FkOiBIdHRwUHV0UGF5bG9hZDxhbnk+KTogSHR0cEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogSHR0cEFjdGlvbnMuUFVULFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcHV0U3VjY2Vzcyhtb2RlbDogYW55LCBhY3Rpb25UeXBlPzogc3RyaW5nKTogSHR0cEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogYWN0aW9uVHlwZSB8fCBIdHRwQWN0aW9ucy5QVVRfU1VDQ0VTUyxcclxuICAgICAgICAgICAgcGF5bG9hZDogbW9kZWxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwdXRFcnJvcihlOiBFcnJvciwgb25FcnJvcj86IHN0cmluZyB8IEVycm9yT3V0bGV0KTogQWN0aW9uIHtcclxuICAgICAgICBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBIdHRwQWN0aW9ucy5oYW5kbGVFcnJvcihlLCBvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZWxzZSBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdFcnJvck91dGxldCcpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIEh0dHBBY3Rpb25zLmhhbmRsZUVycm9yT3V0bGV0KGUsIG9uRXJyb3IpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gSHR0cEFjdGlvbnMuaGFuZGxlRXJyb3JEZWZhdWx0KGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZWFyY2gocGF0aDogc3RyaW5nLCBvblN1Y2Nlc3M/OiBzdHJpbmcsIG9uRXJyb3I/OiBzdHJpbmcgfCBFcnJvck91dGxldCk6IEh0dHBBY3Rpb24ge1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBPYmplY3QuYXNzaWduKG5ldyBIdHRwR2V0UGF5bG9hZDxhbnk+KCksXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXHJcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IG9uU3VjY2VzcyB8fCBIdHRwQWN0aW9ucy5TRUFSQ0hfU1VDQ0VTUyxcclxuICAgICAgICAgICAgICAgIG9uRXJyb3I6IG9uRXJyb3IgfHwgSHR0cEFjdGlvbnMuU0VBUkNIX0VSUk9SXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEh0dHBBY3Rpb25zLlNFQVJDSCxcclxuICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNlYXJjaFN1Y2Nlc3MocmVzcG9uc2U6IGFueSwgYWN0aW9uVHlwZT86IHN0cmluZywgcGF0aD86IHN0cmluZyk6IEh0dHBBY3Rpb24ge1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBwYXRoID8gSHR0cEFjdGlvbnMubWF0Y2hQYXRoKHBhdGgsIHJlc3BvbnNlKSA6IHJlc3BvbnNlO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IGFjdGlvblR5cGUgfHwgSHR0cEFjdGlvbnMuU0VBUkNIX1NVQ0NFU1MsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiwgb2YsIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG4gICAgY2F0Y2hFcnJvcixcbiAgICBkZWJvdW5jZVRpbWUsXG4gICAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gICAgZmluYWxpemUsXG4gICAgbWFwXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHsgSHR0cEFjdGlvbnMgfSBmcm9tICcuL2h0dHAuYWN0aW9ucyc7XG5pbXBvcnQgeyBIdHRwT3B0aW9ucyB9IGZyb20gJy4vaHR0cC5tb2RlbHMnO1xuaW1wb3J0IHsgUXVlcnlNb2RlbCB9IGZyb20gJy4uL3NoYXJlZC9tb2RlbHMnO1xuaW1wb3J0IHsgc2VyaWFsaXplIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBIdHRwU2VydmljZSB7XG5cbiAgICBwcml2YXRlIF9hdXRoVG9rZW4gPSAnJztcbiAgICBwcml2YXRlIF9iYXNlVXJsID0gJyc7XG4gICAgcHJpdmF0ZSBhdXRoVG9rZW5DaGFuZ2VzOiBTdWJzY3JpcHRpb247XG4gICAgcHJpdmF0ZSBiYXNlVXJsQ2hhbmdlczogU3Vic2NyaXB0aW9uO1xuICAgIGhlYWRlcnMgPSB7fTtcbiAgICBsb2dFdmVudHMgPSB0cnVlO1xuICAgIHVzZURlZmF1bHRIZWFkZXJzID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaHR0cDogSHR0cENsaWVudCxcbiAgICAgICAgcHJpdmF0ZSBiYXNlVXJsJDogT2JzZXJ2YWJsZTxzdHJpbmc+LFxuICAgICAgICBwcml2YXRlIGF1dGhUb2tlbiQ6IE9ic2VydmFibGU8c3RyaW5nPlxuICAgICkge1xuICAgICAgICB0aGlzLmF1dGhUb2tlbkNoYW5nZXMgPSB0aGlzLmF1dGhUb2tlbiQuc3Vic2NyaWJlKHggPT4ge1xuICAgICAgICAgICAgdGhpcy5hdXRoVG9rZW4gPSB4O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5iYXNlVXJsQ2hhbmdlcyA9IHRoaXMuYmFzZVVybCQuc3Vic2NyaWJlKHggPT4ge1xuICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0geDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IGF1dGhUb2tlbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXV0aFRva2VuO1xuICAgIH1cblxuICAgIHNldCBhdXRoVG9rZW4odmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9hdXRoVG9rZW4gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYmFzZVVybCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFzZVVybDtcbiAgICB9XG5cbiAgICBzZXQgYmFzZVVybCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgZGVmYXVsdEhlYWRlcnMoKTogSHR0cEhlYWRlcnMge1xuICAgICAgICBsZXQgaGVhZGVyczogSHR0cEhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKTtcbiAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuYXBwZW5kKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBpZiAodGhpcy5hdXRoVG9rZW4pIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLmFwcGVuZCgnQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIHRoaXMuYXV0aFRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG5cbiAgICBnZXQgcmVxdWVzdEhlYWRlcnMoKTogSHR0cEhlYWRlcnMge1xuICAgICAgICBsZXQgaGVhZGVyczogSHR0cEhlYWRlcnMgPSB0aGlzLnVzZURlZmF1bHRIZWFkZXJzID8gdGhpcy5kZWZhdWx0SGVhZGVycyA6IG5ldyBIdHRwSGVhZGVycygpO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmhlYWRlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLmFwcGVuZChrZXksIHRoaXMuaGVhZGVyc1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH1cblxuICAgIGFwcGVuZEhlYWRlcnMoaGVhZGVycyA9IHt9KTogSHR0cEhlYWRlcnMge1xuICAgICAgICBsZXQgcmVxdWVzdEhlYWRlcnMgPSB0aGlzLnJlcXVlc3RIZWFkZXJzO1xuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLmFwcGVuZChrZXksIHRoaXMuaGVhZGVyc1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0SGVhZGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGEgREVMRVRFIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHJlbGF0aXZlUGF0aCBcbiAgICAgKiBAcGFyYW0gaGVhZGVycyBcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBcbiAgICAgKi9cbiAgICBkZWxldGUocmVsYXRpdmVQYXRoOiBzdHJpbmcsIGhlYWRlcnMgPSB7fSwgb3B0aW9uczogSHR0cE9wdGlvbnMgPSBuZXcgSHR0cE9wdGlvbnMoKSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IG9wdGlvbnMucHJlcGVuZEJhc2VVcmwgPyB0aGlzLmZvcm1hdFVybChyZWxhdGl2ZVBhdGgpIDogcmVsYXRpdmVQYXRoO1xuICAgICAgICBjb25zdCBodHRwSGVhZGVycyA9IHRoaXMuYXBwZW5kSGVhZGVycyhoZWFkZXJzKTtcbiAgICAgICAgY29uc3Qgb2JzID0gdGhpcy5odHRwLmRlbGV0ZSh1cmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JzLnBpcGUoXG4gICAgICAgICAgICBtYXAocmVzID0+IHJlcyAmJiByZXNbJ2pzb24nXSAmJiB0eXBlb2YgcmVzWydqc29uJ10gPT09ICdmdW5jdGlvbicgPyByZXNbJ2pzb24nXSgpIDogcmVzKSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMub25FcnJvcihlcnIpKSxcbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoJ0RFTEVURScsIHVybCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBHRVQgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gcmVsYXRpdmVQYXRoIFxuICAgICAqIEBwYXJhbSBoZWFkZXJzIFxuICAgICAqIEBwYXJhbSBvcHRpb25zIFxuICAgICAqL1xuICAgIGdldChyZWxhdGl2ZVBhdGg6IHN0cmluZywgaGVhZGVycyA9IHt9LCBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IG5ldyBIdHRwT3B0aW9ucygpKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgY29uc3QgdXJsID0gb3B0aW9ucy5wcmVwZW5kQmFzZVVybCA/IHRoaXMuZm9ybWF0VXJsKHJlbGF0aXZlUGF0aCkgOiByZWxhdGl2ZVBhdGg7XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJzID0gdGhpcy5hcHBlbmRIZWFkZXJzKGhlYWRlcnMpO1xuICAgICAgICBjb25zdCBvYnMgPSB0aGlzLmh0dHAuZ2V0KHVybCwge1xuICAgICAgICAgICAgaGVhZGVyczogaHR0cEhlYWRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYnMucGlwZShcbiAgICAgICAgICAgIG1hcChyZXMgPT4gcmVzICYmIHJlc1snanNvbiddICYmIHR5cGVvZiByZXNbJ2pzb24nXSA9PT0gJ2Z1bmN0aW9uJyA/IHJlc1snanNvbiddKCkgOiByZXMpLFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5vbkVycm9yKGVycikpLFxuICAgICAgICAgICAgZmluYWxpemUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgnR0VUJywgdXJsKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYXV0b2NvbXBsZXRlIEdFVCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSByZWxhdGl2ZVBhdGggXG4gICAgICogQHBhcmFtIGhlYWRlcnMgXG4gICAgICogQHBhcmFtIG9wdGlvbnMgXG4gICAgICovXG4gICAgYXV0b2NvbXBsZXRlKHJlbGF0aXZlUGF0aDogc3RyaW5nLCBxdWVyeTogUXVlcnlNb2RlbDxhbnk+LCBoZWFkZXJzID0ge30sIG9wdGlvbnM6IEh0dHBPcHRpb25zID0gbmV3IEh0dHBPcHRpb25zKCkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBpZiAoIXF1ZXJ5LnRlcm0gfHwgcXVlcnkudGVybS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gb2YoW10pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGggPSBgJHtyZWxhdGl2ZVBhdGh9LyR7UXVlcnlNb2RlbC5CdWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5KX1gO1xuICAgICAgICBjb25zdCB1cmwgPSBvcHRpb25zLnByZXBlbmRCYXNlVXJsID8gdGhpcy5mb3JtYXRVcmwocmVsYXRpdmVQYXRoKSA6IHJlbGF0aXZlUGF0aDtcbiAgICAgICAgY29uc3QgaHR0cEhlYWRlcnMgPSB0aGlzLmFwcGVuZEhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgIGNvbnN0IG9icyA9IHRoaXMuaHR0cC5nZXQodXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiBodHRwSGVhZGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9icy5waXBlKFxuICAgICAgICAgICAgbWFwKHJlcyA9PiByZXMgJiYgcmVzWydqc29uJ10gJiYgdHlwZW9mIHJlc1snanNvbiddID09PSAnZnVuY3Rpb24nID8gcmVzWydqc29uJ10oKSA6IHJlcyksXG4gICAgICAgICAgICBkZWJvdW5jZVRpbWUoNTAwKSxcbiAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgICAgICBtYXAoanNvbiA9PiBIdHRwQWN0aW9ucy5tYXRjaFBhdGgocGF0aCwganNvbikpLFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5vbkVycm9yKGVycikpLFxuICAgICAgICAgICAgZmluYWxpemUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgnR0VUJywgdXJsKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBQT1NUIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHJlbGF0aXZlUGF0aCBcbiAgICAgKiBAcGFyYW0gYm9keSBcbiAgICAgKiBAcGFyYW0gaGVhZGVycyBcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBcbiAgICAgKi9cbiAgICBwb3N0KHJlbGF0aXZlUGF0aDogc3RyaW5nLCBib2R5OiBhbnksIGhlYWRlcnMgPSB7fSwgb3B0aW9uczogSHR0cE9wdGlvbnMgPSBuZXcgSHR0cE9wdGlvbnMoKSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IG9wdGlvbnMucHJlcGVuZEJhc2VVcmwgPyB0aGlzLmZvcm1hdFVybChyZWxhdGl2ZVBhdGgpIDogcmVsYXRpdmVQYXRoO1xuICAgICAgICBjb25zdCBodHRwSGVhZGVycyA9IHRoaXMuYXBwZW5kSGVhZGVycyhoZWFkZXJzKTtcbiAgICAgICAgY29uc3Qgb2JzID0gdGhpcy5odHRwLnBvc3QodXJsLCBzZXJpYWxpemUoYm9keSksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JzLnBpcGUoXG4gICAgICAgICAgICBtYXAocmVzID0+IHJlcyAmJiByZXNbJ2pzb24nXSAmJiB0eXBlb2YgcmVzWydqc29uJ10gPT09ICdmdW5jdGlvbicgPyByZXNbJ2pzb24nXSgpIDogcmVzKSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMub25FcnJvcihlcnIpKSxcbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoJ1BPU1QnLCB1cmwpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIGEgUE9TVCByZXF1ZXN0IHdpdGggZm9ybSB1cmwtZW5jb2RlZCBjb250ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHJlbGF0aXZlUGF0aCBcbiAgICAgKiBAcGFyYW0gYm9keSBcbiAgICAgKiBAcGFyYW0gaGVhZGVycyBcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBcbiAgICAgKi9cbiAgICBwb3N0Rm9ybVVybEVuY29kZWQocmVsYXRpdmVQYXRoOiBzdHJpbmcsIGJvZHk6IGFueSwgaGVhZGVycyA9IHt9LCBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IG5ldyBIdHRwT3B0aW9ucygpKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgY29uc3QgdXJsID0gb3B0aW9ucy5wcmVwZW5kQmFzZVVybCA/IHRoaXMuZm9ybWF0VXJsKHJlbGF0aXZlUGF0aCkgOiByZWxhdGl2ZVBhdGg7XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0pO1xuICAgICAgICBjb25zdCBvYnMgPSB0aGlzLmh0dHAucG9zdCh1cmwsIGJvZHksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JzLnBpcGUoXG4gICAgICAgICAgICBtYXAocmVzID0+IHJlcyAmJiByZXNbJ2pzb24nXSAmJiB0eXBlb2YgcmVzWydqc29uJ10gPT09ICdmdW5jdGlvbicgPyByZXNbJ2pzb24nXSgpIDogcmVzKSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMub25FcnJvcihlcnIpKSxcbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoJ1BPU1QgRk9STSBVUkwtRU5DT0RFRCcsIHVybCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBQVVQgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gcmVsYXRpdmVQYXRoIFxuICAgICAqIEBwYXJhbSBib2R5IFxuICAgICAqIEBwYXJhbSBoZWFkZXJzIFxuICAgICAqIEBwYXJhbSBvcHRpb25zIFxuICAgICAqL1xuICAgIHB1dChyZWxhdGl2ZVBhdGg6IHN0cmluZywgYm9keTogYW55LCBoZWFkZXJzID0ge30sIG9wdGlvbnM6IEh0dHBPcHRpb25zID0gbmV3IEh0dHBPcHRpb25zKCkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBvcHRpb25zLnByZXBlbmRCYXNlVXJsID8gdGhpcy5mb3JtYXRVcmwocmVsYXRpdmVQYXRoKSA6IHJlbGF0aXZlUGF0aDtcbiAgICAgICAgY29uc3QgaHR0cEhlYWRlcnMgPSB0aGlzLmFwcGVuZEhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgIGNvbnN0IG9icyA9IHRoaXMuaHR0cC5wdXQodXJsLCBzZXJpYWxpemUoYm9keSksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBIZWFkZXJzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JzLnBpcGUoXG4gICAgICAgICAgICBtYXAocmVzID0+IHJlcyAmJiByZXNbJ2pzb24nXSAmJiB0eXBlb2YgcmVzWydqc29uJ10gPT09ICdmdW5jdGlvbicgPyByZXNbJ2pzb24nXSgpIDogcmVzKSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMub25FcnJvcihlcnIpKSxcbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoJ1BVVCcsIHVybCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgdXNlZCB0byBmb3JtYXQgVVJMcyBmb3IgYWxsIGNyb3NzLW9yaWdpbiByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBmb3JtYXRVcmwocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYmFzZVVybH0vJHtwYXRofWA7XG4gICAgfVxuXG4gICAgLyoqIFxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB3aGVuIGEgcHJvbWlzZSBpcyBwcmVmZXJyZWQgb3ZlciBhbiBvYnNlcnZhYmxlLlxuICAgICAqL1xuICAgIGdldFByb21pc2UodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHVybClcbiAgICAgICAgICAgIC50b1Byb21pc2UoKVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25FcnJvcihlcnJvcjogYW55KSB7XG4gICAgICAgIGxldCBlcnJvckJvZHk6IGFueTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVycm9yQm9keSA9IChlcnJvci5fYm9keSkgPyBKU09OLnBhcnNlKGVycm9yLl9ib2R5KSA6IHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzIDw9IDApIHtcbiAgICAgICAgICAgICAgICBlcnJvckJvZHkgPSB7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuJywgc3RhdHVzQ29kZTogNTAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yQm9keS5tZXNzYWdlKSB7XG4gICAgICAgICAgICBlcnJvckJvZHkubWVzc2FnZSA9IGVycm9yQm9keS5tZXNzYWdlLnJlcGxhY2UoJ0FuIGVycm9yIGhhcyBvY2N1cmVkIGluIHRoZSBhcGkuU3lzdGVtLkV4Y2VwdGlvbjogJywgJycpO1xuICAgICAgICAgICAgZXJyb3JCb2R5Lm1lc3NhZ2UgPSBlcnJvckJvZHkubWVzc2FnZS5zdWJzdHJpbmcoMCwgZXJyb3JCb2R5Lm1lc3NhZ2UuaW5kZXhPZignIGF0JykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yQm9keSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbXBsZXRlKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5sb2dFdmVudHMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDb21wbGV0ZWQgJHttZXRob2R9IHJlcXVlc3QgdG8gJHt1cmx9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSAnLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBidWlsZCB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VFbnRpdHkge1xyXG4gICAgY3JlYXRlZEJ5ID0gbnVsbDtcclxuICAgIGNyZWF0ZWRCeUlkID0gMDtcclxuICAgIGNyZWF0ZWREYXRlOiBEYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGZvcm1JZCA9IDA7XHJcbiAgICBsYXN0TW9kaWZpZWRCeSA9IG51bGw7XHJcbiAgICBsYXN0TW9kaWZpZWRCeUlkID0gMDtcclxuICAgIGxhc3RNb2RpZmllZERhdGU6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgbWF0Y2hlczogc3RyaW5nW10gPSBbXTtcclxuICAgIGlnbm9yZSA9IFtcclxuICAgICAgICAnX21ldGFkYXRhJyxcclxuICAgICAgICAnbWV0YWRhdGEnLFxyXG4gICAgICAgICdpZ25vcmUnLFxyXG4gICAgICAgICdjcmVhdGVkQnknLFxyXG4gICAgICAgICdjcmVhdGVkQnlJZCcsXHJcbiAgICAgICAgJ2NyZWF0ZWREYXRlJyxcclxuICAgICAgICAnZm9ybUlkJyxcclxuICAgICAgICAnbGFzdE1vZGlmaWVkQnknLFxyXG4gICAgICAgICdsYXN0TW9kaWZpZWRCeUlkJyxcclxuICAgICAgICAnbGFzdE1vZGlmaWVkRGF0ZScsXHJcbiAgICAgICAgJ2xhc3RNb2RpZmllZE9uJyxcclxuICAgICAgICAnbGFzdFVwZGF0ZWQnLFxyXG4gICAgICAgICdtYXRjaGVzJyxcclxuICAgIF07XHJcbiAgICBfbWV0YWRhdGE6IE1ldGFkYXRhID0gbmV3IE1ldGFkYXRhKCk7XHJcblxyXG4gICAgZ2V0IG1ldGFkYXRhKCk6IE1ldGFkYXRhIHtcclxuICAgICAgICByZXR1cm4gYnVpbGQoTWV0YWRhdGEsIHRoaXMuX21ldGFkYXRhLCB7XHJcbiAgICAgICAgICAgIGlnbm9yZTogdGhpcy5pZ25vcmVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbWV0YWRhdGEodmFsdWU6IE1ldGFkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0R2V0dGVycygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucHJvdG90eXBlKS5maWx0ZXIobmFtZSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSlbJ2dldCddID09PSAnZnVuY3Rpb24nO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRTZXR0ZXJzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm90b3R5cGUpLmZpbHRlcihuYW1lID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMucHJvdG90eXBlLCBuYW1lKVsnc2V0J10gPT09ICdmdW5jdGlvbic7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2V0dGVycygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlKS5maWx0ZXIobmFtZSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgbmFtZSlbJ2dldCddID09PSAnZnVuY3Rpb24nO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNldHRlcnMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSkuZmlsdGVyKG5hbWUgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIG5hbWUpWydzZXQnXSA9PT0gJ2Z1bmN0aW9uJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodmFsdWU6IGFueSk6IEJhc2VFbnRpdHkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBCYXNlRW50aXR5KCksIHZhbHVlKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlRW50aXR5IH0gZnJvbSAnLi9iYXNlLWVudGl0eSc7XHJcblxyXG5leHBvcnQgY29uc3QgQWN0aW9uQ3JlYXRvciA9IChhY3Rpb25UeXBlPzogYW55IHwgYW55W10pID0+IHtcclxuXHJcbiAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eVNpZ25hdHVyZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWV0aG9kID0gdGFyZ2V0W3Byb3BlcnR5U2lnbmF0dXJlXTtcclxuICAgICAgICBjb25zdCBkZWNvcmF0ZWRNZXRob2QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICR0aGlzID0gdGhpcztcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gbWV0aG9kLmFwcGx5KCR0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICBhY3Rpb24uYWN0aW9uVHlwZSA9IGFjdGlvblR5cGU7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGFyZ2V0W3Byb3BlcnR5U2lnbmF0dXJlXSA9IGRlY29yYXRlZE1ldGhvZDtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBBY3Rpb25UeXBlID0gKCkgPT4ge1xyXG5cclxuICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5U2lnbmF0dXJlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyBEZWNvcmF0b3IgRmFjdG9yeVxyXG4gKiBEZWNvcmF0ZXMgYSBjbGFzcy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBDbGFzcyA9IChtZXRhZGF0YTogYW55KSA9PiB7XHJcbiAgICBjb25zdCBjbGFzc0RlY29yYXRvciA9ICh0YXJnZXQ6IGFueSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNsYXNzRGVjb3JhdG9yO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IENvbW1hbmQgPSAoKSA9PiB7XHJcblxyXG4gICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlTaWduYXR1cmU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IERpc3BhdGNoZXIgPSAoKSA9PiB7XHJcblxyXG4gICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlTaWduYXR1cmU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERlY29yYXRlcyBhIGNsYXNzIHdpdGggcHJvcGVydGllcyBmcm9tIEJhc2VFbnRpdHlcclxuICovXHJcbmV4cG9ydCBjb25zdCBFbnRpdHkgPSAobWV0YWRhdGE/OiBhbnkpID0+IHtcclxuICAgIGZ1bmN0aW9uIGNsYXNzRGVjb3JhdG9yPFRGdW5jdGlvbiBleHRlbmRzIEZ1bmN0aW9uPih0YXJnZXQ6IFRGdW5jdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGN0b3I6IEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIG5ldyBCYXNlRW50aXR5KCksIHsgbWV0YWRhdGE6IG1ldGFkYXRhIHx8IHt9IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHRhcmdldC5wcm90b3R5cGUpO1xyXG4gICAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdGFyZ2V0O1xyXG4gICAgICAgIHJldHVybiA8VEZ1bmN0aW9uPmN0b3I7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNsYXNzRGVjb3JhdG9yO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50SGFuZGxlciA9ICgpID0+IHtcclxuXHJcbiAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eVNpZ25hdHVyZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgTGlmZWN5Y2xlSG9vayA9ICgpID0+IHtcclxuXHJcbiAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eVNpZ25hdHVyZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbn07XHJcblxyXG4vKipcclxuICogTWV0aG9kIERlY29yYXRvciBGYWN0b3J5XHJcbiAqIERlY29yYXRlcyBhIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBNZXRob2QgPSAobWV0YWRhdGE6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kRGVjb3JhdG9yID0gKHRhcmdldDogYW55LCBwcm9wZXJ0eVNpZ25hdHVyZTogc3RyaW5nLCBkZXNjcmlwdG9yOiBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjxhbnk+KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gbWV0aG9kRGVjb3JhdG9yO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFBhcmFtZXRlciBEZWNvcmF0b3IgRmFjdG9yeVxyXG4gKiBEZWNvcmF0ZXMgYSBwYXJhbWV0ZXIuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUGFyYW1ldGVyID0gKG1ldGFkYXRhOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHBhcmFtZXRlckRlY29yYXRvciA9ICh0YXJnZXQ6IGFueSwgcHJvcGVydHlTaWduYXR1cmU6IHN0cmluZywgcGFyYW1ldGVySW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHBhcmFtZXRlckRlY29yYXRvcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQcm9wZXJ0eSBEZWNvcmF0b3IgRmFjdG9yeVxyXG4gKiBEZWNvcmF0ZXMgYSBQcm9wZXJ0eS5cclxuICovXHJcbmV4cG9ydCBjb25zdCBQcm9wZXJ0eSA9IChtZXRhZGF0YTogYW55KSA9PiB7XHJcbiAgICBjb25zdCBwcm9wZXJ0eURlY29yYXRvciA9ICh0YXJnZXQ6IGFueSwgcHJvcGVydHlTaWduYXR1cmU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGlmICghdGFyZ2V0Lm1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5tZXRhZGF0YSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXQubWV0YWRhdGFbcHJvcGVydHlTaWduYXR1cmVdID0gT2JqZWN0LmFzc2lnbihtZXRhZGF0YSwgeyBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5U2lnbmF0dXJlIH0pO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHByb3BlcnR5RGVjb3JhdG9yO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN0YXRpYyBNZXRob2QgRGVjb3JhdG9yIEZhY3RvcnlcclxuICogRGVjb3JhdGVzIGEgc3RhdGljIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBTdGF0aWNNZXRob2QgPSAobWV0YWRhdGE6IGFueSkgPT4ge1xyXG4gICAgY29uc3Qgc3RhdGljTWV0aG9kRGVjb3JhdG9yID0gKHRhcmdldDogYW55LCBwcm9wZXJ0eVNpZ25hdHVyZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gc3RhdGljTWV0aG9kRGVjb3JhdG9yO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqICBTdGF0aWMgUHJvcGVydHkgRGVjb3JhdG9yIEZhY3RvcnlcclxuICogRGVjb3JhdGVzIGEgc3RhdGljIHByb3BlcnR5LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFN0YXRpY1Byb3BlcnR5ID0gKG1ldGFkYXRhOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHN0YXRpY1Byb3BlcnR5RGVjb3JhdG9yID0gKHRhcmdldDogYW55LCBwcm9wZXJ0eVNpZ25hdHVyZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gc3RhdGljUHJvcGVydHlEZWNvcmF0b3I7XHJcbn07XHJcbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgSHR0cFNlcnZpY2UgfSBmcm9tICcuL2h0dHAuc2VydmljZSc7XG5pbXBvcnQgeyBIdHRwR2V0UGF5bG9hZCwgSHR0cFBvc3RQYXlsb2FkLCBIdHRwUHV0UGF5bG9hZCwgSHR0cERlbGV0ZVBheWxvYWQgfSBmcm9tICcuL2h0dHAubW9kZWxzJztcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuLi9zaGFyZWQvZGVjb3JhdG9ycyc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEh0dHBDb21tYW5kczxUPiB7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwU2VydmljZSkge1xuICB9XG5cbiAgQENvbW1hbmQoKVxuICBkZWxldGUkKHBheWxvYWQ6IEh0dHBEZWxldGVQYXlsb2FkPFQ+KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZShwYXlsb2FkLnBhdGgsIHBheWxvYWQuaGVhZGVycywgcGF5bG9hZC5vcHRpb25zKTtcbiAgfVxuXG4gIEBDb21tYW5kKClcbiAgZ2V0JChwYXlsb2FkOiBIdHRwR2V0UGF5bG9hZDxUPik6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQocGF5bG9hZC5wYXRoLCBwYXlsb2FkLmhlYWRlcnMsIHBheWxvYWQub3B0aW9ucyk7XG4gIH1cblxuICBAQ29tbWFuZCgpXG4gIHBvc3QkKHBheWxvYWQ6IEh0dHBQb3N0UGF5bG9hZDxUPik6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHBheWxvYWQucGF0aCwgcGF5bG9hZC5tb2RlbCwgcGF5bG9hZC5oZWFkZXJzLCBwYXlsb2FkLm9wdGlvbnMpO1xuICB9XG5cbiAgQENvbW1hbmQoKVxuICBwb3N0Rm9ybVVybEVuY29kZWQkKHBheWxvYWQ6IEh0dHBQb3N0UGF5bG9hZDxUPik6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0Rm9ybVVybEVuY29kZWQocGF5bG9hZC5wYXRoLCBwYXlsb2FkLm1vZGVsLCBwYXlsb2FkLmhlYWRlcnMsIHBheWxvYWQub3B0aW9ucyk7XG4gIH1cblxuICBAQ29tbWFuZCgpXG4gIHB1dCQocGF5bG9hZDogSHR0cFB1dFBheWxvYWQ8VD4pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHBheWxvYWQucGF0aCwgcGF5bG9hZC5tb2RlbCwgcGF5bG9hZC5oZWFkZXJzLCBwYXlsb2FkLm9wdGlvbnMpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQWN0aW9ucywgRWZmZWN0LCBvZlR5cGUgfSBmcm9tICdAbmdyeC9lZmZlY3RzJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgbWFwLCBtZXJnZU1hcCwgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IEh0dHBBY3Rpb25zIH0gZnJvbSAnLi9odHRwLmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBIdHRwQ29tbWFuZHMgfSBmcm9tICcuL2h0dHAuY29tbWFuZHMnO1xyXG5pbXBvcnQgeyBIdHRwR2V0UGF5bG9hZCwgSHR0cFBvc3RQYXlsb2FkLCBIdHRwUHV0UGF5bG9hZCwgSHR0cERlbGV0ZVBheWxvYWQgfSBmcm9tICcuL2h0dHAubW9kZWxzJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEh0dHBFZmZlY3RzPFQ+IHtcclxuXHJcbiAgICBARWZmZWN0KCkgb25EZWxldGUkID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIG9mVHlwZShIdHRwQWN0aW9ucy5ERUxFVEUpLFxyXG4gICAgICAgIG1lcmdlTWFwKChhY3Rpb246IEFjdGlvbikgPT4gdGhpcy5kZWxldGUkKGFjdGlvbi5wYXlsb2FkKSlcclxuICAgICk7XHJcblxyXG4gICAgQEVmZmVjdCgpIG9uR2V0JCA9IHRoaXMuYWN0aW9ucyQucGlwZShcclxuICAgICAgICBvZlR5cGUoSHR0cEFjdGlvbnMuR0VUKSxcclxuICAgICAgICBtZXJnZU1hcCgoYWN0aW9uOiBBY3Rpb24pID0+IHRoaXMuZ2V0JChhY3Rpb24ucGF5bG9hZCkpXHJcbiAgICApO1xyXG5cclxuICAgIEBFZmZlY3QoKSBvblBvc3QkID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIG9mVHlwZShIdHRwQWN0aW9ucy5QT1NUKSxcclxuICAgICAgICBtZXJnZU1hcCgoYWN0aW9uOiBBY3Rpb24pID0+IHRoaXMucG9zdCQoYWN0aW9uLnBheWxvYWQpKVxyXG4gICAgKTtcclxuXHJcbiAgICBARWZmZWN0KCkgb25Qb3N0Rm9ybVVybEVuY29kZWQkID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIG9mVHlwZShIdHRwQWN0aW9ucy5QT1NUX0ZPUk1fVVJMX0VOQ09ERUQpLFxyXG4gICAgICAgIG1lcmdlTWFwKChhY3Rpb246IEFjdGlvbikgPT4gdGhpcy5wb3N0Rm9ybVVybEVuY29kZWQkKGFjdGlvbi5wYXlsb2FkKSlcclxuICAgICk7XHJcblxyXG4gICAgQEVmZmVjdCgpIG9uUHV0JCA9IHRoaXMuYWN0aW9ucyQucGlwZShcclxuICAgICAgICBvZlR5cGUoSHR0cEFjdGlvbnMuUFVUKSxcclxuICAgICAgICBtZXJnZU1hcCgoYWN0aW9uOiBBY3Rpb24pID0+IHRoaXMucHV0JChhY3Rpb24ucGF5bG9hZCkpXHJcbiAgICApO1xyXG5cclxuICAgIEBFZmZlY3QoKSBvblNlYXJjaCQgPSB0aGlzLmFjdGlvbnMkLnBpcGUoXHJcbiAgICAgICAgb2ZUeXBlKEh0dHBBY3Rpb25zLlNFQVJDSCksXHJcbiAgICAgICAgbWVyZ2VNYXAoKGFjdGlvbjogQWN0aW9uKSA9PiB0aGlzLnNlYXJjaCQoYWN0aW9uLnBheWxvYWQpKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGFjdGlvbnMkOiBBY3Rpb25zLFxyXG4gICAgICAgIHByaXZhdGUgY29tbWFuZHM6IEh0dHBDb21tYW5kczxUPlxyXG4gICAgKSB7IH1cclxuXHJcbiAgICBkZWxldGUkKHBheWxvYWQ6IEh0dHBEZWxldGVQYXlsb2FkPFQ+KTogT2JzZXJ2YWJsZTxBY3Rpb24+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnREVMRVRFOlxcdCcsIHBheWxvYWQub25TdWNjZXNzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5kZWxldGUkKHBheWxvYWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgobW9kZWw6IFQpID0+IEh0dHBBY3Rpb25zLmRlbGV0ZVN1Y2Nlc3MocGF5bG9hZC5vblN1Y2Nlc3NQYXlsb2FkIHx8IG1vZGVsLCBwYXlsb2FkLm9uU3VjY2VzcykpLFxyXG4gICAgICAgICAgICBjYXRjaEVycm9yKChlOiBFcnJvcikgPT4gb2YoSHR0cEFjdGlvbnMuZGVsZXRlRXJyb3IoZSwgcGF5bG9hZC5vbkVycm9yKSkpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQkKHBheWxvYWQ6IEh0dHBHZXRQYXlsb2FkPFQ+KTogT2JzZXJ2YWJsZTxBY3Rpb24+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnR0VUOlxcdCcsIHBheWxvYWQub25TdWNjZXNzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5nZXQkKHBheWxvYWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgobW9kZWw6IFQpID0+IEh0dHBBY3Rpb25zLmdldFN1Y2Nlc3MobW9kZWwsIHBheWxvYWQub25TdWNjZXNzKSksXHJcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoKGU6IEVycm9yKSA9PiBvZihIdHRwQWN0aW9ucy5nZXRFcnJvcihlLCBwYXlsb2FkLm9uRXJyb3IpKSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3QkKHBheWxvYWQ6IEh0dHBQb3N0UGF5bG9hZDxUPik6IE9ic2VydmFibGU8QWN0aW9uPiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ1BPU1Q6XFx0JywgcGF5bG9hZC5vblN1Y2Nlc3MpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLnBvc3QkKHBheWxvYWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgobW9kZWw6IFQpID0+IEh0dHBBY3Rpb25zLnBvc3RTdWNjZXNzKG1vZGVsLCBwYXlsb2FkLm9uU3VjY2VzcykpLFxyXG4gICAgICAgICAgICBjYXRjaEVycm9yKChlOiBFcnJvcikgPT4gb2YoSHR0cEFjdGlvbnMucG9zdEVycm9yKGUsIHBheWxvYWQub25FcnJvcikpKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdEZvcm1VcmxFbmNvZGVkJChwYXlsb2FkOiBIdHRwUG9zdFBheWxvYWQ8VD4pOiBPYnNlcnZhYmxlPEFjdGlvbj4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdQT1NUOlxcdCcsIHBheWxvYWQub25TdWNjZXNzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5wb3N0Rm9ybVVybEVuY29kZWQkKHBheWxvYWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgobW9kZWw6IFQpID0+IEh0dHBBY3Rpb25zLnBvc3RTdWNjZXNzKG1vZGVsLCBwYXlsb2FkLm9uU3VjY2VzcykpLFxyXG4gICAgICAgICAgICBjYXRjaEVycm9yKChlOiBFcnJvcikgPT4gb2YoSHR0cEFjdGlvbnMucG9zdEVycm9yKGUsIHBheWxvYWQub25FcnJvcikpKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHV0JChwYXlsb2FkOiBIdHRwUHV0UGF5bG9hZDxUPik6IE9ic2VydmFibGU8QWN0aW9uPiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ1BVVDpcXHQnLCBwYXlsb2FkLm9uU3VjY2Vzcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZHMucHV0JChwYXlsb2FkKS5waXBlKFxyXG4gICAgICAgICAgICBtYXAoKG1vZGVsOiBUKSA9PiBIdHRwQWN0aW9ucy5wdXRTdWNjZXNzKG1vZGVsLCBwYXlsb2FkLm9uU3VjY2VzcykpLFxyXG4gICAgICAgICAgICBjYXRjaEVycm9yKChlOiBFcnJvcikgPT4gb2YoSHR0cEFjdGlvbnMucHV0RXJyb3IoZSwgcGF5bG9hZC5vbkVycm9yKSkpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWFyY2gkKHBheWxvYWQ6IEh0dHBHZXRQYXlsb2FkPFQ+KTogT2JzZXJ2YWJsZTxBY3Rpb24+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnU0VBUkNIOlxcdCcsIHBheWxvYWQub25TdWNjZXNzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5nZXQkKHBheWxvYWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgobW9kZWw6IFQpID0+IEh0dHBBY3Rpb25zLnNlYXJjaFN1Y2Nlc3MobW9kZWwsIHBheWxvYWQub25TdWNjZXNzLCBwYXlsb2FkLnBhdGgpKSxcclxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoZTogRXJyb3IpID0+IG9mKEh0dHBBY3Rpb25zLmdldEVycm9yKGUsIHBheWxvYWQub25FcnJvcikpKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMsIEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5cbmltcG9ydCB7IEh0dHBDb21tYW5kcyB9IGZyb20gJy4vaHR0cC5jb21tYW5kcyc7XG5pbXBvcnQgeyBIdHRwRWZmZWN0cyB9IGZyb20gJy4vaHR0cC5lZmZlY3RzJztcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSAnLi9odHRwLnNlcnZpY2UnO1xuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuY29uc3QgQkFTRV9VUkwkID0gbmV3IEluamVjdGlvblRva2VuPE9ic2VydmFibGU8c3RyaW5nPj4oJ0FQSSBCYXNlIFVSTCcpO1xuY29uc3QgQVVUSF9UT0tFTiQgPSBuZXcgSW5qZWN0aW9uVG9rZW48T2JzZXJ2YWJsZTxzdHJpbmc+PignQVBJIEF1dGggVG9rZW4nKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VVcmxGYWN0b3J5KHN0b3JlOiBTdG9yZTxhbnk+LCBiYXNlVXJsU2VsZWN0b3I6IFNlbGVjdG9yPHN0cmluZz4pOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuICByZXR1cm4gc3RvcmUucGlwZShiYXNlVXJsU2VsZWN0b3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXV0aFRva2VuRmFjdG9yeShzdG9yZTogU3RvcmU8YW55PiwgYXV0aFRva2VuU2VsZWN0b3I6IFNlbGVjdG9yPHN0cmluZz4pOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuICByZXR1cm4gc3RvcmUucGlwZShhdXRoVG9rZW5TZWxlY3Rvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBodHRwU2VydmljZUZhY3RvcnkoaHR0cDogSHR0cENsaWVudCwgYmFzZVVybCQ6IE9ic2VydmFibGU8c3RyaW5nPiwgYXV0aFRva2VuJDogT2JzZXJ2YWJsZTxzdHJpbmc+KTogSHR0cFNlcnZpY2Uge1xuICByZXR1cm4gbmV3IEh0dHBTZXJ2aWNlKGh0dHAsIGJhc2VVcmwkLCBhdXRoVG9rZW4kKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3ZpZGVIdHRwQ29udGV4dCh1cmxTZWxlY3RvcjogU2VsZWN0b3I8c3RyaW5nPiwgYXV0aFRva2VuU2VsZWN0b3I6IFNlbGVjdG9yPHN0cmluZz4pOiBhbnlbXSB7XG4gIHJldHVybiBbXG4gICAgSHR0cEVmZmVjdHMsXG4gICAgSHR0cENvbW1hbmRzLFxuICAgIHsgcHJvdmlkZTogSHR0cFNlcnZpY2UsIHVzZUZhY3Rvcnk6IGh0dHBTZXJ2aWNlRmFjdG9yeSwgZGVwczogW0h0dHBDbGllbnQsICdCQVNFX1VSTCQnLCAnQVVUSF9UT0tFTiQnXSB9LFxuICAgIHsgcHJvdmlkZTogJ1VSTF9TRUxFQ1RPUicsIHVzZVZhbHVlOiB1cmxTZWxlY3RvciB9LFxuICAgIHsgcHJvdmlkZTogJ0JBU0VfVVJMJCcsIHVzZUZhY3Rvcnk6IGJhc2VVcmxGYWN0b3J5LCBkZXBzOiBbU3RvcmUsICdVUkxfU0VMRUNUT1InXSB9LFxuICAgIHsgcHJvdmlkZTogJ1RPS0VOX1NFTEVDVE9SJywgdXNlVmFsdWU6IGF1dGhUb2tlblNlbGVjdG9yIH0sXG4gICAgeyBwcm92aWRlOiAnQVVUSF9UT0tFTiQnLCB1c2VGYWN0b3J5OiBhdXRoVG9rZW5GYWN0b3J5LCBkZXBzOiBbU3RvcmUsICdUT0tFTl9TRUxFQ1RPUiddIH0sXG4gIF07XG59XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgSHR0cENsaWVudE1vZHVsZSxcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBIdHRwTW9kdWxlIHtcblxuICBzdGF0aWMgZm9yUm9vdChiYXNlVXJsU2VsZWN0b3I6IFNlbGVjdG9yPHN0cmluZz4sIGF1dGhUb2tlblNlbGVjdG9yOiBTZWxlY3RvcjxzdHJpbmc+KTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBIdHRwTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBwcm92aWRlSHR0cENvbnRleHQoYmFzZVVybFNlbGVjdG9yLCBhdXRoVG9rZW5TZWxlY3RvcilcbiAgICB9O1xuICB9XG5cbn1cbiIsImltcG9ydCB7IEFkZExvb2t1cFBheWxvYWQsIExvb2t1cCB9IGZyb20gJy4vbG9va3VwLm1vZGVscyc7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL21vZGVscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9va3VwQWN0aW9ucyB7XHJcbiAgICBzdGF0aWMgQUREX0tFWVMgPSAnW0xvb2t1cF0gQWRkIGtleXMnO1xyXG4gICAgc3RhdGljIEFERF9LRVkgPSAnW0xvb2t1cF0gQWRkIGtleSc7XHJcbiAgICBzdGF0aWMgQUREX1ZBTFVFUyA9ICdbTG9va3VwXSBBZGQgdmFsdWVzJztcclxuICAgIHN0YXRpYyBSRU1PVkVfS0VZID0gJ1tMb29rdXBdIFJlbW92ZSBrZXknO1xyXG5cclxuICAgIHN0YXRpYyBhZGRLZXkocGF5bG9hZDogQWRkTG9va3VwUGF5bG9hZCk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogTG9va3VwQWN0aW9ucy5BRERfS0VZLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkVmFsdWVzKHBheWxvYWQ6IExvb2t1cFtdKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBMb29rdXBBY3Rpb25zLkFERF9WQUxVRVMsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByZW1vdmVLZXkoa2V5OiBzdHJpbmcpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IExvb2t1cEFjdGlvbnMuUkVNT1ZFX0tFWSxcclxuICAgICAgICAgICAgcGF5bG9hZDoga2V5XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgYnVpbGQgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvb2t1cCB7XHJcbiAgICBleHBpcmVzOiBEYXRlO1xyXG4gICAgdHlwZU5hbWUgPSAnJztcclxuICAgIHZhbHVlczogTG9va3VwVmFsdWVbXSA9IFtdO1xyXG4gICAgX2tleSA9ICcnO1xyXG5cclxuICAgIGdldCBrZXkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fa2V5IHx8IHRoaXMudHlwZU5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGtleSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fa2V5ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMua2V5ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMubWFwKHggPT4geC5uYW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvb2t1cFZhbHVlIHtcclxuICAgIGlkID0gMDtcclxuICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICBkZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgbmFtZSA9ICcnO1xyXG4gICAgc29ydCA9IDA7XHJcbiAgICB0b29sdGlwID0gJyc7IC8vIHVzZSB0aGlzIGZvciBhY2Nlc3NpYmlsaXR5IGFuZC9vciBoZWxwIHRvb2x0aXAgbWVzc2FnZXNcclxuICAgIF9sYWJlbCA9ICcnO1xyXG4gICAgX3ZhbHVlOiBhbnk7XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlIHx8IHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZhbHVlKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sYWJlbCB8fCB0aGlzLmRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBsYWJlbCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fbGFiZWwgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMb29rdXBzIHtcclxuICAgIFtrZXk6IHN0cmluZ106IExvb2t1cDtcclxuXHJcbiAgICBzdGF0aWMgQWRkTG9va3VwcyhzdGF0ZTogTG9va3VwcywgbG9va3VwczogTG9va3VwW10pOiBMb29rdXBzIHtcclxuICAgICAgICByZXR1cm4gbG9va3Vwcy5yZWR1Y2UoKGFjYzogTG9va3VwcywgbG9va3VwOiBMb29rdXApOiBMb29rdXBzID0+XHJcbiAgICAgICAgICAgIGJ1aWxkKExvb2t1cHMsIGFjYywgeyBbbG9va3VwLmtleV06IGJ1aWxkKExvb2t1cCwgbG9va3VwKSB9KSwgc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBBZGRMb29rdXAoc3RhdGU6IExvb2t1cHMsIGxvb2t1cDogTG9va3VwKTogTG9va3VwcyB7XHJcbiAgICAgICAgcmV0dXJuIGJ1aWxkKExvb2t1cHMsIHN0YXRlLCB7XHJcbiAgICAgICAgICAgIFtsb29rdXAua2V5XTogYnVpbGQoTG9va3VwLCBsb29rdXApXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkTG9va3VwVmFsdWVzKHZhbHVlczogTG9va3VwVmFsdWVbXSwgbmFtZXM6IHN0cmluZ1tdKTogTG9va3VwVmFsdWVbXSB7XHJcbiAgICAgICAgcmV0dXJuIG5hbWVzLnJlZHVjZSgoYWNjLCBuYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzLmZpbmQoeCA9PiB4Lm5hbWUgPT09IG5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPyBbLi4uYWNjLCB2YWx1ZV0gOiBbLi4uYWNjXTtcclxuICAgICAgICB9LCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbmRMb29rdXBJZEJ5TmFtZSh2YWx1ZXM6IExvb2t1cFZhbHVlW10sIG5hbWU6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgbGtwID0gYnVpbGQoTG9va3VwVmFsdWUsIHZhbHVlcy5maW5kKHggPT4geC5uYW1lID09PSBuYW1lKSk7XHJcbiAgICAgICAgcmV0dXJuIGxrcC5pZDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRmluZExvb2t1cE5hbWVCeUlkKHZhbHVlczogTG9va3VwVmFsdWVbXSwgaWQ6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgbGtwID0gYnVpbGQoTG9va3VwVmFsdWUsIHZhbHVlcy5maW5kKHggPT4geC5pZCA9PT0gaWQpKTtcclxuICAgICAgICByZXR1cm4gbGtwLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFJlbW92ZUxvb2t1cChzdGF0ZTogTG9va3VwcywgcmVtb3ZlS2V5OiBzdHJpbmcpOiBMb29rdXBzIHtcclxuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IG5ldyBMb29rdXBzKCk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHN0YXRlKS5maWx0ZXIoa2V5ID0+IGtleSAhPT0gcmVtb3ZlS2V5KTtcclxuICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlW2tleV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBZGRMb29rdXBQYXlsb2FkIHtcclxuICAgIGtleSA9ICcnO1xyXG4gICAgdmFsdWU6ICcnO1xyXG59XHJcbiIsImltcG9ydCB7IEluamVjdGFibGUsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7IExvb2t1cEFjdGlvbnMgfSBmcm9tICcuL2xvb2t1cC5hY3Rpb25zJztcbmltcG9ydCB7IExvb2t1cCwgQWRkTG9va3VwUGF5bG9hZCB9IGZyb20gJy4vbG9va3VwLm1vZGVscyc7XG5pbXBvcnQgeyBMT09LVVBfUEFUSCwgTE9PS1VQX0tFWVMgfSBmcm9tICcuL2xvb2t1cC5tb2R1bGUnO1xuaW1wb3J0IHsgSHR0cEFjdGlvbnMgfSBmcm9tICcuLi9odHRwL2h0dHAuYWN0aW9ucyc7XG5pbXBvcnQgeyBidWlsZCB9IGZyb20gJy4uL3NoYXJlZC91dGlscyc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIExvb2t1cFNlcnZpY2Uge1xuXG4gIF9rZXlzOiBzdHJpbmdbXSA9IFtdO1xuICBwYXRoID0gJ2xvb2t1cCc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHN0b3JlOiBTdG9yZTxhbnk+LFxuICAgIEBJbmplY3QoTE9PS1VQX1BBVEgpIGxvb2t1cFBhdGggPSAnbG9va3VwJyxcbiAgICBASW5qZWN0KExPT0tVUF9LRVlTKSBsb29rdXBLZXlzOiBzdHJpbmdbXSA9IFtdXG4gICkge1xuICAgIHRoaXMucGF0aCA9IGxvb2t1cFBhdGg7XG4gICAgdGhpcy5rZXlzID0gbG9va3VwS2V5cztcbiAgfVxuXG4gIGdldCBrZXlzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5fa2V5cztcbiAgfVxuXG4gIHNldCBrZXlzKHZhbHVlOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX2tleXMgPSB2YWx1ZTtcbiAgfVxuXG4gIGxvYWQoa2V5czogc3RyaW5nW10sIHZhbHVlcz86IExvb2t1cFtdKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgdGhpcy5sb2FkVmFsdWVzKHZhbHVlcyk7XG4gICAgfVxuICAgIHRoaXMubG9hZEtleXMoa2V5cyk7XG4gIH1cblxuICBsb2FkS2V5cyhrZXlzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIHRoaXMua2V5cyA9IGtleXM7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChIdHRwQWN0aW9ucy5nZXQoYCR7dGhpcy5wYXRofSR7dGhpcy5idWlsZFF1ZXJ5U3RyaW5nKCl9YCwgTG9va3VwQWN0aW9ucy5BRERfS0VZUykpO1xuICB9XG5cbiAgbG9hZFZhbHVlcyh2YWx1ZXM6IExvb2t1cFtdKTogdm9pZCB7XG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaChMb29rdXBBY3Rpb25zLmFkZFZhbHVlcyh2YWx1ZXMpKTtcbiAgfVxuXG4gIGxvb2t1cChrZXk6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUuc2VsZWN0KCdsb29rdXAnKS5waXBlKFxuICAgICAgbWFwKHMgPT4gc1trZXldKVxuICAgICk7XG4gIH1cblxuICBhZGRLZXkoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKExvb2t1cEFjdGlvbnMuYWRkS2V5KFxuICAgICAgYnVpbGQoQWRkTG9va3VwUGF5bG9hZCxcbiAgICAgICAge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICApKSk7XG4gIH1cblxuICByZW1vdmVLZXkoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKExvb2t1cEFjdGlvbnMucmVtb3ZlS2V5KGtleSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFF1ZXJ5U3RyaW5nKCk6IHN0cmluZyB7XG4gICAgbGV0IHF1ZXJ5ID0gdGhpcy5rZXlzLmxlbmd0aCA+IDAgPyBgP2tleXM9JHt0aGlzLmtleXNbMF19YCA6ICcnO1xuICAgIHRoaXMua2V5cy5maWx0ZXIoKGtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiBpbmRleCAhPT0gMClcbiAgICAgIC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHF1ZXJ5ICs9IGAma2V5cz0ke2tleX1gO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzLCBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5cbmltcG9ydCB7IExvb2t1cFNlcnZpY2UgfSBmcm9tICcuL2xvb2t1cC5zZXJ2aWNlJztcblxuZXhwb3J0IGNvbnN0IExPT0tVUF9QQVRIID0gbmV3IEluamVjdGlvblRva2VuPHN0cmluZz4oJ0FQSSBsb29rdXAgZW5kcG9pbnQnKTtcbmV4cG9ydCBjb25zdCBMT09LVVBfS0VZUyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxzdHJpbmdbXT4oJ0FQSSBsb29rdXAga2V5cycpO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9va3VwU2VydmljZUZhY3Rvcnkoc3RvcmU6IFN0b3JlPGFueT4sIExPT0tVUF9QQVRIID0gJ2xvb2t1cCcsIExPT0tVUF9LRVlTOiBzdHJpbmdbXSA9IFtdKTogTG9va3VwU2VydmljZSB7XG4gIHJldHVybiBuZXcgTG9va3VwU2VydmljZShzdG9yZSwgTE9PS1VQX1BBVEgsIExPT0tVUF9LRVlTKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3ZpZGVMb29rdXAocGF0aCA9ICcnLCBrZXlzOiBzdHJpbmdbXSA9IFtdKTogYW55W10ge1xuICByZXR1cm4gW1xuICAgIHsgcHJvdmlkZTogTG9va3VwU2VydmljZSwgdXNlRmFjdG9yeTogbG9va3VwU2VydmljZUZhY3RvcnksIGRlcHM6IFtTdG9yZSwgTE9PS1VQX1BBVEgsIExPT0tVUF9LRVlTXSB9LFxuICAgIHsgcHJvdmlkZTogTE9PS1VQX1BBVEgsIHVzZVZhbHVlOiBwYXRoIH0sXG4gICAgeyBwcm92aWRlOiBMT09LVVBfS0VZUywgdXNlVmFsdWU6IGtleXMgfSxcbiAgXTtcbn1cblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW10sXG4gIGRlY2xhcmF0aW9uczogW11cbn0pXG5leHBvcnQgY2xhc3MgTG9va3VwTW9kdWxlIHtcblxuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IExvb2t1cE1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogcHJvdmlkZUxvb2t1cCgnbG9va3VwJywgW10pXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmb3JSb290V2l0aFBhdGgocGF0aCA9ICcnKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBMb29rdXBNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IHByb3ZpZGVMb29rdXAocGF0aCwgW10pXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmb3JSb290V2l0aEtleXMoa2V5czogc3RyaW5nW10pOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IExvb2t1cE1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogcHJvdmlkZUxvb2t1cCgnbG9va3VwJywga2V5cylcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZvclJvb3RXaXRoUGF0aEFuZEtleXMocGF0aCA9ICcnLCBrZXlzOiBzdHJpbmdbXSk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogTG9va3VwTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBwcm92aWRlTG9va3VwKHBhdGgsIGtleXMpXG4gICAgfTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL21vZGVscyc7XHJcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uL3NoYXJlZC9jb25maWcnO1xyXG5pbXBvcnQgeyBXaW5kb3dSZXNpemUgfSBmcm9tICcuLi9zaGFyZWQvd2luZG93JztcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBBY3Rpb25zIHtcclxuICAgIHN0YXRpYyBJTklUX1NUT1JFID0gJ1tTdG9yYWdlXSBJbml0IFN0b3JlJztcclxuICAgIHN0YXRpYyBOT19BQ1RJT04gPSAnW0FwcF0gTm8gQWN0aW9uJztcclxuXHJcbiAgICBzdGF0aWMgbm9BY3Rpb24oKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBBcHBBY3Rpb25zLk5PX0FDVElPTlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdBY3Rpb25zIHtcclxuICAgIHN0YXRpYyBJTklUSUFMSVpFID0gJ1tDb25maWddIEluaXRpYWxpemUgQ29uZmlndXJhdGlvbic7XHJcblxyXG4gICAgc3RhdGljIGluaXRpYWxpemUoY29uZmlnOiBDb25maWcpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IENvbmZpZ0FjdGlvbnMuSU5JVElBTElaRSxcclxuICAgICAgICAgICAgcGF5bG9hZDogY29uZmlnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNpZGVuYXZBY3Rpb25zIHtcclxuICAgIHN0YXRpYyBDTE9TRSA9ICdbU2lkZW5hdl0gQ2xvc2UnO1xyXG4gICAgc3RhdGljIE9QRU4gPSAnW1NpZGVuYXZdIE9wZW4nO1xyXG4gICAgc3RhdGljIFRPR0dMRSA9ICdbU2lkZW5hdl0gVG9nZ2xlJztcclxuXHJcbiAgICBzdGF0aWMgY2xvc2UoKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBTaWRlbmF2QWN0aW9ucy5DTE9TRVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9wZW4oKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBTaWRlbmF2QWN0aW9ucy5PUEVOXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdG9nZ2xlKCk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogU2lkZW5hdkFjdGlvbnMuVE9HR0xFXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdpbmRvd0FjdGlvbnMge1xyXG4gICAgc3RhdGljIFJFU0laRSA9ICdbV2luZG93XSBSZXNpemUnO1xyXG5cclxuICAgIHN0YXRpYyByZXNpemUocGF5bG9hZDogV2luZG93UmVzaXplKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBXaW5kb3dBY3Rpb25zLlJFU0laRSxcclxuICAgICAgICAgICAgcGF5bG9hZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTG9va3VwQWN0aW9ucyB9IGZyb20gJy4vbG9va3VwLmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBMb29rdXBzLCBMb29rdXAgfSBmcm9tICcuL2xvb2t1cC5tb2RlbHMnO1xyXG5pbXBvcnQgeyBBcHBBY3Rpb25zIH0gZnJvbSAnLi4vc3RvcmUvYWN0aW9ucyc7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL21vZGVscyc7XHJcbmltcG9ydCB7IGJ1aWxkLCB0b0FycmF5IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb29rdXBSZWR1Y2VyKHN0YXRlOiBMb29rdXBzID0gbmV3IExvb2t1cHMoKSwgYWN0aW9uOiBBY3Rpb24pOiBMb29rdXBzIHtcclxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuXHJcbiAgICAgICAgY2FzZSBMb29rdXBBY3Rpb25zLkFERF9LRVlTOlxyXG4gICAgICAgICAgICByZXR1cm4gTG9va3Vwcy5BZGRMb29rdXBzKHN0YXRlLCB0b0FycmF5KGFjdGlvbi5wYXlsb2FkKS5tYXAoeCA9PiBidWlsZChMb29rdXAsIHgpKSk7XHJcblxyXG4gICAgICAgIGNhc2UgTG9va3VwQWN0aW9ucy5BRERfS0VZOlxyXG4gICAgICAgICAgICByZXR1cm4gTG9va3Vwcy5BZGRMb29rdXAoc3RhdGUsIGFjdGlvbi5wYXlsb2FkKTtcclxuXHJcbiAgICAgICAgY2FzZSBMb29rdXBBY3Rpb25zLkFERF9WQUxVRVM6XHJcbiAgICAgICAgICAgIHJldHVybiBMb29rdXBzLkFkZExvb2t1cHMoc3RhdGUsIGFjdGlvbi5wYXlsb2FkKTtcclxuXHJcbiAgICAgICAgY2FzZSBMb29rdXBBY3Rpb25zLlJFTU9WRV9LRVk6XHJcbiAgICAgICAgICAgIHJldHVybiBMb29rdXBzLlJlbW92ZUxvb2t1cChzdGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xyXG5cclxuICAgICAgICBjYXNlIEFwcEFjdGlvbnMuSU5JVF9TVE9SRTpcclxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkKExvb2t1cHMsIGFjdGlvbi5wYXlsb2FkWydsb29rdXAnXSk7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5pbXBvcnQgeyBMb29rdXBzLCBMb29rdXAsIExvb2t1cFZhbHVlIH0gZnJvbSAnLi9sb29rdXAubW9kZWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb29rdXBTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8TG9va3Vwcz4ge1xyXG4gICAgcmV0dXJuIHN0b3JlLnNlbGVjdChzID0+IHNbJ2xvb2t1cCddKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvb2t1cEtleVNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+LCBrZXk6IHN0cmluZyk6IE9ic2VydmFibGU8TG9va3VwPiB7XHJcbiAgICByZXR1cm4gbG9va3VwU2VsZWN0b3Ioc3RvcmUpLnBpcGUoXHJcbiAgICAgICAgbWFwKGxvb2t1cCA9PiBsb29rdXBba2V5XSB8fCBuZXcgTG9va3VwKCkpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9va3VwVmFsdWVzU2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4sIGtleTogc3RyaW5nKTogT2JzZXJ2YWJsZTxMb29rdXBWYWx1ZVtdPiB7XHJcbiAgICByZXR1cm4gbG9va3VwS2V5U2VsZWN0b3Ioc3RvcmUsIGtleSkucGlwZShcclxuICAgICAgICBtYXAobG9va3VwID0+IGxvb2t1cC52YWx1ZXMpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9va3VwVmFsdWVTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Piwga2V5OiBzdHJpbmcsIGY6ICh4OiBMb29rdXBWYWx1ZSkgPT4gYm9vbGVhbik6IE9ic2VydmFibGU8TG9va3VwVmFsdWU+IHtcclxuICAgIGNvbnN0IHZhbHVlcyQgPSBsb29rdXBWYWx1ZXNTZWxlY3RvcihzdG9yZSwga2V5KTtcclxuICAgIHJldHVybiB2YWx1ZXMkLnBpcGUoXHJcbiAgICAgICAgbWFwKHZhbHVlcyA9PiB2YWx1ZXMuZmluZChmKSB8fCBuZXcgTG9va3VwVmFsdWUoKSlcclxuICAgICk7XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICAgIFJvdXRlLFxyXG4gICAgTmF2aWdhdGlvbkNhbmNlbCxcclxuICAgIE5hdmlnYXRpb25FbmQsXHJcbiAgICBOYXZpZ2F0aW9uRXJyb3IsXHJcbiAgICBOYXZpZ2F0aW9uU3RhcnQsXHJcbiAgICBSb3V0ZXNSZWNvZ25pemVkXHJcbn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuXHJcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlUGF5bG9hZCB9IGZyb20gJy4vbW9kZWxzJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBSb3V0ZXJBY3Rpb25zIHtcclxuXHJcbiAgICBzdGF0aWMgQUNUSVZBVEUgPSAnW1JvdXRlcl0gQWN0aXZhdGUgUm91dGUnO1xyXG4gICAgc3RhdGljIE5BVklHQVRFID0gJ1tSb3V0ZXJdIE5hdmlnYXRlJztcclxuICAgIHN0YXRpYyBOQVZJR0FURV9TVUNDRVNTID0gJ1tSb3V0ZXJdIE5hdmlnYXRlIFN1Y2Nlc3MnO1xyXG4gICAgc3RhdGljIE5BVklHQVRFX0VSUk9SID0gJ1tSb3V0ZXJdIE5hdmlnYXRlIEVycm9yJztcclxuICAgIHN0YXRpYyBOQVZJR0FUSU9OX0NBTkNFTCA9ICdbUm91dGVyXSBDYW5jZWwgTmF2aWdhdGlvbic7XHJcbiAgICBzdGF0aWMgTkFWSUdBVElPTl9FTkQgPSAnW1JvdXRlcl0gRW5kIE5hdmlnYXRpb24nO1xyXG4gICAgc3RhdGljIE5BVklHQVRJT05fRVJST1IgPSAnW1JvdXRlcl0gRXJyb3IgTmF2aWdhdGlvbic7XHJcbiAgICBzdGF0aWMgTkFWSUdBVElPTl9TVEFSVCA9ICdbUm91dGVyXSBTdGFydCBOYXZpZ2F0aW9uJztcclxuICAgIHN0YXRpYyBST1VURVNfUkVDT0dOSVpFRCA9ICdbUm91dGVyXSBSb3V0ZXMgUmVjb2duaXplZCc7XHJcblxyXG4gICAgc3RhdGljIGFjdGl2YXRlKHJvdXRlTmFtZTogc3RyaW5nLCBwYXJlbnQ/OiBzdHJpbmcpOiBBY3Rpb24ge1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQ6IEFjdGl2YXRlZFJvdXRlUGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgcm91dGVOYW1lLFxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFJvdXRlckFjdGlvbnMuQUNUSVZBVEUsXHJcbiAgICAgICAgICAgIHBheWxvYWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG5hdmlnYXRlKHI6IHN0cmluZyB8IFJvdXRlIHwgYW55W10pOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFJvdXRlckFjdGlvbnMuTkFWSUdBVEUsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBuYXZpZ2F0ZVN1Y2Nlc3MoKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBSb3V0ZXJBY3Rpb25zLk5BVklHQVRFX1NVQ0NFU1NcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBuYXZpZ2F0ZUVycm9yKCk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogUm91dGVyQWN0aW9ucy5OQVZJR0FURV9FUlJPUlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5hdkNhbmNlbChlOiBOYXZpZ2F0aW9uQ2FuY2VsKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBSb3V0ZXJBY3Rpb25zLk5BVklHQVRJT05fQ0FOQ0VMLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbmF2RW5kKGU6IE5hdmlnYXRpb25FbmQpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFJvdXRlckFjdGlvbnMuTkFWSUdBVElPTl9FTkQsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBuYXZFcnJvcihlOiBOYXZpZ2F0aW9uRXJyb3IpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFJvdXRlckFjdGlvbnMuTkFWSUdBVElPTl9FUlJPUixcclxuICAgICAgICAgICAgcGF5bG9hZDogZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG5hdlN0YXJ0KGU6IE5hdmlnYXRpb25TdGFydCk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX1NUQVJULFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcm91dGVzUmVjb2duaXplZChlOiBSb3V0ZXNSZWNvZ25pemVkKTogQWN0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBSb3V0ZXJBY3Rpb25zLlJPVVRFU19SRUNPR05JWkVELFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBSb3V0ZXIsXG4gIEFjdGl2YXRlZFJvdXRlLFxuICBFdmVudCxcbiAgTmF2aWdhdGlvbkNhbmNlbCxcbiAgTmF2aWdhdGlvbkVuZCxcbiAgTmF2aWdhdGlvbkVycm9yLFxuICBOYXZpZ2F0aW9uU3RhcnQsXG4gIFJvdXRlc1JlY29nbml6ZWQsXG4gIFBhcmFtcyxcbiAgRGF0YSxcbiAgTmF2aWdhdGlvbkV4dHJhc1xufSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IFJvdXRlckFjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBSb3V0ZXJTZXJ2aWNlIHtcblxuICBuYXZpZ2F0aW9uQ2FuY2VsID0gbmV3IEV2ZW50RW1pdHRlcjxOYXZpZ2F0aW9uQ2FuY2VsPigpO1xuICBuYXZpZ2F0aW9uRW5kID0gbmV3IEV2ZW50RW1pdHRlcjxOYXZpZ2F0aW9uRW5kPigpO1xuICBuYXZpZ2F0aW9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyPE5hdmlnYXRpb25FcnJvcj4oKTtcbiAgbmF2aWdhdGlvblN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcjxOYXZpZ2F0aW9uU3RhcnQ+KCk7XG4gIHJvdXRlc1JlY29nbml6ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPFJvdXRlc1JlY29nbml6ZWQ+KCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfcm91dGVyOiBSb3V0ZXIsXG4gICAgcHJpdmF0ZSBfcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgIHByaXZhdGUgc3RvcmU6IFN0b3JlPGFueT4pIHtcbiAgICBfcm91dGVyLmV2ZW50cy5zdWJzY3JpYmUoKGU6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIE5hdmlnYXRpb25DYW5jZWwpIHtcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRpb25DYW5jZWwoZSk7XG4gICAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMub25OYXZpZ2F0aW9uRW5kKGUpO1xuICAgICAgfSBlbHNlIGlmIChlIGluc3RhbmNlb2YgTmF2aWdhdGlvbkVycm9yKSB7XG4gICAgICAgIHRoaXMub25OYXZpZ2F0aW9uRXJyb3IoZSk7XG4gICAgICB9IGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uU3RhcnQpIHtcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRpb25TdGFydChlKTtcbiAgICAgIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIFJvdXRlc1JlY29nbml6ZWQpIHtcbiAgICAgICAgdGhpcy5vblJvdXRlc1JlY29nbml6ZWQoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvbk5hdmlnYXRpb25DYW5jZWwoZTogTmF2aWdhdGlvbkNhbmNlbCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goUm91dGVyQWN0aW9ucy5uYXZDYW5jZWwoZSkpO1xuICB9XG5cbiAgb25OYXZpZ2F0aW9uRW5kKGU6IE5hdmlnYXRpb25FbmQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFJvdXRlckFjdGlvbnMubmF2RW5kKGUpKTtcbiAgfVxuXG4gIG9uTmF2aWdhdGlvbkVycm9yKGU6IE5hdmlnYXRpb25FcnJvcik6IHZvaWQge1xuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goUm91dGVyQWN0aW9ucy5uYXZFcnJvcihlKSk7XG4gIH1cblxuICBvbk5hdmlnYXRpb25TdGFydChlOiBOYXZpZ2F0aW9uU3RhcnQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFJvdXRlckFjdGlvbnMubmF2U3RhcnQoZSkpO1xuICB9XG5cbiAgb25Sb3V0ZXNSZWNvZ25pemVkKGU6IFJvdXRlc1JlY29nbml6ZWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFJvdXRlckFjdGlvbnMucm91dGVzUmVjb2duaXplZChlKSk7XG4gIH1cblxuICBnZXQgYWN0aXZhdGVkUm91dGUoKTogQWN0aXZhdGVkUm91dGUge1xuICAgIHJldHVybiB0aGlzLl9yb3V0ZTtcbiAgfVxuXG4gIGdldCByb3V0ZURhdGEkKCk6IE9ic2VydmFibGU8RGF0YT4ge1xuICAgIHJldHVybiB0aGlzLmFjdGl2YXRlZFJvdXRlLmRhdGE7XG4gIH1cblxuICBnZXQgcm91dGVQYXJhbXMkKCk6IE9ic2VydmFibGU8UGFyYW1zPiB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkUm91dGUucGFyYW1zO1xuICB9XG5cbiAgZ2V0IHJvdXRlcigpOiBSb3V0ZXIge1xuICAgIHJldHVybiB0aGlzLl9yb3V0ZXI7XG4gIH1cblxuICBnZXQgdXJsJCgpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLnN0b3JlLnNlbGVjdChzID0+IHMucm91dGVyLnVybCk7XG4gIH1cblxuICBuYXZpZ2F0ZShjb21tYW5kczogYW55W10sIGV4dHJhcz86IE5hdmlnYXRpb25FeHRyYXMpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5yb3V0ZXIubmF2aWdhdGUoY29tbWFuZHMsIGV4dHJhcyk7XG4gICAgcmV0dXJuIGZyb20ocHJvbWlzZSk7XG4gIH1cblxuICBuYXZpZ2F0ZUJ5VXJsKHVybDogc3RyaW5nLCBleHRyYXM/OiBOYXZpZ2F0aW9uRXh0cmFzKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodXJsLCBleHRyYXMpO1xuICAgIHJldHVybiBmcm9tKHByb21pc2UpO1xuICB9XG5cbn0iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEVmZmVjdCwgQWN0aW9ucywgb2ZUeXBlIH0gZnJvbSAnQG5ncngvZWZmZWN0cyc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5cclxuaW1wb3J0IHsgUm91dGVyQWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucyc7XHJcbmltcG9ydCB7IFJvdXRlclNlcnZpY2UgfSBmcm9tICcuL3JvdXRlci5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFJvdXRlckVmZmVjdHMge1xyXG4gICAgYWN0aW9uVHlwZXM6IHN0cmluZ1tdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxsIGltcGVyYXRpdmUgbmF2aWdhdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkIHVzaW5nIHRoaXMgZWZmZWN0c1xyXG4gICAgICogc28gdGhhdCB0aGUgc3RhdGUgaXMgYXdhcmUgb2YgdGhlIG5hdmlnYXRpb24uXHJcbiAgICAgKi9cclxuICAgIEBFZmZlY3QoKSBuYXZpZ2F0ZTogT2JzZXJ2YWJsZTxBY3Rpb24+ID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIG9mVHlwZShSb3V0ZXJBY3Rpb25zLk5BVklHQVRFKSxcclxuICAgICAgICBzd2l0Y2hNYXAoKGFjdGlvbjogQWN0aW9uKSA9PiB0aGlzLm5hdmlnYXRlJChhY3Rpb24ucGF5bG9hZCkpXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgYWN0aW9ucyQ6IEFjdGlvbnMsXHJcbiAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlclNlcnZpY2VcclxuICAgICkgeyB9XHJcblxyXG4gICAgbmF2aWdhdGUkKHI6IHN0cmluZyB8IGFueVtdKTogT2JzZXJ2YWJsZTxBY3Rpb24+IHtcclxuICAgICAgICBjb25zdCBuYXYkOiBPYnNlcnZhYmxlPGJvb2xlYW4+ID0gdHlwZW9mIChyKSA9PT0gJ3N0cmluZycgPyB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKHIpIDogdGhpcy5yb3V0ZXIubmF2aWdhdGUocik7XHJcbiAgICAgICAgcmV0dXJuIG5hdiQucGlwZShcclxuICAgICAgICAgICAgbWFwKCgpID0+IFJvdXRlckFjdGlvbnMubmF2aWdhdGVTdWNjZXNzKCkpLFxyXG4gICAgICAgICAgICBjYXRjaEVycm9yKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YoUm91dGVyQWN0aW9ucy5uYXZpZ2F0ZUVycm9yKCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlck1vZHVsZSBhcyBOR1JvdXRlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbmltcG9ydCB7IFJvdXRlckVmZmVjdHMgfSBmcm9tICcuL3JvdXRlci5lZmZlY3RzJztcbmltcG9ydCB7IFJvdXRlclNlcnZpY2UgfSBmcm9tICcuL3JvdXRlci5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW05HUm91dGVyTW9kdWxlXSxcbiAgZXhwb3J0czogW05HUm91dGVyTW9kdWxlXVxufSlcbmV4cG9ydCBjbGFzcyBSb3V0ZXJNb2R1bGUge1xuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IFJvdXRlck1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW1JvdXRlclNlcnZpY2UsIFJvdXRlckVmZmVjdHNdXG4gICAgfTtcbiAgfVxufSIsImltcG9ydCB7IFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtcclxuICAgIFJvdXRlLFxyXG4gICAgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCxcclxuICAgIEV2ZW50LFxyXG4gICAgTmF2aWdhdGlvbkNhbmNlbCxcclxuICAgIE5hdmlnYXRpb25FbmQsXHJcbiAgICBOYXZpZ2F0aW9uRXJyb3IsXHJcbiAgICBOYXZpZ2F0aW9uU3RhcnQsXHJcbiAgICBSb3V0ZXNSZWNvZ25pemVkLFxyXG4gICAgUm91dGVyU3RhdGVTbmFwc2hvdCxcclxuICAgIFVybFNlZ21lbnQsXHJcbiAgICBQYXJhbXMsXHJcbiAgICBEYXRhXHJcbn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuXHJcbmltcG9ydCB7IGJ1aWxkLCBhc3NpZ25Qcm9wcyB9IGZyb20gJy4uL3NoYXJlZC91dGlscyc7XHJcbmltcG9ydCB7IERpY3Rpb25hcnkgfSBmcm9tICcuLi9zaGFyZWQvbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3RpdmF0ZWRSb3V0ZVBheWxvYWQge1xyXG4gICAgcm91dGVOYW1lID0gJyc7XHJcbiAgICBwYXJlbnQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCcmVhZGNydW1icyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHNlZ21lbnRzOiBSb3V0ZVNlZ21lbnRbXSkge1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbVJvdXRlIGltcGxlbWVudHMgUm91dGUge1xyXG4gICAgcHVibGljIGNoaWxkcmVuOiBSb3V0ZVtdID0gW107XHJcbiAgICBwdWJsaWMgbGF6eUNoaWxkcmVuOiBSb3V0ZVtdID0gW107XHJcbiAgICBwdWJsaWMgY29tcG9uZW50OiBUeXBlPGFueT47XHJcbiAgICBwcml2YXRlIF9wYXRoID0gJyc7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IERpY3Rpb25hcnk8YW55Pikge1xyXG4gICAgICAgIGFzc2lnblByb3BzKHRoaXMsIHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGF0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGF0aCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fcGF0aCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByb3V0ZSgpOiBSb3V0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLmNvbXBvbmVudCxcclxuICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLmxhenlDaGlsZHJlblxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGF6eVJvdXRlIGV4dGVuZHMgQ3VzdG9tUm91dGUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBEaWN0aW9uYXJ5PGFueT4pIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVyRXZlbnQge1xyXG4gICAgZXZlbnRUeXBlOiBhbnk7XHJcbiAgICBldmVudDogRXZlbnQ7XHJcbiAgICBuYXZpZ2F0aW9uQ2FuY2VsPzogTmF2aWdhdGlvbkNhbmNlbDtcclxuICAgIG5hdmlnYXRpb25FbmQ/OiBOYXZpZ2F0aW9uRW5kO1xyXG4gICAgbmF2aWdhdGlvbkVycm9yPzogTmF2aWdhdGlvbkVycm9yO1xyXG4gICAgbmF2aWdhdGlvblN0YXJ0PzogTmF2aWdhdGlvblN0YXJ0O1xyXG4gICAgcm91dGVzUmVjb2duaXplZD86IFJvdXRlc1JlY29nbml6ZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIE5hdmlnYXRpb25TdGF0dXMge1xyXG4gICAgRGVmYXVsdCxcclxuICAgIE5hdmlnYXRpb25TdGFydCxcclxuICAgIE5hdmlnYXRpb25DYW5jZWwsXHJcbiAgICBOYXZpZ2F0aW9uRXJyb3IsXHJcbiAgICBSb3V0ZXNSZWNvZ25pemVkLFxyXG4gICAgTmF2aWdhdGlvbkVuZFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUm91dGVTZWdtZW50IHtcclxuICAgIC8qKiBUaGUgc3RhdGljIGFuZCByZXNvbHZlZCBkYXRhIG9mIHRoaXMgcm91dGUgKi9cclxuICAgIGRhdGE6IERhdGE7XHJcbiAgICAvKiogVGhlIFVSTCBmcmFnbWVudCBzaGFyZWQgYnkgYWxsIHRoZSByb3V0ZXMgKi9cclxuICAgIGZyYWdtZW50ID0gJyc7XHJcbiAgICAvKiogVGhlIG9yZGVyIG9mIHRoZSBzZWdtZW50IGluIHRoZSByb3V0ZSAqL1xyXG4gICAgb3JkZXIgPSAwO1xyXG4gICAgLyoqIFRoZSBvdXRsZXQgbmFtZSBvZiB0aGUgcm91dGUgKi9cclxuICAgIG91dGxldCA9ICcnO1xyXG4gICAgLyoqIFRoZSBwYXRoIGZyb20gdGhlIHJvb3Qgb2YgdGhlIHJvdXRlciBzdGF0ZSB0cmVlIHRvIHRoaXMgcm91dGUgKi9cclxuICAgIHBhdGhGcm9tUm9vdDogQWN0aXZhdGVkUm91dGVTbmFwc2hvdFtdO1xyXG4gICAgLyoqIFRoZSBtYXRyaXggcGFyYW1ldGVycyBzY29wZWQgdG8gdGhpcyByb3V0ZSAqL1xyXG4gICAgcGFyYW1zOiBQYXJhbXM7XHJcbiAgICAvKiogVGhlIGxhYmVsIHRvIHBhc3MgdG8gdGhlIGFuY2hvciB0YWcgKi9cclxuICAgIHJvdXRlTGFiZWwgPSAnJztcclxuICAgIC8qKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSByb3V0ZSBzZWdtZW50ICovXHJcbiAgICByb3V0ZU5hbWUgPSAnJztcclxuICAgIC8qKiBUaGUgVVJMIHNlZ21lbnRzIG1hdGNoZWQgYnkgdGhpcyByb3V0ZSAqL1xyXG4gICAgdXJsOiBVcmxTZWdtZW50W107XHJcblxyXG4gICAgLyoqIFRoZSBsaW5rIHRvIHBhc3MgdG8gdGhlIGFuY2hvciB0YWcgKi9cclxuICAgIGdldCByb3V0ZXJMaW5rKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aEZyb21Sb290XHJcbiAgICAgICAgICAgIC5tYXAociA9PiByLnVybClcclxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gUm91dGVyU3RhdGUuQnVpbGRVcmxTZWdtZW50KHgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnQgJiYgc2VnbWVudCAhPT0gJy8nID8gYCR7YWNjfSR7c2VnbWVudH1gIDogYWNjO1xyXG4gICAgICAgICAgICB9LCAnJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSb3V0ZXJTdGF0ZSB7XHJcbiAgICBpZCA9IDA7XHJcbiAgICBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdDtcclxuICAgIGVycm9yOiBhbnkgPSB1bmRlZmluZWQ7XHJcbiAgICBldmVudHM6IFJvdXRlckV2ZW50W10gPSBbXTtcclxuICAgIGhpc3Rvcnk6IFZpc2l0ZWRSb3V0ZVtdID0gW107XHJcbiAgICBuYXZpZ2F0aW9uU3RhdHVzOiBOYXZpZ2F0aW9uU3RhdHVzID0gTmF2aWdhdGlvblN0YXR1cy5EZWZhdWx0O1xyXG4gICAgcmVhc29uID0gJyc7XHJcbiAgICByb290Um91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3Q7XHJcbiAgICBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCA9IHVuZGVmaW5lZDtcclxuICAgIHVybCA9ICcnO1xyXG4gICAgdXJsQWZ0ZXJSZWRpcmVjdHMgPSAnJztcclxuXHJcbiAgICBzdGF0aWMgQnVpbGRSb3V0ZShwcm9wczogRGljdGlvbmFyeTxhbnk+KTogUm91dGUge1xyXG4gICAgICAgIGNvbnN0IHIgPSBuZXcgQ3VzdG9tUm91dGUocHJvcHMpO1xyXG4gICAgICAgIHJldHVybiA8Um91dGU+cjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGRMYXp5Um91dGUocHJvcHM6IERpY3Rpb25hcnk8YW55Pik6IFJvdXRlIHtcclxuICAgICAgICBjb25zdCByID0gbmV3IExhenlSb3V0ZShwcm9wcyk7XHJcbiAgICAgICAgcmV0dXJuIDxSb3V0ZT5yO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZFVybFNlZ21lbnQodXJsOiBVcmxTZWdtZW50W10pOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB1cmwucmVkdWNlKChhY2MsIHNlZ21lbnQpID0+IHNlZ21lbnQucGF0aCAmJiBzZWdtZW50LnBhdGggIT09ICcvJyA/IGAke2FjY30vJHtzZWdtZW50LnBhdGh9YCA6IGFjYywgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBHZXRBY3RpdmF0ZWRPdXRsZXRzKHJvb3Q6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIGluZGV4ID0gMCk6IERpY3Rpb25hcnk8Um91dGVTZWdtZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIHJvb3QgPyByb290LmNoaWxkcmVuLnJlZHVjZSgoYWNjOiBEaWN0aW9uYXJ5PFJvdXRlU2VnbWVudD4sIHI6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIGN1cnJlbnRJbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpID0gaW5kZXggKyBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlTmFtZSA9IFJvdXRlclN0YXRlLkdldFJvdXRlTmFtZShyKTtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBidWlsZChSb3V0ZVNlZ21lbnQsIGFjY1tyb3V0ZU5hbWVdKTtcclxuICAgICAgICAgICAgY29uc3Qgb3V0bGV0ID0gUm91dGVyU3RhdGUuR2V0Um91dGVTZWdtZW50KHIsIGV4aXN0aW5nLCBpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTmFtZSA/IE9iamVjdC5hc3NpZ24oYWNjLCBSb3V0ZXJTdGF0ZS5HZXRBY3RpdmF0ZWRPdXRsZXRzKHIsIGkgKyAxKSwgeyBbcm91dGVOYW1lXTogb3V0bGV0IH0pXHJcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oYWNjLCBSb3V0ZXJTdGF0ZS5HZXRBY3RpdmF0ZWRPdXRsZXRzKHIsIGkgKyAxKSk7XHJcbiAgICAgICAgfSwge30pIDoge307XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldEFjdGl2YXRlZFJvdXRlKHJvb3Q6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QpOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IHtcclxuICAgICAgICByZXR1cm4gcm9vdC5jaGlsZHJlbi5yZWR1Y2UoKGFjYzogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgcjogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gUm91dGVyU3RhdGUuR2V0QWN0aXZhdGVkUm91dGUocik7XHJcbiAgICAgICAgfSwgcm9vdCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEdldEFsbFBhcmFtcyhyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdXRlID8gcm91dGUuY2hpbGRyZW4ucmVkdWNlKChhY2M6IGFueSwgcjogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWNjLCBSb3V0ZXJTdGF0ZS5HZXRBbGxQYXJhbXMocikpO1xyXG4gICAgICAgIH0sIE9iamVjdC5hc3NpZ24oe30sIHJvdXRlLnBhcmFtcywgcm91dGUucXVlcnlQYXJhbXMpKSA6IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBHZXRSb3V0ZURhdGEocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiByb3V0ZS5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBHZXRSb3V0ZVNlZ21lbnQocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIGV4aXN0aW5nOiBSb3V0ZVNlZ21lbnQgPSBuZXcgUm91dGVTZWdtZW50KCksIGluZGV4ID0gMCk6IFJvdXRlU2VnbWVudCB7XHJcbiAgICAgICAgY29uc3Qgcm91dGVOYW1lID0gUm91dGVyU3RhdGUuR2V0Um91dGVOYW1lKHJvdXRlKTtcclxuICAgICAgICByZXR1cm4gYnVpbGQoUm91dGVTZWdtZW50LCBleGlzdGluZywge1xyXG4gICAgICAgICAgICBkYXRhOiByb3V0ZS5kYXRhLFxyXG4gICAgICAgICAgICBmcmFnbWVudDogcm91dGUuZnJhZ21lbnQsXHJcbiAgICAgICAgICAgIG9yZGVyOiBpbmRleCxcclxuICAgICAgICAgICAgb3V0bGV0OiByb3V0ZS5vdXRsZXQsXHJcbiAgICAgICAgICAgIHBhdGhGcm9tUm9vdDogcm91dGUucGF0aEZyb21Sb290LFxyXG4gICAgICAgICAgICBwYXJhbXM6IHJvdXRlLnBhcmFtcyxcclxuICAgICAgICAgICAgcm91dGVOYW1lLFxyXG4gICAgICAgICAgICByb3V0ZUxhYmVsOiBSb3V0ZXJTdGF0ZS5HZXRSb3V0ZURhdGEocm91dGUpWydyb3V0ZUxhYmVsJ10gfHwgZXhpc3Rpbmcucm91dGVMYWJlbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBHZXRSb3V0ZU5hbWUocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiByb3V0ZSA/IFJvdXRlclN0YXRlLkdldFJvdXRlRGF0YShyb3V0ZSlbJ3JvdXRlTmFtZSddIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdGl2YXRlZE91dGxldHMoKTogRGljdGlvbmFyeTxSb3V0ZVNlZ21lbnQ+IHtcclxuICAgICAgICByZXR1cm4gUm91dGVyU3RhdGUuR2V0QWN0aXZhdGVkT3V0bGV0cyh0aGlzLnJvb3RSb3V0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxhc3RFdmVudCgpOiBSb3V0ZXJFdmVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzWy0xXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFyYW1zKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIFJvdXRlclN0YXRlLkdldEFsbFBhcmFtcyh0aGlzLnJvb3RSb3V0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJvdXRlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBSb3V0ZXJTdGF0ZS5HZXRSb3V0ZU5hbWUodGhpcy5hY3RpdmF0ZWRSb3V0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZpc2l0ZWQoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkubWFwKHggPT4geC5saW5rKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRSb3V0ZXJFdmVudChlOiBFdmVudCwgZXZlbnRUeXBlOiBhbnkpOiBSb3V0ZXJFdmVudFtdIHtcclxuICAgICAgICBjb25zdCBuZXdFdmVudCA9IDxSb3V0ZXJFdmVudD57IGV2ZW50VHlwZTogZXZlbnRUeXBlLCBldmVudDogZSB9O1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIC4uLnRoaXMuZXZlbnRzLFxyXG4gICAgICAgICAgICBuZXdFdmVudFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgbmF2aWdhdGlvbkNhbmNlbChwYXlsb2FkOiBOYXZpZ2F0aW9uQ2FuY2VsKTogUm91dGVyU3RhdGUge1xyXG4gICAgICAgIHJldHVybiBidWlsZChSb3V0ZXJTdGF0ZSwgdGhpcyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0YXR1czogTmF2aWdhdGlvblN0YXR1cy5OYXZpZ2F0aW9uQ2FuY2VsLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmFkZFJvdXRlckV2ZW50KHBheWxvYWQsIE5hdmlnYXRpb25TdGF0dXMuTmF2aWdhdGlvbkNhbmNlbCksXHJcbiAgICAgICAgICAgICAgICBpZDogcGF5bG9hZC5pZCxcclxuICAgICAgICAgICAgICAgIHVybDogcGF5bG9hZC51cmwsXHJcbiAgICAgICAgICAgICAgICByZWFzb246IHBheWxvYWQucmVhc29uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG5hdmlnYXRpb25FbmQocGF5bG9hZDogTmF2aWdhdGlvbkVuZCk6IFJvdXRlclN0YXRlIHtcclxuICAgICAgICBjb25zdCBoaXN0b3J5ID0gW3BheWxvYWQudG9TdHJpbmcoKSwgLi4udGhpcy5oaXN0b3J5XTtcclxuICAgICAgICByZXR1cm4gYnVpbGQoUm91dGVyU3RhdGUsIHRoaXMsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGhpc3RvcnksXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU3RhdHVzOiBOYXZpZ2F0aW9uU3RhdHVzLk5hdmlnYXRpb25FbmQsXHJcbiAgICAgICAgICAgICAgICBldmVudHM6IHRoaXMuYWRkUm91dGVyRXZlbnQocGF5bG9hZCwgTmF2aWdhdGlvblN0YXR1cy5OYXZpZ2F0aW9uRW5kKSxcclxuICAgICAgICAgICAgICAgIGlkOiBwYXlsb2FkLmlkLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBwYXlsb2FkLnVybCxcclxuICAgICAgICAgICAgICAgIHVybEFmdGVyUmVkaXJlY3RzOiBwYXlsb2FkLnVybEFmdGVyUmVkaXJlY3RzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG5hdmlnYXRpb25FcnJvcihwYXlsb2FkOiBOYXZpZ2F0aW9uRXJyb3IpOiBSb3V0ZXJTdGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIGJ1aWxkKFJvdXRlclN0YXRlLCB0aGlzLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU3RhdHVzOiBOYXZpZ2F0aW9uU3RhdHVzLk5hdmlnYXRpb25FcnJvcixcclxuICAgICAgICAgICAgICAgIGV2ZW50czogdGhpcy5hZGRSb3V0ZXJFdmVudChwYXlsb2FkLCBOYXZpZ2F0aW9uU3RhdHVzLk5hdmlnYXRpb25FcnJvciksXHJcbiAgICAgICAgICAgICAgICBpZDogcGF5bG9hZC5pZCxcclxuICAgICAgICAgICAgICAgIHVybDogcGF5bG9hZC51cmwsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogcGF5bG9hZC5lcnJvclxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBuYXZpZ2F0aW9uU3RhcnQocGF5bG9hZDogTmF2aWdhdGlvblN0YXJ0KTogUm91dGVyU3RhdGUge1xyXG4gICAgICAgIHJldHVybiBidWlsZChSb3V0ZXJTdGF0ZSwgdGhpcyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblN0YXR1czogTmF2aWdhdGlvblN0YXR1cy5OYXZpZ2F0aW9uU3RhcnQsXHJcbiAgICAgICAgICAgICAgICBldmVudHM6IHRoaXMuYWRkUm91dGVyRXZlbnQocGF5bG9hZCwgTmF2aWdhdGlvblN0YXR1cy5OYXZpZ2F0aW9uU3RhcnQpLFxyXG4gICAgICAgICAgICAgICAgaWQ6IHBheWxvYWQuaWQsXHJcbiAgICAgICAgICAgICAgICB1cmw6IHBheWxvYWQudXJsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJvdXRlc1JlY29nbml6ZWQocGF5bG9hZDogUm91dGVzUmVjb2duaXplZCk6IFJvdXRlclN0YXRlIHtcclxuICAgICAgICBjb25zdCByb290Um91dGUgPSBwYXlsb2FkLnN0YXRlLnJvb3Q7XHJcbiAgICAgICAgY29uc3QgYWN0aXZhdGVkUm91dGUgPSBSb3V0ZXJTdGF0ZS5HZXRBY3RpdmF0ZWRSb3V0ZShyb290Um91dGUpO1xyXG4gICAgICAgIHJldHVybiBidWlsZChSb3V0ZXJTdGF0ZSwgdGhpcyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZhdGVkUm91dGUsXHJcbiAgICAgICAgICAgICAgICByb290Um91dGUsXHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU3RhdHVzOiBOYXZpZ2F0aW9uU3RhdHVzLlJvdXRlc1JlY29nbml6ZWQsXHJcbiAgICAgICAgICAgICAgICBldmVudHM6IHRoaXMuYWRkUm91dGVyRXZlbnQocGF5bG9hZCwgTmF2aWdhdGlvblN0YXR1cy5Sb3V0ZXNSZWNvZ25pemVkKSxcclxuICAgICAgICAgICAgICAgIGlkOiBwYXlsb2FkLmlkLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHBheWxvYWQuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICB1cmw6IHBheWxvYWQudXJsLFxyXG4gICAgICAgICAgICAgICAgdXJsQWZ0ZXJSZWRpcmVjdHM6IHBheWxvYWQudXJsQWZ0ZXJSZWRpcmVjdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlzaXRlZFJvdXRlIHtcclxuICAgIGxhYmVsID0gJyc7XHJcbiAgICBsaW5rID0gJyc7XHJcbiAgICBuYW1lID0gJyc7XHJcbiAgICB2aXNpdFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG59XHJcbiIsImltcG9ydCB7IFJvdXRlckFjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBSb3V0ZXJTdGF0ZSB9IGZyb20gJy4vbW9kZWxzJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3V0ZXJSZWR1Y2VyKHN0YXRlOiBSb3V0ZXJTdGF0ZSA9IG5ldyBSb3V0ZXJTdGF0ZSgpLCBhY3Rpb246IEFjdGlvbik6IFJvdXRlclN0YXRlIHtcclxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuXHJcbiAgICAgICAgY2FzZSBSb3V0ZXJBY3Rpb25zLkFDVElWQVRFOlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcblxyXG4gICAgICAgIGNhc2UgUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX0NBTkNFTDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX0NBTkNFTCwgYWN0aW9uLnBheWxvYWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUubmF2aWdhdGlvbkNhbmNlbChhY3Rpb24ucGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGNhc2UgUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX0VORDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX0VORCwgYWN0aW9uLnBheWxvYWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUubmF2aWdhdGlvbkVuZChhY3Rpb24ucGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGNhc2UgUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX0VSUk9SOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhSb3V0ZXJBY3Rpb25zLk5BVklHQVRJT05fRVJST1IsIGFjdGlvbi5wYXlsb2FkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLm5hdmlnYXRpb25FcnJvcihhY3Rpb24ucGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGNhc2UgUm91dGVyQWN0aW9ucy5OQVZJR0FUSU9OX1NUQVJUOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhSb3V0ZXJBY3Rpb25zLk5BVklHQVRJT05fU1RBUlQsIGFjdGlvbi5wYXlsb2FkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLm5hdmlnYXRpb25TdGFydChhY3Rpb24ucGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGNhc2UgUm91dGVyQWN0aW9ucy5ST1VURVNfUkVDT0dOSVpFRDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coUm91dGVyQWN0aW9ucy5ST1VURVNfUkVDT0dOSVpFRCwgYWN0aW9uLnBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhnZXRBbGxQYXJhbXMoYWN0aW9uLnBheWxvYWQuc3RhdGUucm9vdCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGUucm91dGVzUmVjb2duaXplZChhY3Rpb24ucGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiwgY29tYmluZUxhdGVzdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xyXG5cclxuaW1wb3J0IHsgUm91dGVyU3RhdGUsIEJyZWFkY3J1bWJzIH0gZnJvbSAnLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBRdWVyeU1vZGVsIH0gZnJvbSAnLi4vc2hhcmVkL21vZGVscyc7XHJcbmltcG9ydCB7IHRvQXJyYXksIHRvSW50IH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3V0ZVNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxSb3V0ZXJTdGF0ZT4ge1xyXG4gICAgcmV0dXJuIHN0b3JlLnNlbGVjdCgncm91dGUnKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJyZWFkY3J1bWJzU2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4pOiBPYnNlcnZhYmxlPEJyZWFkY3J1bWJzPiB7XHJcbiAgICByZXR1cm4gcm91dGVTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAociA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dGxldHMgPSByLmFjdGl2YXRlZE91dGxldHM7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnJlYWRjcnVtYnMoT2JqZWN0LmtleXMob3V0bGV0cykubWFwKGtleSA9PiBvdXRsZXRzW2tleV0pKTtcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlTmFtZVNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiByb3V0ZVNlbGVjdG9yKHN0b3JlKS5waXBlKFxyXG4gICAgICAgIG1hcChyID0+IHIucm91dGVOYW1lKSxcclxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91dGVQYXJhbXNTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm4gcm91dGVTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAociA9PiByLnBhcmFtcyksXHJcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxhenlSb3V0ZVBhcmFtc1NlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+LCBrZXk6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm4gcm91dGVQYXJhbXNTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAocGFyYW1zID0+IHBhcmFtc1trZXldKSxcclxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91dGVQYXJhbVNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+LCBrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlID0gbnVsbCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm4gY29tYmluZUxhdGVzdChvZihkZWZhdWx0VmFsdWUpLCBsYXp5Um91dGVQYXJhbXNTZWxlY3RvcihzdG9yZSwga2V5KSwgKHgsIHkpID0+IHtcclxuICAgICAgICByZXR1cm4geSB8fCB4O1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3V0ZVBhcmFtQXJyYXlTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Piwga2V5OiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueVtdPiB7XHJcbiAgICByZXR1cm4gcm91dGVQYXJhbVNlbGVjdG9yKHN0b3JlLCBrZXksIFtdKS5waXBlKFxyXG4gICAgICAgIG1hcCh4ID0+IHRvQXJyYXkoeCkpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91dGVQYXJhbUlkU2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4sIGtleTogc3RyaW5nKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiByb3V0ZVBhcmFtSW50U2VsZWN0b3Ioc3RvcmUsIGtleSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3V0ZVBhcmFtSW50U2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4sIGtleTogc3RyaW5nKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiByb3V0ZVBhcmFtU2VsZWN0b3Ioc3RvcmUsIGtleSwgMCkucGlwZShcclxuICAgICAgICBtYXAoeCA9PiB0b0ludCh4KSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cmxTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gcm91dGVTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAociA9PiByLnVybCksXHJcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4pOiBPYnNlcnZhYmxlPFF1ZXJ5TW9kZWw8YW55Pj4ge1xyXG4gICAgY29uc3Qgc2tpcCQgPSByb3V0ZVBhcmFtSW50U2VsZWN0b3Ioc3RvcmUsICdza2lwJyk7XHJcbiAgICBjb25zdCB0YWtlJCA9IHJvdXRlUGFyYW1JbnRTZWxlY3RvcihzdG9yZSwgJ3Rha2UnKTtcclxuICAgIGNvbnN0IHRlcm0kID0gcm91dGVQYXJhbVNlbGVjdG9yKHN0b3JlLCAndGVybScpO1xyXG4gICAgcmV0dXJuIGNvbWJpbmVMYXRlc3Qoc2tpcCQsIHRha2UkLCB0ZXJtJCxcclxuICAgICAgICAoc2tpcCwgdGFrZSwgdGVybSkgPT4gKFxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG5ldyBRdWVyeU1vZGVsPGFueT4oKSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRha2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVybVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKSk7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFRva2VuIHtcclxuICAgIGFjY2Vzc190b2tlbiA9ICcnO1xyXG4gICAgZXhwaXJlc0luID0gMDtcclxuICAgIGV4cGlyZXNJbkRhdGU6IERhdGU7XHJcblxyXG4gICAgZ2V0IGF1dGhlbnRpY2F0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmV4cGlyZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGV4cGlyZXNfaW4oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5leHBpcmVzSW47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGV4cGlyZXNfaW4odmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZXhwaXJlc0luID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5leHBpcmVzSW5EYXRlID0gbmV3IERhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXhwaXJhdGlvbkRhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgdCA9IG5ldyBEYXRlKHRoaXMuZXhwaXJlc0luRGF0ZSk7XHJcbiAgICAgICAgdC5zZXRTZWNvbmRzKHQuZ2V0U2Vjb25kcygpICsgdGhpcy5leHBpcmVzSW4pO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBleHBpcmVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzX3Rva2VuICYmIHRoaXMuZXhwaXJlc0luICYmIHRoaXMuZXhwaXJlc0luRGF0ZSA/IG5vdyA+IHRoaXMuZXhwaXJhdGlvbkRhdGUgOiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwaXJlZCA/ICcnIDogdGhpcy5hY2Nlc3NfdG9rZW47XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBXaW5kb3cge1xyXG4gICAgd2luZG93SGVpZ2h0ID0gMDtcclxuICAgIHdpbmRvd1dpZHRoID0gMDtcclxuXHJcbiAgICBnZXQgd2luZG93V2lkdGhTbWFsbCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53aW5kb3dXaWR0aCA8IDEyMDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHdpbmRvd1dpZHRoTWVkaXVtKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy53aW5kb3dXaWR0aFNtYWxsICYmIHRoaXMud2luZG93V2lkdGggPCAxMzAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB3aW5kb3dXaWR0aExhcmdlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpbmRvd1dpZHRoID49IDEzMDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXaW5kb3dSZXNpemUge1xyXG4gICAgd2luZG93SGVpZ2h0ID0gMDtcclxuICAgIHdpbmRvd1dpZHRoID0gMDtcclxufVxyXG4iLCJpbXBvcnQgeyBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgbWFwLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4uL3NoYXJlZC9jb25maWcnO1xyXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL3NoYXJlZC90b2tlbic7XHJcbmltcG9ydCB7IEN1cnJlbnRVc2VyIH0gZnJvbSAnLi4vc2hhcmVkL3VzZXInO1xyXG5pbXBvcnQgeyBidWlsZCB9IGZyb20gJy4uL3NoYXJlZC91dGlscyc7XHJcbmltcG9ydCB7IFdpbmRvdyB9IGZyb20gJy4uL3NoYXJlZC93aW5kb3cnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFsbFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybiBzdG9yZS5waXBlKFxyXG4gICAgICAgIG1hcCh4ID0+IHgpXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW1wdHlTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm4gb2Yoe30pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFVzZXJTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8Q3VycmVudFVzZXI+IHtcclxuICAgIHJldHVybiBzdG9yZS5zZWxlY3QoJ2N1cnJlbnRVc2VyJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkU2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4pOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiBjdXJyZW50VXNlclNlbGVjdG9yKHN0b3JlKS5waXBlKFxyXG4gICAgICAgIG1hcCh1c2VyID0+IHVzZXIuYXV0aGVudGljYXRlZCksXHJcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ1NlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxDb25maWc+IHtcclxuICAgIHJldHVybiBzdG9yZS5zZWxlY3QoJ2NvbmZpZycpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd2luZG93U2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4pOiBPYnNlcnZhYmxlPFdpbmRvdz4ge1xyXG4gICAgcmV0dXJuIHN0b3JlLnNlbGVjdCgnd2luZG93JykucGlwZShcclxuICAgICAgICBtYXAodyA9PiBidWlsZChXaW5kb3csIHcpKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd0hlaWdodFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiB3aW5kb3dTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAod2luZG93ID0+IHdpbmRvdy53aW5kb3dIZWlnaHQpLFxyXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dXaWR0aFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiB3aW5kb3dTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAod2luZG93ID0+IHdpbmRvdy53aW5kb3dXaWR0aCksXHJcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5lckhlaWdodFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiB3aW5kb3dIZWlnaHRTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAoaCA9PiBoID09PSAwID8gNzAwIDogaClcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb250YWluZXJXaWR0aFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiB3aW5kb3dXaWR0aFNlbGVjdG9yKHN0b3JlKS5waXBlKFxyXG4gICAgICAgIG1hcCh3ID0+IHcgPT09IDAgPyAxMjAwIDogdylcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50SGVpZ2h0U2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4pOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xyXG4gICAgcmV0dXJuIHdpbmRvd0hlaWdodFNlbGVjdG9yKHN0b3JlKS5waXBlKFxyXG4gICAgICAgIG1hcChoID0+IGggPT09IDAgPyA3MDAgOiBoKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRXaWR0aFNlbGVjdG9yKHN0b3JlOiBTdG9yZTxhbnk+KTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcclxuICAgIHJldHVybiB3aW5kb3dXaWR0aFNlbGVjdG9yKHN0b3JlKS5waXBlKFxyXG4gICAgICAgIG1hcCh3ID0+IHcgPT09IDAgPyAxMjAwIDogdylcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaWRlbmF2T3BlbmVkU2VsZWN0b3Ioc3RvcmU6IFN0b3JlPGFueT4pOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiAoPE9ic2VydmFibGU8Ym9vbGVhbj4+c3RvcmUuc2VsZWN0KCdzaWRlbmF2JykpLnBpcGUoXHJcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwaUJhc2VVcmxTZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gY29uZmlnU2VsZWN0b3Ioc3RvcmUpLnBpcGUoXHJcbiAgICAgICAgbWFwKGNvbmZpZyA9PiBjb25maWcuYXBpQmFzZVVybClcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdXRoVG9rZW5TZWxlY3RvcihzdG9yZTogU3RvcmU8YW55Pik6IE9ic2VydmFibGU8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gY3VycmVudFVzZXJTZWxlY3RvcihzdG9yZSkucGlwZShcclxuICAgICAgICBtYXAodXNlciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuOiBUb2tlbiA9IHVzZXIgJiYgdXNlci50b2tlbiA/IGJ1aWxkKFRva2VuLCB1c2VyLnRva2VuKSA6IG5ldyBUb2tlbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW4udG9TdHJpbmcoKTtcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxufVxyXG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENhbkFjdGl2YXRlLCBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBSb3V0ZXJTdGF0ZVNuYXBzaG90IH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuXHJcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZWRTZWxlY3RvciB9IGZyb20gJy4uLy4uL3N0b3JlL3NlbGVjdG9ycyc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGVkR3VhcmQgaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7XHJcblxyXG4gICAgYXV0aGVudGljYXRlZCQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0b3JlOiBTdG9yZTxhbnk+KSB7XHJcbiAgICAgICAgdGhpcy5hdXRoZW50aWNhdGVkJCA9IGF1dGhlbnRpY2F0ZWRTZWxlY3Rvcih0aGlzLnN0b3JlKTtcclxuICAgIH1cclxuXHJcbiAgICBjYW5BY3RpdmF0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHwgYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aGVudGljYXRlZCQ7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IE1hdERpYWxvZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcclxuaW1wb3J0IHsgU3RvcmUsIEFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcblxyXG5pbXBvcnQgeyBIYXNJZCB9IGZyb20gJy4vbW9kZWxzJztcclxuaW1wb3J0IHsgZ2V0VmFsdWUsIHRydXRoeSB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIER1bWJDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xyXG5cclxuICAgIGRpYWxvZzogTWF0RGlhbG9nO1xyXG4gICAgZGlhbG9nUmVmOiBTdWJzY3JpcHRpb247XHJcbiAgICBmb3JtOiBGb3JtR3JvdXA7XHJcbiAgICByZXF1ZXN0U3RhdGU6ICdERUZBVUxUJyB8ICdTVUNDRVNTJyB8ICdFUlJPUicgPSAnREVGQVVMVCc7XHJcbiAgICBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbkVycm9yU3RhdGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFN0YXRlID09PSAnRVJST1InO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpblN1Y2Nlc3NTdGF0ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0U3RhdGUgPT09ICdTVUNDRVNTJztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWVzc2FnZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluRXJyb3JTdGF0ZSA/IGBBbiBlcnJvciBoYXMgb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuYFxyXG4gICAgICAgICAgICA6IHRoaXMuaW5TdWNjZXNzU3RhdGUgPyBgU2F2ZWQgc3VjY2Vzc2Z1bGx5IWAgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2hvd01lc3NhZ2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5FcnJvclN0YXRlIHx8IHRoaXMuaW5TdWNjZXNzU3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZURpYWxvZyhyZXN1bHQ6IGFueSkge1xyXG4gICAgICAgIHRoaXMuZGlhbG9nUmVmLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkRpYWxvZyhjb21wb25lbnQ6IGFueSwgY29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBkaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKGNvbXBvbmVudCwgY29uZmlnKTtcclxuICAgICAgICB0aGlzLmRpYWxvZ1JlZiA9IGRpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKHJlc3VsdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlU3Vic2NyaXB0aW9ucygpIHtcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgcy51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN1YnNjcmliZShzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGRTdWJzY3JpcHRpb24ocyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmxhc2hFcnJvck1lc3NhZ2UoZHVyYXRpb24gPSA1MDAwKSB7XHJcbiAgICAgICAgdGhpcy50b0Vycm9yU3RhdGUoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJlcXVlc3RTdGF0ZSgpO1xyXG4gICAgICAgIH0sIGR1cmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmbGFzaFN1Y2Nlc3NNZXNzYWdlKGR1cmF0aW9uID0gNTAwMCkge1xyXG4gICAgICAgIHRoaXMudG9TdWNlc3NTdGF0ZSgpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmVxdWVzdFN0YXRlKCk7XHJcbiAgICAgICAgfSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRXJyb3IoZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5mbGFzaEVycm9yTWVzc2FnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3VjY2VzcyhlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLmZsYXNoU3VjY2Vzc01lc3NhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldFJlcXVlc3RTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3RTdGF0ZSA9ICdERUZBVUxUJztcclxuICAgIH1cclxuXHJcbiAgICBzZXRWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9ybSAmJiB0aGlzLmZvcm0uc2V0VmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLnNldFZhbHVlKGdldFZhbHVlKHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvRXJyb3JTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3RTdGF0ZSA9ICdFUlJPUic7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdWNlc3NTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3RTdGF0ZSA9ICdTVUNDRVNTJztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQ29tcG9uZW50IGV4dGVuZHMgRHVtYkNvbXBvbmVudCB7XHJcblxyXG4gICAgZm9ybTogRm9ybUdyb3VwO1xyXG4gICAgbW9kZWw6IEhhc0lkO1xyXG5cclxuICAgIGdldCBlZGl0aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnV0aHkodGhpcy5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCk6IG51bWJlciB8IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB0aGlzLmZvcm0udmFsaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgbWFya0FzU3VibWl0dGVkKCkge1xyXG4gICAgICAgIHRoaXMuZm9ybS5tYXJrQXNUb3VjaGVkKCk7XHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5mb3JtLmNvbnRyb2xzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5jb250cm9sc1trZXldLm1hcmtBc1RvdWNoZWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTbWFydENvbXBvbmVudCBleHRlbmRzIER1bWJDb21wb25lbnQge1xyXG5cclxuICAgIGV2ZW50cztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RvcmU6IFN0b3JlPGFueT4pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BhdGNoKGFjdGlvbjogQWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BhdGNoQW5kU3Vic2NyaWJlKGFjdGlvbjogQWN0aW9uLCBvblN1Y2Nlc3M/OiAoZTogYW55KSA9PiB2b2lkLCBvbkVycm9yPzogKGU6IGFueSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGNvbnN0IGYxID0gb25TdWNjZXNzID8gb25TdWNjZXNzIDogZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhc2hTdWNjZXNzTWVzc2FnZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGYyID0gb25FcnJvciA/IG9uRXJyb3IgOiBlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5mbGFzaEVycm9yTWVzc2FnZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cyAmJiB0aGlzLmV2ZW50cy5kaXNwYXRjaCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFN1YnNjcmlwdGlvbih0aGlzLmV2ZW50cy5kaXNwYXRjaChhY3Rpb24pLnN1YnNjcmliZShmMSwgZjIpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBDb25maWcge1xyXG4gICAgZGV2ID0gZmFsc2U7XHJcbiAgICB0ZXN0ID0gZmFsc2U7XHJcbiAgICBzdGFnaW5nID0gZmFsc2U7XHJcbiAgICBwcm9kdWN0aW9uID0gZmFsc2U7XHJcbiAgICBhcGlCYXNlVXJsID0gJyc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3Q29uZmlnIGV4dGVuZHMgQ29uZmlnIHtcclxuICAgIHZpZXdNb2RlOiAnRGVmYXVsdCcgfCAnQ2xhc3NpYycgfCAnTWF0ZXJpYWwnID0gJ0RlZmF1bHQnO1xyXG59XHJcbiIsImltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL2NvbGxlY3Rpb24nO1xyXG5pbXBvcnQgeyBEYXRlSGVscGVyIH0gZnJvbSAnLi9kYXRlJztcclxuaW1wb3J0IHsgYnVpbGQgfSBmcm9tICcuL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWVzdGlvbiB7XHJcbiAgICBhbnN3ZXI/OiBhbnk7XHJcbiAgICBsb29rdXA/OiBhbnk7XHJcbiAgICBrZXk6IHN0cmluZyB8IG51bWJlcjtcclxuICAgIHF1ZXN0aW9uID0gJyc7XHJcbiAgICB0aXRsZT89ICcnO1xyXG4gICAgdHlwZT86IHN0cmluZyB8IEFuc3dlclR5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEFuc3dlclR5cGUgPSAnZGF0ZScgfCAnbW9udGh5ZWFyJyB8ICd5ZXNubyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUXVlc3Rpb25zIGV4dGVuZHMgQ29sbGVjdGlvbjxRdWVzdGlvbj4ge1xyXG5cclxuICAgIHN0YXRpYyBBbnN3ZXJRdWVzdGlvbnMocXVlc3Rpb25zOiBRdWVzdGlvbltdLCBhbnN3ZXJzOiBhbnkpOiBRdWVzdGlvbltdIHtcclxuICAgICAgICByZXR1cm4gcXVlc3Rpb25zLm1hcChxdWVzdGlvbiA9PiBRdWVzdGlvbnMuQW5zd2VyUXVlc3Rpb24ocXVlc3Rpb24sIGFuc3dlcnNbcXVlc3Rpb24ua2V5XSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBBbnN3ZXJRdWVzdGlvbihxdWVzdGlvbjogUXVlc3Rpb24sIGFuc3dlckRhdGE6IGFueSk6IFF1ZXN0aW9uIHtcclxuICAgICAgICBsZXQgYW5zd2VyID0gYW5zd2VyRGF0YTtcclxuICAgICAgICBzd2l0Y2ggKHF1ZXN0aW9uLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhbnN3ZXJEYXRhO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoeWVhcic6XHJcbiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBEYXRlSGVscGVyLlRvTW9udGhZZWFyTmFtZShhbnN3ZXJEYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd5ZXNubyc6XHJcbiAgICAgICAgICAgICAgICBhbnN3ZXIgPSBhbnN3ZXJEYXRhID8gJ1llcycgOiAnTm8nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWlsZChRdWVzdGlvbiwgcXVlc3Rpb24sIHsgYW5zd2VyIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlclF1ZXN0aW9ucyhhbnN3ZXJzOiBhbnkpOiBRdWVzdGlvbltdIHtcclxuICAgICAgICByZXR1cm4gUXVlc3Rpb25zLkFuc3dlclF1ZXN0aW9ucyh0aGlzLnRvQXJyYXkoKSwgYW5zd2Vycyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBRdWVzdGlvbnNNb2RlbCB7XHJcbiAgICBpZ25vcmUgPSBbJ2lzQWRkJywgJ3F1ZXN0aW9ucyddO1xyXG4gICAgYWJzdHJhY3QgcXVlc3Rpb25zOiBRdWVzdGlvbltdO1xyXG5cclxuICAgIGdldCBhbnN3ZXJzKCk6IFF1ZXN0aW9uW10ge1xyXG4gICAgICAgIHJldHVybiBRdWVzdGlvbnMuQW5zd2VyUXVlc3Rpb25zKHRoaXMucXVlc3Rpb25zLCB0aGlzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUeXBlQ29uc3RydWN0b3IgfSBmcm9tICcuL21vZGVscyc7XHJcbmltcG9ydCB7IGNvbXBhcmVOdW1iZXJzIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZUl0ZW08VD4ge1xyXG5cclxuICAgIGlkID0gMDtcclxuICAgIG9yZGVyID0gMDtcclxuICAgIHBhcmVudElkID0gMDtcclxuICAgIHRyZWVJZCA9IDA7XHJcbiAgICBpbmRleCA9IDA7XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkPFQ+KGl0ZW06IFQpOiBUcmVlSXRlbTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIDxUcmVlSXRlbTxUPj57XHJcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXHJcbiAgICAgICAgICAgIGlkOiBpdGVtWydpZCddLFxyXG4gICAgICAgICAgICBvcmRlcjogaXRlbVsnb3JkZXInXSxcclxuICAgICAgICAgICAgcGFyZW50SWQ6IGl0ZW1bJ3BhcmVudElkJ11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBpdGVtOiBULCBwdWJsaWMgcGFyZW50PzogVCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGFzUGFyZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudElkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzb3J0T3JkZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRJZCA/IHRoaXMudHJlZUlkICsgKC4xICogdGhpcy5vcmRlcikgOiB0aGlzLnRyZWVJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHJlZU9yZGVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50SWQgPyB0aGlzLm9yZGVyIDogMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWU8VD4ge1xyXG4gICAgX2FjdGl2ZUlkID0gMDtcclxuICAgIF9hY3RpdmVJbmRleCA9IC0xO1xyXG5cclxuICAgIHN0YXRpYyBGaW5kUGFyZW50PFQ+KGl0ZW1zOiBUcmVlSXRlbTxUPltdLCBpdGVtOiBUcmVlSXRlbTxUPik6IFRyZWVJdGVtPFQ+IHtcclxuICAgICAgICByZXR1cm4gaXRlbXMuZmluZCh4ID0+IHguaWQgPT09IGl0ZW0ucGFyZW50SWQpIHx8IG5ldyBUcmVlSXRlbTxUPig8VD57fSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZpbmRQYXJlbnRPcmRlcjxUPihpdGVtczogVHJlZUl0ZW08VD5bXSwgaXRlbTogVHJlZUl0ZW08VD4pOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IFRyZWUuRmluZFBhcmVudChpdGVtcywgaXRlbSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcmVudC5vcmRlcjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGQ8VD4oaXRlbXM6IFRyZWVJdGVtPFQ+W10sIGN0b3I6IFR5cGVDb25zdHJ1Y3RvcjxUPik6IFRyZWU8VD4ge1xyXG4gICAgICAgIGNvbnN0IHRyZWVJdGVtcyA9IGl0ZW1zLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0udHJlZUlkID0gaXRlbS5wYXJlbnRJZCA/IFRyZWUuRmluZFBhcmVudE9yZGVyKGl0ZW1zLCBpdGVtKSA6IGl0ZW0ub3JkZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyZWVJdGVtID0gT2JqZWN0LmFzc2lnbihuZXcgVHJlZUl0ZW08VD4oPFQ+e30pLCBpdGVtKTtcclxuICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIHRyZWVJdGVtXTtcclxuICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgY29uc3Qgb3JkZXJlZEl0ZW1zID0gaXRlbXMuc29ydCgoYSwgYikgPT4gY29tcGFyZU51bWJlcnMoYS5zb3J0T3JkZXIsIGIuc29ydE9yZGVyKSlcclxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjOiBUcmVlSXRlbTxUPltdLCB0cmVlSXRlbTogVHJlZUl0ZW08VD4sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0cmVlSXRlbS5pdGVtO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdHJlZUl0ZW0ucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIDxUcmVlSXRlbTxUPj5PYmplY3QuYXNzaWduKG5ldyBUcmVlSXRlbTxUPihpdGVtLCBwYXJlbnQpLCB0cmVlSXRlbSwgeyBpbmRleDogaW5kZXggKyAxIH0pXTtcclxuICAgICAgICAgICAgfSwgW10pO1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJlZTxUPihvcmRlcmVkSXRlbXMsIGN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3RyZWVJdGVtczogVHJlZUl0ZW08VD5bXSwgcHVibGljIGN0b3I6IFR5cGVDb25zdHJ1Y3RvcjxUPikge1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhY3RpdmVJZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVJZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgYWN0aXZlSWQoaWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZUlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlSW5kZXggPSB0aGlzLmdldEluZGV4QnlJZChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdGl2ZUluZGV4KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBhY3RpdmVJbmRleChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlSW5kZXggPSBpbmRleDtcclxuICAgICAgICB0aGlzLl9hY3RpdmVJZCA9IHRoaXMuZ2V0SWRCeUluZGV4KGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29weSgpOiBUcmVlPFQ+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgVHJlZTxUPih0aGlzLl90cmVlSXRlbXMsIHRoaXMuY3RvciksIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbnN0YW5jZSgpOiBUIHtcclxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuY3RvcigpIHx8IDxUPnt9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuZXh0KCk6IFRyZWVJdGVtPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXROZXh0KHRoaXMuYWN0aXZlSW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuZXh0SWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0LmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuZXh0SW5kZXgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVJbmRleCArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByZXZpb3VzKCk6IFRyZWVJdGVtPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcmV2aW91cyh0aGlzLmFjdGl2ZUluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJldmlvdXNJZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByZXZpb3VzLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwcmV2aW91c0luZGV4KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlSW5kZXggLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtcygpOiBUW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90cmVlSXRlbXMubWFwKHggPT4geC5pdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdHJlZUl0ZW1zKCk6IFRyZWVJdGVtPFQ+W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90cmVlSXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9yZGVyZWRJdGVtcygpOiBUcmVlSXRlbTxUPltdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmVlSXRlbXMuc29ydCgoYSwgYikgPT4gY29tcGFyZU51bWJlcnMoYS5pbmRleCwgYi5pbmRleCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdWJ0cmVlcygpOiBUcmVlPFQ+W10ge1xyXG4gICAgICAgIGNvbnN0IHRyZWVzID0gdGhpcy50cmVlSXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdHJlZUlkID0gaXRlbS50cmVlSWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1Yml0ZW1zID0gYWNjW3RyZWVJZF0gfHwgW107XHJcbiAgICAgICAgICAgIGFjY1t0cmVlSWRdID0gWy4uLnN1Yml0ZW1zLCBpdGVtXTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRyZWVzKS5tYXAoa2V5ID0+IFRyZWUuQnVpbGQodHJlZXNba2V5XSwgdGhpcy5jdG9yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN1YnRyZWVJdGVtcygpOiBUcmVlSXRlbTxUPltdW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN1YnRyZWVzLm1hcCh0cmVlID0+IHRyZWUudHJlZUl0ZW1zLnNvcnQoKGEsIGIpID0+IGNvbXBhcmVOdW1iZXJzKGEuaW5kZXgsIGIuaW5kZXgpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWRCeUluZGV4KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEl0ZW1CeUluZGV4KGluZGV4KTtcclxuICAgICAgICByZXR1cm4gaXRlbS5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbmRleEJ5SWQoaWQ6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUJ5SWQoaWQpLmluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1CeUlkKGlkOiBudW1iZXIpOiBUcmVlSXRlbTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZUl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBpZCkgfHwgbmV3IFRyZWVJdGVtPFQ+KHRoaXMuaW5zdGFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1CeUluZGV4KGluZGV4OiBudW1iZXIpOiBUcmVlSXRlbTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZUl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmluZGV4ID09PSBpbmRleCkgfHwgbmV3IFRyZWVJdGVtPFQ+KHRoaXMuaW5zdGFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5leHQoaW5kZXg6IG51bWJlcik6IFRyZWVJdGVtPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtQnlJbmRleChpbmRleCArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5leHRJZChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXROZXh0KGluZGV4KS5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcmV2aW91cyhpbmRleDogbnVtYmVyKTogVHJlZUl0ZW08VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEl0ZW1CeUluZGV4KGluZGV4IC0gMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJldmlvdXNJZChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcmV2aW91cyhpbmRleCkuaWQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVG9rZW4gfSBmcm9tICcuL3Rva2VuJztcclxuaW1wb3J0IHsgYnVpbGQgfSBmcm9tICcuL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VyIHtcclxuICAgIGVtYWlsID0gJyc7XHJcbiAgICBmaXJzdE5hbWUgPSAnJztcclxuICAgIGxhc3ROYW1lID0gJyc7XHJcbiAgICBmdWxsTmFtZSA9ICcnO1xyXG4gICAgcGFzc3dvcmQgPSAnJztcclxuICAgIGNvbmZpcm1QYXNzd29yZCA9ICcnO1xyXG4gICAgdXNlck5hbWUgPSAnJztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEN1cnJlbnRVc2VyIGV4dGVuZHMgVXNlciB7XHJcblxyXG4gICAgdG9rZW46IFRva2VuID0gbmV3IFRva2VuKCk7XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkKGRhdGE6IEN1cnJlbnRVc2VyKTogQ3VycmVudFVzZXIge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gZGF0YSAmJiBkYXRhLnRva2VuID8gYnVpbGQoVG9rZW4sIGRhdGEudG9rZW4pIDogbmV3IFRva2VuKCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1aWxkKEN1cnJlbnRVc2VyLCBkYXRhLCB7IHRva2VuIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhdXRoZW50aWNhdGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuICYmIHRoaXMudG9rZW4uYXV0aGVudGljYXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdXNlclJvbGVzKCk6IFVzZXJSb2xlcyB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVc2VyUm9sZXModGhpcyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlclJvbGVzIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdXNlcjogQ3VycmVudFVzZXIgPSBuZXcgQ3VycmVudFVzZXIoKSkge1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luIHtcclxuICAgIGdyYW50X3R5cGUgPSAncGFzc3dvcmQnO1xyXG4gICAgdXNlck5hbWUgPSAnJztcclxuICAgIHBhc3N3b3JkID0gJyc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkIHtcclxuICAgIHBhc3N3b3JkUmVzZXRDb2RlID0gJyc7XHJcbiAgICBwYXNzd29yZCA9ICcnO1xyXG4gICAgY29uZmlybVBhc3N3b3JkID0gJyc7XHJcbn1cclxuIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yYWdlQWN0aW9ucyB7XHJcbiAgICBzdGF0aWMgVVBEQVRFX0xPQ0FMX1NUT1JBR0UgPSAnW1N0b3JhZ2VdIFVwZGF0ZSBMb2NhbCBTdG9yYWdlJztcclxuICAgIHN0YXRpYyBVUERBVEVfU0VTU0lPTl9TVE9SQUdFID0gJ1tTdG9yYWdlXSBVcGRhdGUgU2Vzc2lvbiBTdG9yYWdlJztcclxuICAgIHN0YXRpYyBJTklUX1NUT1JFID0gJ1tTdG9yYWdlXSBJbml0IFN0b3JlJztcclxuXHJcbiAgICBzdGF0aWMgaW5pdFN0b3JlKGxvY2FsU3RvcmU6IGFueSwgc2Vzc2lvblN0b3JlOiBhbnkpOiBBY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0b3JhZ2VBY3Rpb25zLklOSVRfU1RPUkUsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHsgbG9jYWxTdG9yZSwgc2Vzc2lvblN0b3JlIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi9zdG9yZS9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGlvblN0b3JlIHtcclxuICAgIHN0b3JlOiBhbnk7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbGFzdEFjdGlvbjogQWN0aW9uKSB7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yYWdlIHtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxuICAgIGxvY2FsU3RvcmU6IGFueSA9IHt9O1xyXG4gICAgc2Vzc2lvblN0b3JlOiBhbnkgPSB7fTtcclxufVxyXG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuXG5pbXBvcnQgeyBTdG9yYWdlQWN0aW9ucyB9IGZyb20gJy4vc3RvcmFnZS5hY3Rpb25zJztcbmltcG9ydCB7IEFjdGlvblN0b3JlIH0gZnJvbSAnLi9zdG9yYWdlLm1vZGVscyc7XG5pbXBvcnQgeyBTVE9SRV9LRVkgfSBmcm9tICcuL3N0b3JhZ2UubW9kdWxlJztcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uL3N0b3JlL21vZGVscyc7XG5pbXBvcnQgeyBidWlsZCwgaW5BcnJheSwgZmlsdGVyU3RhdGUgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBTdG9yYWdlU2VydmljZSB7XG5cbiAgbG9jYWxTdG9yYWdlQWN0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgc2Vzc2lvblN0b3JhZ2VBY3Rpb25zOiBzdHJpbmdbXSA9IFtdO1xuICBsb2NhbFN0b3JhZ2VNYXBwZXI6IChzdGF0ZTogYW55KSA9PiBhbnkgPSBzID0+IHM7XG4gIHNlc3Npb25TdG9yYWdlTWFwcGVyOiAoc3RhdGU6IGFueSkgPT4gYW55ID0gcyA9PiBzO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzdG9yZTogU3RvcmU8YW55PiwgQEluamVjdChTVE9SRV9LRVkpIHB1YmxpYyBzdG9yZUtleTogc3RyaW5nKSB7XG4gIH1cblxuICBnZXQgbG9jYWxTdG9yZSgpOiBhbnkge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KTtcbiAgfVxuXG4gIGdldCBzZXNzaW9uU3RvcmUoKTogYW55IHtcbiAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JlS2V5KTtcbiAgfVxuXG4gIGdldCBzdG9yYWdlKCk6IFN0b3JhZ2Uge1xuICAgIGNvbnN0IGxvY2FsU3RvcmUgPSB0aGlzLmxvY2FsU3RvcmU7XG4gICAgY29uc3Qgc2Vzc2lvblN0b3JlID0gdGhpcy5zZXNzaW9uU3RvcmU7XG4gICAgcmV0dXJuIGJ1aWxkKFN0b3JhZ2UsIE9iamVjdC5hc3NpZ24oe30sIGxvY2FsU3RvcmUsIHNlc3Npb25TdG9yZSksIHtcbiAgICAgIGxvY2FsU3RvcmUsXG4gICAgICBzZXNzaW9uU3RvcmVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSB1c2Ugb2YgbG9jYWwgc3RvcmFnZSBhbmQvb3Igc2Vzc2lvbiBzdG9yYWdlXG4gICAqIEBwYXJhbSBsb2NhbFN0b3JhZ2VNYXBwZXIgTWFwcGVyIGZ1bmN0aW9uIGZvciBtYXBwaW5nIHN0YXRlIHRvIGxvY2FsIHN0b3JlXG4gICAqIEBwYXJhbSBzZXNzaW9uU3RvcmFnZU1hcHBlciBNYXBwZXIgZnVuY3Rpb24gZm9yIG1hcHBpbmcgc3RhdGUgdG8gc2Vzc2lvbiBzdG9yZVxuICAgKiBAcGFyYW0gbG9jYWxTdG9yYWdlQWN0aW9ucyBBY3Rpb25zIGFmdGVyIHdoaWNoIHRvIHNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuICAgKiBAcGFyYW0gc2Vzc2lvblN0b3JhZ2VBY3Rpb25zIEFjdGlvbnMgYWZ0ZXIgd2hpY2ggdG8gc2F2ZSB0byBzZXNzaW9uIHN0b3JhZ2VcbiAgICovXG4gIGluaXQobG9jYWxTdG9yYWdlTWFwcGVyOiAoc3RhdGU6IGFueSkgPT4gYW55ID0gcyA9PiBzLCBzZXNzaW9uU3RvcmFnZU1hcHBlcjogKHN0YXRlOiBhbnkpID0+IGFueSA9IHMgPT4gcywgbG9jYWxTdG9yYWdlQWN0aW9ucyA9IFtdLCBzZXNzaW9uU3RvcmFnZUFjdGlvbnMgPSBbXSkge1xuICAgIGNvbnN0IGxvY2FsU3RvcmUgPSB0aGlzLmluaXRMb2NhbFN0b3JlKGxvY2FsU3RvcmFnZU1hcHBlciwgbG9jYWxTdG9yYWdlQWN0aW9ucyk7XG4gICAgY29uc3Qgc2Vzc2lvblN0b3JlID0gdGhpcy5pbml0U2Vzc2lvblN0b3JlKHNlc3Npb25TdG9yYWdlTWFwcGVyLCBzZXNzaW9uU3RvcmFnZUFjdGlvbnMpO1xuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goU3RvcmFnZUFjdGlvbnMuaW5pdFN0b3JlKGxvY2FsU3RvcmUsIHNlc3Npb25TdG9yZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIHVzZSBvZiBsb2NhbCBzdG9yYWdlXG4gICAqIEBwYXJhbSBsb2NhbFN0b3JhZ2VNYXBwZXIgTWFwcGVyIGZ1bmN0aW9uIGZvciBtYXBwaW5nIHN0YXRlIHRvIGxvY2FsIHN0b3JlXG4gICAqIEBwYXJhbSBsb2NhbFN0b3JhZ2VBY3Rpb25zIEFjdGlvbnMgYWZ0ZXIgd2hpY2ggdG8gc2F2ZSB0byBsb2NhbCBzdG9yYWdlXG4gICAqL1xuICBpbml0TG9jYWxTdG9yZShsb2NhbFN0b3JhZ2VNYXBwZXI6IChzdGF0ZTogYW55KSA9PiBhbnkgPSBzID0+IHMsIGxvY2FsU3RvcmFnZUFjdGlvbnMgPSBbXSk6IGFueSB7XG4gICAgdGhpcy5sb2NhbFN0b3JhZ2VNYXBwZXIgPSBsb2NhbFN0b3JhZ2VNYXBwZXI7XG4gICAgdGhpcy5sb2NhbFN0b3JhZ2VBY3Rpb25zID0gbG9jYWxTdG9yYWdlQWN0aW9ucztcbiAgICBjb25zdCBscyA9IHRoaXMubG9jYWxTdG9yZTtcbiAgICBjb25zdCBsb2NhbFN0b3JlID0gbHMgPyBKU09OLnBhcnNlKGxzKSA6IHt9O1xuICAgIHJldHVybiBsb2NhbFN0b3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIHVzZSBvZiBzZXNzaW9uIHN0b3JhZ2VcbiAgICogQHBhcmFtIHNlc3Npb25TdG9yYWdlTWFwcGVyIE1hcHBlciBmdW5jdGlvbiBmb3IgbWFwcGluZyBzdGF0ZSB0byBzZXNzaW9uIHN0b3JlXG4gICAqIEBwYXJhbSBzZXNzaW9uU3RvcmFnZUFjdGlvbnMgQWN0aW9ucyBhZnRlciB3aGljaCB0byBzYXZlIHRvIHNlc3Npb24gc3RvcmFnZVxuICAgKi9cbiAgaW5pdFNlc3Npb25TdG9yZShzZXNzaW9uU3RvcmFnZU1hcHBlcjogKHN0YXRlOiBhbnkpID0+IGFueSA9IHMgPT4gcywgc2Vzc2lvblN0b3JhZ2VBY3Rpb25zID0gW10pIHtcbiAgICB0aGlzLnNlc3Npb25TdG9yYWdlTWFwcGVyID0gc2Vzc2lvblN0b3JhZ2VNYXBwZXI7XG4gICAgdGhpcy5zZXNzaW9uU3RvcmFnZUFjdGlvbnMgPSBzZXNzaW9uU3RvcmFnZUFjdGlvbnM7XG4gICAgY29uc3Qgc3MgPSB0aGlzLnNlc3Npb25TdG9yZTtcbiAgICBjb25zdCBzZXNzaW9uU3RvcmUgPSBzcyA/IEpTT04ucGFyc2Uoc3MpIDoge307XG4gICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlO1xuICB9XG5cbiAgaW5Mb2NhbFN0b3JhZ2UoYWN0aW9uVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGluQXJyYXkodGhpcy5sb2NhbFN0b3JhZ2VBY3Rpb25zLCBhY3Rpb25UeXBlKTtcbiAgfVxuXG4gIGluU2Vzc2lvblN0b3JhZ2UoYWN0aW9uVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGluQXJyYXkodGhpcy5zZXNzaW9uU3RvcmFnZUFjdGlvbnMsIGFjdGlvblR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlIHN0YXRlIHRvIGxvY2FsIHN0b3JhZ2UuXG4gICAqL1xuICBzdG9yZUxvY2FsKHN0YXRlOiBhbnksIGFjdGlvbjogQWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGNvbnN0IGZpbHRlcmVkU3RhdGUgPSBuZXcgQWN0aW9uU3RvcmUoYWN0aW9uLCB0aGlzLmZpbHRlclN0YXRlKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSkpO1xuICAgICAgY29uc3QgZmlsdGVyZWRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIGZpbHRlclN0YXRlKG5ldyBBY3Rpb25TdG9yZShhY3Rpb24pKSxcbiAgICAgICAgZmlsdGVyU3RhdGUoT2JqZWN0LmFzc2lnbih7fSxcbiAgICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZU1hcHBlcihzdGF0ZSkpKSk7XG4gICAgICBjb25zdCBzZXJpYWxpemVkU3RhdGUgPSBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZFN0YXRlKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmVLZXkpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yZUtleSwgc2VyaWFsaXplZFN0YXRlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVSUk9SIFNBVklORyBMT0NBTCBTVEFURSFcXG5BY3Rpb246XFx0JHthY3Rpb24uYWN0aW9uVHlwZX1cXG5gLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9yZSBzdGF0ZSB0byBzZXNzaW9uIHN0b3JhZ2UuXG4gICAqL1xuICBzdG9yZVNlc3Npb24oc3RhdGU6IGFueSwgYWN0aW9uOiBBY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgLy8gY29uc3QgZmlsdGVyZWRTdGF0ZSA9IG5ldyBBY3Rpb25TdG9yZShhY3Rpb24sIHRoaXMuZmlsdGVyU3RhdGUoT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpKSk7XG4gICAgICAvLyBjb25zdCBmaWx0ZXJlZFN0YXRlID0gdGhpcy5maWx0ZXJTdGF0ZShPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSkpO1xuICAgICAgY29uc3QgZmlsdGVyZWRTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIGZpbHRlclN0YXRlKG5ldyBBY3Rpb25TdG9yZShhY3Rpb24pKSxcbiAgICAgICAgZmlsdGVyU3RhdGUoT2JqZWN0LmFzc2lnbih7fSxcbiAgICAgICAgICB0aGlzLnNlc3Npb25TdG9yYWdlTWFwcGVyKHN0YXRlKSkpKTtcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZWRTdGF0ZSA9IEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkU3RhdGUpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5zdG9yZUtleSk7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXksIHNlcmlhbGl6ZWRTdGF0ZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFUlJPUiBTQVZJTkcgU0VTU0lPTiBTVEFURSFcXG5BY3Rpb246XFx0JHthY3Rpb24uYWN0aW9uVHlwZX1cXG5gLCBlcnIpO1xuICAgIH1cbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEVmZmVjdCwgb2ZUeXBlLCBBY3Rpb25zIH0gZnJvbSAnQG5ncngvZWZmZWN0cyc7XHJcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCwgZmlsdGVyLCB3aXRoTGF0ZXN0RnJvbSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmltcG9ydCB7IFN0b3JhZ2VBY3Rpb25zIH0gZnJvbSAnLi9zdG9yYWdlLmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBTdG9yYWdlU2VydmljZSB9IGZyb20gJy4vc3RvcmFnZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vc3RvcmUvbW9kZWxzJztcclxuaW1wb3J0IHsgdG9QYXlsb2FkIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuXHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBTdG9yYWdlRWZmZWN0cyB7XHJcblxyXG4gICAgYWN0aW9uVHlwZXM6IHN0cmluZ1tdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVucyBmb3IgZGlzcGF0Y2hlZCBhY3Rpb25zLCB1cGRhdGVzIGxvY2FsIHN0b3JhZ2UgaW4gcmVzcG9uc2UuXHJcbiAgICAgKi9cclxuICAgIEBFZmZlY3QoKSBvblN5bmNMb2NhbFN0b3JhZ2U6IE9ic2VydmFibGU8QWN0aW9uPiA9IHRoaXMuYWN0aW9ucyQucGlwZShcclxuICAgICAgICBmaWx0ZXIoKGFjdGlvbjogQWN0aW9uKSA9PiB0aGlzLnNlcnZpY2UuaW5Mb2NhbFN0b3JhZ2UoYWN0aW9uLnR5cGUpKSxcclxuICAgICAgICBtYXAoYWN0aW9uID0+ICh7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0b3JhZ2VBY3Rpb25zLlVQREFURV9MT0NBTF9TVE9SQUdFLFxyXG4gICAgICAgICAgICBwYXlsb2FkOiBhY3Rpb25cclxuICAgICAgICB9KSlcclxuICAgICk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW5zIGZvciBkaXNwYXRjaGVkIGFjdGlvbnMsIHVwZGF0ZXMgc2Vzc2lvbiBzdG9yYWdlIGluIHJlc3BvbnNlLlxyXG4gICAgICovXHJcbiAgICBARWZmZWN0KCkgb25TeW5jU2Vzc2lvblN0b3JhZ2U6IE9ic2VydmFibGU8QWN0aW9uPiA9IHRoaXMuYWN0aW9ucyQucGlwZShcclxuICAgICAgICBmaWx0ZXIoKGFjdGlvbjogQWN0aW9uKSA9PiB0aGlzLnNlcnZpY2UuaW5TZXNzaW9uU3RvcmFnZShhY3Rpb24udHlwZSkpLFxyXG4gICAgICAgIG1hcChhY3Rpb24gPT4gKHtcclxuICAgICAgICAgICAgdHlwZTogU3RvcmFnZUFjdGlvbnMuVVBEQVRFX1NFU1NJT05fU1RPUkFHRSxcclxuICAgICAgICAgICAgcGF5bG9hZDogYWN0aW9uXHJcbiAgICAgICAgfSkpXHJcbiAgICApO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcmVzIHN0YXRlIHRvIGxvY2FsIHN0b3JhZ2UgYWZ0ZXIgZWFjaCBhY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIEBFZmZlY3QoeyBkaXNwYXRjaDogZmFsc2UgfSkgb25TdG9yZUxvY2FsOiBPYnNlcnZhYmxlPHZvaWQ+ID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIG9mVHlwZShTdG9yYWdlQWN0aW9ucy5VUERBVEVfTE9DQUxfU1RPUkFHRSksXHJcbiAgICAgICAgbWFwKHRvUGF5bG9hZCksXHJcbiAgICAgICAgd2l0aExhdGVzdEZyb20odGhpcy5zdGF0ZSQsIChhY3Rpb246IEFjdGlvbiwgc3RhdGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2Uuc3RvcmVMb2NhbChzdGF0ZSwgYWN0aW9uKTtcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlcyBzdGF0ZSB0byBsb2NhbCBzdG9yYWdlIGFmdGVyIGVhY2ggYWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBARWZmZWN0KHsgZGlzcGF0Y2g6IGZhbHNlIH0pIG9uU3RvcmVTZXNzaW9uOiBPYnNlcnZhYmxlPHZvaWQ+ID0gdGhpcy5hY3Rpb25zJC5waXBlKFxyXG4gICAgICAgIG9mVHlwZShTdG9yYWdlQWN0aW9ucy5VUERBVEVfU0VTU0lPTl9TVE9SQUdFKSxcclxuICAgICAgICBtYXAodG9QYXlsb2FkKSxcclxuICAgICAgICB3aXRoTGF0ZXN0RnJvbSh0aGlzLnN0YXRlJCwgKGFjdGlvbjogQWN0aW9uLCBzdGF0ZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VydmljZS5zdG9yZVNlc3Npb24oc3RhdGUsIGFjdGlvbik7XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBhY3Rpb25zJDogQWN0aW9ucyxcclxuICAgICAgICBwcml2YXRlIHNlcnZpY2U6IFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgc3RhdGUkOiBTdG9yZTxhbnk+XHJcbiAgICApIHsgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycywgSW5qZWN0aW9uVG9rZW4gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XHJcblxyXG5pbXBvcnQgeyBTdG9yYWdlRWZmZWN0cyB9IGZyb20gJy4vc3RvcmFnZS5lZmZlY3RzJztcclxuaW1wb3J0IHsgU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuL3N0b3JhZ2Uuc2VydmljZSc7XHJcblxyXG5leHBvcnQgY29uc3QgU1RPUkVfS0VZID0gbmV3IEluamVjdGlvblRva2VuPHN0cmluZz4oJ0xvY2FsL1Nlc3Npb24gU3RvcmFnZSBLZXknKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdG9yYWdlU2VydmljZUZhY3Rvcnkoc3RvcmU6IFN0b3JlPGFueT4sIHN0b3JlS2V5OiBzdHJpbmcpOiBTdG9yYWdlU2VydmljZSB7XHJcbiAgcmV0dXJuIG5ldyBTdG9yYWdlU2VydmljZShzdG9yZSwgc3RvcmVLZXkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZVN0b3JhZ2Uoc3RvcmVLZXk6IHN0cmluZyk6IGFueVtdIHtcclxuICByZXR1cm4gW1xyXG4gICAgU3RvcmFnZUVmZmVjdHMsXHJcbiAgICB7IHByb3ZpZGU6IFN0b3JhZ2VTZXJ2aWNlLCB1c2VGYWN0b3J5OiBzdG9yYWdlU2VydmljZUZhY3RvcnksIGRlcHM6IFtTdG9yZSwgU1RPUkVfS0VZXSB9LFxyXG4gICAgeyBwcm92aWRlOiBTVE9SRV9LRVksIHVzZVZhbHVlOiBzdG9yZUtleSB9LFxyXG4gIF07XHJcbn1cclxuXHJcbkBOZ01vZHVsZSgpXHJcbmV4cG9ydCBjbGFzcyBTdG9yYWdlTW9kdWxlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgU3RvcmFnZU1vZHVsZSB3aXRoIHN0b3JhZ2Ugc2VydmljZSBhbmQgZWZmZWN0cy5cclxuICAgKiBAcGFyYW0gc3RvcmVLZXkgLSBUaGUgbmFtZSBvZiB0aGUga2V5IGNvbnRhaW5pbmcgdGhlIHN0b3JlIGluIHN0b3JhZ2UuXHJcbiAgICovXHJcbiAgc3RhdGljIGZvclJvb3Qoc3RvcmVLZXk6IHN0cmluZyk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmdNb2R1bGU6IFN0b3JhZ2VNb2R1bGUsXHJcbiAgICAgIHByb3ZpZGVyczogcHJvdmlkZVN0b3JhZ2Uoc3RvcmVLZXkpXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUsIEluamVjdGlvblRva2VuLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdG9yZU1vZHVsZSBhcyBOZ3J4U3RvcmVNb2R1bGUsIEFjdGlvblJlZHVjZXIsIEFjdGlvbiwgQWN0aW9uUmVkdWNlck1hcCB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIE5ncnhTdG9yZU1vZHVsZSxcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgZXhwb3J0czogW1xuICAgIE5ncnhTdG9yZU1vZHVsZSxcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBTdG9yZU1vZHVsZSB7XG5cbiAgc3RhdGljIGZvclJvb3Q8VCwgViBleHRlbmRzIEFjdGlvbiA9IEFjdGlvbj4ocmVkdWNlcnM6IEFjdGlvblJlZHVjZXJNYXA8VCwgVj4gfCBJbmplY3Rpb25Ub2tlbjxBY3Rpb25SZWR1Y2VyTWFwPFQsIFY+PiwgY29uZmlnPzogYW55KTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIE5ncnhTdG9yZU1vZHVsZS5mb3JSb290KHJlZHVjZXJzLCBjb25maWcpO1xuICB9XG5cbiAgc3RhdGljIGZvckZlYXR1cmVzPFQsIFYgZXh0ZW5kcyBBY3Rpb24gPSBBY3Rpb24+KGZlYXR1cmVOYW1lOiBzdHJpbmcsIHJlZHVjZXJzOiBBY3Rpb25SZWR1Y2VyTWFwPFQsIFY+IHwgSW5qZWN0aW9uVG9rZW48QWN0aW9uUmVkdWNlck1hcDxULCBWPj4sIGNvbmZpZz86IGFueSk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiBOZ3J4U3RvcmVNb2R1bGUuZm9yRmVhdHVyZShmZWF0dXJlTmFtZSwgcmVkdWNlcnMsIGNvbmZpZyk7XG4gIH1cblxuICBzdGF0aWMgZm9yRmVhdHVyZTxULCBWIGV4dGVuZHMgQWN0aW9uID0gQWN0aW9uPihmZWF0dXJlTmFtZTogc3RyaW5nLCByZWR1Y2VyOiBBY3Rpb25SZWR1Y2VyPFQsIFY+IHwgSW5qZWN0aW9uVG9rZW48QWN0aW9uUmVkdWNlcjxULCBWPj4sIGNvbmZpZz86IGFueSk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiBOZ3J4U3RvcmVNb2R1bGUuZm9yRmVhdHVyZShmZWF0dXJlTmFtZSwgcmVkdWNlciwgY29uZmlnKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBXaW5kb3dBY3Rpb25zLCBDb25maWdBY3Rpb25zLCBTaWRlbmF2QWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucyc7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vc2hhcmVkL2NvbmZpZyc7XHJcbmltcG9ydCB7IGJ1aWxkIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcclxuaW1wb3J0IHsgV2luZG93LCBXaW5kb3dSZXNpemUgfSBmcm9tICcuLi9zaGFyZWQvd2luZG93JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25maWdSZWR1Y2VyKHN0YXRlOiBDb25maWcgPSBuZXcgQ29uZmlnKCksIGFjdGlvbjogQWN0aW9uKTogQ29uZmlnIHtcclxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuXHJcbiAgICAgICAgY2FzZSBDb25maWdBY3Rpb25zLklOSVRJQUxJWkU6XHJcbiAgICAgICAgICAgIHJldHVybiBidWlsZChDb25maWcsIHN0YXRlLCBhY3Rpb24ucGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZGVuYXZSZWR1Y2VyKHN0YXRlID0gdHJ1ZSwgYWN0aW9uOiBBY3Rpb24pOiBib29sZWFuIHtcclxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuXHJcbiAgICAgICAgY2FzZSBTaWRlbmF2QWN0aW9ucy5DTE9TRTpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBjYXNlIFNpZGVuYXZBY3Rpb25zLk9QRU46XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICBjYXNlIFNpZGVuYXZBY3Rpb25zLlRPR0dMRTpcclxuICAgICAgICAgICAgcmV0dXJuICFzdGF0ZTtcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd2luZG93UmVkdWNlcihzdGF0ZTogV2luZG93ID0gbmV3IFdpbmRvdygpLCBhY3Rpb246IEFjdGlvbik6IFdpbmRvdyB7XHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcblxyXG4gICAgICAgIGNhc2UgV2luZG93QWN0aW9ucy5SRVNJWkU6XHJcbiAgICAgICAgICAgIHJldHVybiBidWlsZChXaW5kb3csIHN0YXRlLCA8V2luZG93UmVzaXplPmFjdGlvbi5wYXlsb2FkKTtcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJ0c2xpYl8xLl9fdmFsdWVzIiwiZnJvbSIsInRzbGliXzEuX19zcHJlYWQiLCJzdGF0ZSIsImZpbHRlciIsInNraXAiLCJ0YWtlIiwiS2VuZG9HcmlkTW9kdWxlIiwiR3JpZE1vZHVsZSIsIk1hdEljb25Nb2R1bGUiLCJFZmZlY3RzTW9kdWxlIiwiTmdyeEVmZmVjdHNNb2R1bGUiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsIkZvcm1zTW9kdWxlIiwiTmcyRm9ybXNNb2R1bGUiLCJGb3JtQXJyYXkiLCJOZzJGb3JtQXJyYXkiLCJSb3V0ZXJNb2R1bGUiLCJOR1JvdXRlck1vZHVsZSIsImNvbWJpbmVMYXRlc3QiLCJTdG9yYWdlIiwiU3RvcmVNb2R1bGUiLCJOZ3J4U3RvcmVNb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBT0U7S0FBaUI7O2dCQUxsQixVQUFVLFNBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzs7Ozt5QkFKRDs7Ozs7OztBQ0FBO0lBYUU7S0FBaUI7Ozs7SUFFakIsbUNBQVE7OztJQUFSO0tBQ0M7O2dCQWRGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsWUFBWTtvQkFDdEIsUUFBUSxFQUFFLCtDQUlUO29CQUNELE1BQU0sRUFBRSxF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QUUsQ0FBQztRQUM1RCxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3JFLENBQUMsQ0FBQztJQUNILE9BQU8sTUFBSSxPQUFTLENBQUM7Q0FDeEI7Ozs7O0FBRUQsaUNBQXdDLElBQVM7SUFDN0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksT0FBTyxJQUFJLENBQUM7Q0FDdEM7Ozs7O0FBRUQscUJBQTRCLEdBQVE7SUFDaEMscUJBQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEdBQUcsRUFBRSxHQUFHO1lBQUssT0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLFlBQUksR0FBQyxHQUFHLElBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFHOztTQUFBLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBRTNHLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFO1FBQzVGLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHO1lBQ2xDLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3RCLENBQUMsQ0FBQztLQUNOO0lB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