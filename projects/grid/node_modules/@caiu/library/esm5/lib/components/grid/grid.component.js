/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, ContentChildren, ElementRef, Input, QueryList, Renderer2, ViewChild, ViewEncapsulation, Output, EventEmitter } from '@angular/core';
import { Grid } from './grid.model';
import { GridColumnComponent } from './grid-column/grid-column.component';
import { str2int } from '../../shared/utils';
var GridComponent = /** @class */ (function () {
    function GridComponent(_elementRef, _renderer) {
        this._elementRef = _elementRef;
        this._renderer = _renderer;
        this.advancedFilter = false;
        this.autoCalculateHeight = true;
        this.buttonColor = '#fff';
        this.buttonCount = 5;
        this.buttonClass = 'toolbar-button';
        this.pagerInfo = true;
        this.pagerType = 'numeric';
        this.pageSizes = true;
        this.previousNext = true;
        this.export = false;
        this.fileName = 'export';
        this.filter = { logic: 'and', filters: [] };
        this.filterable = true;
        this.pageSize = 20;
        this.pager = {
            pageSizes: [10, 20, 50, 100]
        };
        this.pdfHeader = '';
        this.skip = 0;
        this.sortable = { mode: 'multiple' };
        this.sort = [];
        this.total = 0;
        this.changes = new EventEmitter();
        this.columns = [];
        this.filtering = true;
    }
    Object.defineProperty(GridComponent.prototype, "color", {
        /** The color of the toolbar. Can be primary, accent, or warn. */
        get: /**
         * The color of the toolbar. Can be primary, accent, or warn.
         * @return {?}
         */
        function () {
            return this._color;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._updateColor(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} newColor
     * @return {?}
     */
    GridComponent.prototype._updateColor = /**
     * @param {?} newColor
     * @return {?}
     */
    function (newColor) {
        this._setElementColor(this._color, false);
        this._setElementColor(newColor, true);
        this._color = newColor;
    };
    /**
     * @param {?} color
     * @param {?} isAdd
     * @return {?}
     */
    GridComponent.prototype._setElementColor = /**
     * @param {?} color
     * @param {?} isAdd
     * @return {?}
     */
    function (color, isAdd) {
        if (color != null && color !== '') {
            var /** @type {?} */ element = this._elementRef.nativeElement;
            if (isAdd) {
                this._renderer.addClass(element, "mat-" + color);
            }
            else {
                this._renderer.removeClass(element, "mat-" + color);
            }
        }
    };
    Object.defineProperty(GridComponent.prototype, "activeRows", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pageRows(this.filterRows(this.sortRows(this.rows)));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "computedRowHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.rowHeightMax || 32;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "dynamicHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.autoCalculateHeight ? (this.activeRows.length === 0 || !this.numericHeight) ?
                null : Math.max(96 + this.headerHeight + this.pagerHeight + this.toolbarHeight, Math.min(this.computedRowHeight * this.activeRows.length + this.headerHeight + this.pagerHeight + this.toolbarHeight, this.numericHeight))
                : this.numericHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "excelFileName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.fileName + ".xlsx";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "filters", {
        get: /**
         * @return {?}
         */
        function () {
            return this.filter.filters;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "gridData", {
        get: /**
         * @return {?}
         */
        function () {
            return {
                data: this.activeRows,
                total: this.total ? this.total : this.rows.length
            };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "headerHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.filterable ? 66 : 27;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "numericHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return typeof (this.height) === 'string' ? str2int(this.height) : this.height;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "pagerHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pageable ? 46 : 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "pagerSettings", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pager;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "pdfFileName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.fileName + ".pdf";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "rows", {
        get: /**
         * @return {?}
         */
        function () {
            return this.model.data ? this.model.data.toArray() : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "showFilters", {
        get: /**
         * @return {?}
         */
        function () {
            return this.filterable && this.filtering;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "take", {
        get: /**
         * @return {?}
         */
        function () {
            return this.pageSize || 20;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GridComponent.prototype, "toolbarHeight", {
        get: /**
         * @return {?}
         */
        function () {
            return this.export ? 53 : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    GridComponent.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        this.model.update(this);
    };
    /**
     * @return {?}
     */
    GridComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.pageable = {
            buttonCount: this.buttonCount,
            info: this.pagerInfo,
            type: this.pagerType,
            pageSizes: this.pageSizes,
            previousNext: this.previousNext
        };
    };
    /**
     * @return {?}
     */
    GridComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.contentChildren.forEach(function (x) {
            _this.columns.push(x);
        });
    };
    /**
     * @param {?} state
     * @return {?}
     */
    GridComponent.prototype.dataStateChange = /**
     * @param {?} state
     * @return {?}
     */
    function (state) {
        this.filterChange(state['filter']);
        this.pageChange({ skip: state['skip'], take: state['take'] });
        this.sortChange(state['sort']);
        this.changes.emit(state);
    };
    /**
     * @param {?} component
     * @return {?}
     */
    GridComponent.prototype.save = /**
     * @param {?} component
     * @return {?}
     */
    function (component) {
        var /** @type {?} */ options = component.workbookOptions();
        var /** @type {?} */ rows = options.sheets[0].rows;
        var /** @type {?} */ altIdx = 0;
        rows.forEach(function (row) {
            if (row.type === 'data') {
                if (altIdx % 2 !== 0) {
                    row.cells.forEach(function (cell) {
                        cell.background = '#aabbcc';
                    });
                }
                altIdx++;
            }
        });
        component.save(options);
    };
    /**
     * @param {?} e
     * @return {?}
     */
    GridComponent.prototype.filterChange = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.filter = e;
    };
    /**
     * @param {?} e
     * @return {?}
     */
    GridComponent.prototype.pageChange = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        this.skip = e.skip;
        this.pageSize = str2int(e.take.toString());
    };
    /**
     * @param {?} sort
     * @return {?}
     */
    GridComponent.prototype.sortChange = /**
     * @param {?} sort
     * @return {?}
     */
    function (sort) {
        this.sort = sort;
    };
    /**
     * @param {?} rows
     * @return {?}
     */
    GridComponent.prototype.filterRows = /**
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        return Grid.FilterRows(rows, this.filters);
    };
    /**
     * @param {?} rows
     * @return {?}
     */
    GridComponent.prototype.pageRows = /**
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        return this.pager ? Grid.PageRows(rows, this.skip, this.take) : rows;
    };
    /**
     * @param {?} rows
     * @return {?}
     */
    GridComponent.prototype.sortRows = /**
     * @param {?} rows
     * @return {?}
     */
    function (rows) {
        return Grid.SortRows(rows, this.sort);
    };
    GridComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-grid',
                    template: "<mat-card class=\"grid mat-primary\" [class.mat-card]=\"!export\">\n  <kendo-grid [data]=\"gridData\" [filter]=\"filter\" [filterable]=\"showFilters\" [groupable]=\"groupable\" [height]=\"dynamicHeight\"\n    [pageSize]=\"pageSize\" [pageable]=\"pagerSettings\" [rowHeight]=\"rowHeight\" [scrollable]=\"scrollable\" [selectable]=\"selectable\"\n    [skip]=\"skip\" [sortable]=\"sortable\" [group]=\"group\" [sort]=\"sort\" (dataStateChange)=\"dataStateChange($event)\" #kendoGridInstance=\"kendoGrid\">\n\n    <!-- Toolbar Template -->\n    <ng-template kendoGridToolbarTemplate *ngIf=\"export\">\n      <button mat-raised-button class=\"toolbar-button pdf-button\" kendoGridPDFCommand>\n        <mat-icon>picture_as_pdf</mat-icon>Export to PDF</button>\n      <button mat-raised-button class=\"toolbar-button excel-button\" (click)=\"save(excelexport)\">\n        <mat-icon>import_export</mat-icon>Export To Excel</button>\n    </ng-template>\n\n    <!-- Grid Columns -->\n    <kendo-grid-column *ngFor=\"let col of columns\" [class]=\"col.class\" [editable]=\"col.editable\" [editor]=\"col.editor\" [field]=\"col.colField\"\n      [filter]=\"col.filter\" [filterable]=\"col.filterable\" [footerClass]=\"col.footerClass\" [footerStyle]=\"col.footerStyle\" [format]=\"col.format\"\n      [headerClass]=\"col.headerClass\" [headerStyle]=\"col.headerStyle\" [hidden]=\"col.hidden\" [locked]=\"col.locked\" [media]=\"col.media\"\n      [sortable]=\"col.sortable\" [style]=\"col.style\" [title]=\"col.colTitle\" [width]=\"col.width\">\n      <ng-template *ngIf=\"col.templateRef\" kendoGridCellTemplate let-dataItem>\n        <iu-grid-cell [templateRef]=\"col.templateRef\" [dataItem]=\"dataItem\"></iu-grid-cell>\n      </ng-template>\n    </kendo-grid-column>\n\n    <!-- Export to PDF -->\n    <kendo-grid-pdf *ngIf=\"export\" [fileName]=\"pdfFileName\" [allPages]=\"true\" paperSize=\"A4\" [repeatHeaders]=\"true\" [landscape]=\"true\">\n      <kendo-grid-pdf-margin top=\"2cm\" left=\"1cm\" right=\"1cm\" bottom=\"2cm\"></kendo-grid-pdf-margin>\n      <ng-template kendoGridPDFTemplate let-pageNum=\"pageNum\" let-totalPages=\"totalPages\">\n        <div class=\"page-template\">\n          <div class=\"header\">\n            <div style=\"float: right\">Page {{ pageNum }} of {{ totalPages }}</div>\n            {{ pdfHeader }}\n          </div>\n          <div class=\"footer\">\n            Page {{ pageNum }} of {{ totalPages }}\n          </div>\n        </div>\n      </ng-template>\n    </kendo-grid-pdf>\n\n    <!-- Export to Excel -->\n    <kendo-excelexport [data]=\"activeRows\" [fileName]=\"excelFileName\" [filterable]=\"true\" #excelexport>\n      <kendo-excelexport-column *ngFor=\"let col of columns\" [field]=\"col.colField\" [title]=\"col.colTitle\">\n      </kendo-excelexport-column>\n    </kendo-excelexport>\n\n  </kendo-grid>\n</mat-card>\n",
                    styles: [".mat-card.grid{padding:0}.grid .k-grid-header{padding-right:13px}.grid th.k-grid-header:first-child{padding-left:6px}.grid .mat-raised-button{color:#fff}.k-grid-header .k-header>.k-link{font-size:16px;padding:2px 12px}.k-grid td{border:none;padding:6px 12px}.k-widget{border:none}.k-filter-row>th{padding:4px;max-width:190px;border-width:0 0 1px 1px;border-style:solid}.k-input.k-textbox,.k-textbox{height:calc(1em + (4px * 2) + (1px * 2))!important;min-width:80px}.k-filtercell .k-filtercell-wrapper,.k-filtercell>span{padding-right:calc(1.5em + 8px + 2px + 4px)}.k-filtercell .k-dropdown-operator{display:none}.k-picker-wrap.k-state-default{border-bottom-width:1px}.page-template{font-family:\"DejaVu Sans\",Arial,sans-serif;position:absolute;width:100%;height:100%;top:0;left:0}.page-template .header{position:absolute;top:30px;left:30px;right:30px;border-bottom:1px solid #888;color:#888}.page-template .footer{position:absolute;bottom:30px;left:30px;right:30px;border-top:1px solid #888;text-align:center;color:#888}.toolbar-button{color:#fff;background-image:none;vertical-align:middle}"],
                    encapsulation: ViewEncapsulation.None
                },] },
    ];
    /** @nocollapse */
    GridComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 }
    ]; };
    GridComponent.propDecorators = {
        model: [{ type: Input }],
        advancedFilter: [{ type: Input }],
        autoCalculateHeight: [{ type: Input }],
        buttonColor: [{ type: Input }],
        buttonCount: [{ type: Input }],
        buttonClass: [{ type: Input }],
        pagerInfo: [{ type: Input }],
        pagerType: [{ type: Input }],
        pageSizes: [{ type: Input }],
        previousNext: [{ type: Input }],
        detailRowHeight: [{ type: Input }],
        export: [{ type: Input }],
        fileName: [{ type: Input }],
        filter: [{ type: Input }],
        filterable: [{ type: Input }],
        groupable: [{ type: Input }],
        height: [{ type: Input }],
        pageSize: [{ type: Input }],
        pageable: [{ type: Input }],
        pager: [{ type: Input }],
        pdfHeader: [{ type: Input }],
        rowHeight: [{ type: Input }],
        rowHeightMax: [{ type: Input }],
        scrollable: [{ type: Input }],
        selectable: [{ type: Input }],
        skip: [{ type: Input }],
        sortable: [{ type: Input }],
        group: [{ type: Input }],
        rowClass: [{ type: Input }],
        sort: [{ type: Input }],
        total: [{ type: Input }],
        changes: [{ type: Output }],
        grid: [{ type: ViewChild, args: ['kendoGridInstance',] }],
        contentChildren: [{ type: ContentChildren, args: [GridColumnComponent,] }],
        color: [{ type: Input }]
    };
    return GridComponent;
}());
export { GridComponent };
function GridComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    GridComponent.prototype.model;
    /** @type {?} */
    GridComponent.prototype.advancedFilter;
    /** @type {?} */
    GridComponent.prototype.autoCalculateHeight;
    /** @type {?} */
    GridComponent.prototype.buttonColor;
    /** @type {?} */
    GridComponent.prototype.buttonCount;
    /** @type {?} */
    GridComponent.prototype.buttonClass;
    /** @type {?} */
    GridComponent.prototype.pagerInfo;
    /** @type {?} */
    GridComponent.prototype.pagerType;
    /** @type {?} */
    GridComponent.prototype.pageSizes;
    /** @type {?} */
    GridComponent.prototype.previousNext;
    /** @type {?} */
    GridComponent.prototype.detailRowHeight;
    /** @type {?} */
    GridComponent.prototype.export;
    /** @type {?} */
    GridComponent.prototype.fileName;
    /** @type {?} */
    GridComponent.prototype.filter;
    /** @type {?} */
    GridComponent.prototype.filterable;
    /** @type {?} */
    GridComponent.prototype.groupable;
    /** @type {?} */
    GridComponent.prototype.height;
    /** @type {?} */
    GridComponent.prototype.pageSize;
    /** @type {?} */
    GridComponent.prototype.pageable;
    /** @type {?} */
    GridComponent.prototype.pager;
    /** @type {?} */
    GridComponent.prototype.pdfHeader;
    /** @type {?} */
    GridComponent.prototype.rowHeight;
    /** @type {?} */
    GridComponent.prototype.rowHeightMax;
    /** @type {?} */
    GridComponent.prototype.scrollable;
    /** @type {?} */
    GridComponent.prototype.selectable;
    /** @type {?} */
    GridComponent.prototype.skip;
    /** @type {?} */
    GridComponent.prototype.sortable;
    /** @type {?} */
    GridComponent.prototype.group;
    /** @type {?} */
    GridComponent.prototype.rowClass;
    /** @type {?} */
    GridComponent.prototype.sort;
    /** @type {?} */
    GridComponent.prototype.total;
    /** @type {?} */
    GridComponent.prototype.changes;
    /** @type {?} */
    GridComponent.prototype.grid;
    /** @type {?} */
    GridComponent.prototype.contentChildren;
    /** @type {?} */
    GridComponent.prototype.columns;
    /** @type {?} */
    GridComponent.prototype._color;
    /** @type {?} */
    GridComponent.prototype.filtering;
    /** @type {?} */
    GridComponent.prototype._elementRef;
    /** @type {?} */
    GridComponent.prototype._renderer;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AY2FpdS9saWJyYXJ5LyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvZ3JpZC9ncmlkLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUVMLFNBQVMsRUFDVCxlQUFlLEVBQ2YsVUFBVSxFQUNWLEtBQUssRUFHTCxTQUFTLEVBQ1QsU0FBUyxFQUNULFNBQVMsRUFDVCxpQkFBaUIsRUFDakIsTUFBTSxFQUNOLFlBQVksRUFDYixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBVTFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQzs7SUFpRzNDLHVCQUFvQixXQUF1QixFQUFVLFNBQW9CO1FBQXJELGdCQUFXLEdBQVgsV0FBVyxDQUFZO1FBQVUsY0FBUyxHQUFULFNBQVMsQ0FBVzs4QkF2Qy9DLEtBQUs7bUNBQ0EsSUFBSTsyQkFDWixNQUFNOzJCQUNOLENBQUM7MkJBQ0QsZ0JBQWdCO3lCQUNsQixJQUFJO3lCQUNpQixTQUFTO3lCQUM5QixJQUFJOzRCQUNELElBQUk7c0JBRVYsS0FBSzt3QkFDSCxRQUFRO3NCQUNpQixFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTswQkFDcEQsSUFBSTt3QkFHTixFQUFFO3FCQUVBO1lBQ3BCLFNBQVMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQztTQUM3Qjt5QkFDb0IsRUFBRTtvQkFLUCxDQUFDO3dCQUNpQixFQUFFLElBQUksRUFBRSxVQUFVLEVBQUU7b0JBR3BCLEVBQUU7cUJBQ25CLENBQUM7dUJBQ0UsSUFBSSxZQUFZLEVBQXdCO3VCQUczQixFQUFFO3lCQUVmLElBQUk7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Q29udGVudCI6WyJpbXBvcnQge1xyXG4gIEFmdGVyQ29udGVudEluaXQsXHJcbiAgQ29tcG9uZW50LFxyXG4gIENvbnRlbnRDaGlsZHJlbixcclxuICBFbGVtZW50UmVmLFxyXG4gIElucHV0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBPbkluaXQsXHJcbiAgUXVlcnlMaXN0LFxyXG4gIFJlbmRlcmVyMixcclxuICBWaWV3Q2hpbGQsXHJcbiAgVmlld0VuY2Fwc3VsYXRpb24sXHJcbiAgT3V0cHV0LFxyXG4gIEV2ZW50RW1pdHRlclxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgR3JpZCB9IGZyb20gJy4vZ3JpZC5tb2RlbCc7XHJcbmltcG9ydCB7IEdyaWRDb2x1bW5Db21wb25lbnQgfSBmcm9tICcuL2dyaWQtY29sdW1uL2dyaWQtY29sdW1uLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7XHJcbiAgQ29tcG9zaXRlRmlsdGVyRGVzY3JpcHRvcixcclxuICBHcm91cGFibGVTZXR0aW5ncyxcclxuICBTb3J0RGVzY3JpcHRvcixcclxuICBTb3J0U2V0dGluZ3MsXHJcbiAgR3JpZERhdGFSZXN1bHQsXHJcbiAgRGF0YVN0YXRlQ2hhbmdlRXZlbnQsXHJcbiAgUGFnZUNoYW5nZUV2ZW50XHJcbn0gZnJvbSAnLi4vLi4vc2hhcmVkL2tlbmRvJztcclxuaW1wb3J0IHsgc3RyMmludCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2l1LWdyaWQnLFxyXG4gIHRlbXBsYXRlOiBgPG1hdC1jYXJkIGNsYXNzPVwiZ3JpZCBtYXQtcHJpbWFyeVwiIFtjbGFzcy5tYXQtY2FyZF09XCIhZXhwb3J0XCI+XHJcbiAgPGtlbmRvLWdyaWQgW2RhdGFdPVwiZ3JpZERhdGFcIiBbZmlsdGVyXT1cImZpbHRlclwiIFtmaWx0ZXJhYmxlXT1cInNob3dGaWx0ZXJzXCIgW2dyb3VwYWJsZV09XCJncm91cGFibGVcIiBbaGVpZ2h0XT1cImR5bmFtaWNIZWlnaHRcIlxyXG4gICAgW3BhZ2VTaXplXT1cInBhZ2VTaXplXCIgW3BhZ2VhYmxlXT1cInBhZ2VyU2V0dGluZ3NcIiBbcm93SGVpZ2h0XT1cInJvd0hlaWdodFwiIFtzY3JvbGxhYmxlXT1cInNjcm9sbGFibGVcIiBbc2VsZWN0YWJsZV09XCJzZWxlY3RhYmxlXCJcclxuICAgIFtza2lwXT1cInNraXBcIiBbc29ydGFibGVdPVwic29ydGFibGVcIiBbZ3JvdXBdPVwiZ3JvdXBcIiBbc29ydF09XCJzb3J0XCIgKGRhdGFTdGF0ZUNoYW5nZSk9XCJkYXRhU3RhdGVDaGFuZ2UoJGV2ZW50KVwiICNrZW5kb0dyaWRJbnN0YW5jZT1cImtlbmRvR3JpZFwiPlxyXG5cclxuICAgIDwhLS0gVG9vbGJhciBUZW1wbGF0ZSAtLT5cclxuICAgIDxuZy10ZW1wbGF0ZSBrZW5kb0dyaWRUb29sYmFyVGVtcGxhdGUgKm5nSWY9XCJleHBvcnRcIj5cclxuICAgICAgPGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjbGFzcz1cInRvb2xiYXItYnV0dG9uIHBkZi1idXR0b25cIiBrZW5kb0dyaWRQREZDb21tYW5kPlxyXG4gICAgICAgIDxtYXQtaWNvbj5waWN0dXJlX2FzX3BkZjwvbWF0LWljb24+RXhwb3J0IHRvIFBERjwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uIG1hdC1yYWlzZWQtYnV0dG9uIGNsYXNzPVwidG9vbGJhci1idXR0b24gZXhjZWwtYnV0dG9uXCIgKGNsaWNrKT1cInNhdmUoZXhjZWxleHBvcnQpXCI+XHJcbiAgICAgICAgPG1hdC1pY29uPmltcG9ydF9leHBvcnQ8L21hdC1pY29uPkV4cG9ydCBUbyBFeGNlbDwvYnV0dG9uPlxyXG4gICAgPC9uZy10ZW1wbGF0ZT5cclxuXHJcbiAgICA8IS0tIEdyaWQgQ29sdW1ucyAtLT5cclxuICAgIDxrZW5kby1ncmlkLWNvbHVtbiAqbmdGb3I9XCJsZXQgY29sIG9mIGNvbHVtbnNcIiBbY2xhc3NdPVwiY29sLmNsYXNzXCIgW2VkaXRhYmxlXT1cImNvbC5lZGl0YWJsZVwiIFtlZGl0b3JdPVwiY29sLmVkaXRvclwiIFtmaWVsZF09XCJjb2wuY29sRmllbGRcIlxyXG4gICAgICBbZmlsdGVyXT1cImNvbC5maWx0ZXJcIiBbZmlsdGVyYWJsZV09XCJjb2wuZmlsdGVyYWJsZVwiIFtmb290ZXJDbGFzc109XCJjb2wuZm9vdGVyQ2xhc3NcIiBbZm9vdGVyU3R5bGVdPVwiY29sLmZvb3RlclN0eWxlXCIgW2Zvcm1hdF09XCJjb2wuZm9ybWF0XCJcclxuICAgICAgW2hlYWRlckNsYXNzXT1cImNvbC5oZWFkZXJDbGFzc1wiIFtoZWFkZXJTdHlsZV09XCJjb2wuaGVhZGVyU3R5bGVcIiBbaGlkZGVuXT1cImNvbC5oaWRkZW5cIiBbbG9ja2VkXT1cImNvbC5sb2NrZWRcIiBbbWVkaWFdPVwiY29sLm1lZGlhXCJcclxuICAgICAgW3NvcnRhYmxlXT1cImNvbC5zb3J0YWJsZVwiIFtzdHlsZV09XCJjb2wuc3R5bGVcIiBbdGl0bGVdPVwiY29sLmNvbFRpdGxlXCIgW3dpZHRoXT1cImNvbC53aWR0aFwiPlxyXG4gICAgICA8bmctdGVtcGxhdGUgKm5nSWY9XCJjb2wudGVtcGxhdGVSZWZcIiBrZW5kb0dyaWRDZWxsVGVtcGxhdGUgbGV0LWRhdGFJdGVtPlxyXG4gICAgICAgIDxpdS1ncmlkLWNlbGwgW3RlbXBsYXRlUmVmXT1cImNvbC50ZW1wbGF0ZVJlZlwiIFtkYXRhSXRlbV09XCJkYXRhSXRlbVwiPjwvaXUtZ3JpZC1jZWxsPlxyXG4gICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgPC9rZW5kby1ncmlkLWNvbHVtbj5cclxuXHJcbiAgICA8IS0tIEV4cG9ydCB0byBQREYgLS0+XHJcbiAgICA8a2VuZG8tZ3JpZC1wZGYgKm5nSWY9XCJleHBvcnRcIiBbZmlsZU5hbWVdPVwicGRmRmlsZU5hbWVcIiBbYWxsUGFnZXNdPVwidHJ1ZVwiIHBhcGVyU2l6ZT1cIkE0XCIgW3JlcGVhdEhlYWRlcnNdPVwidHJ1ZVwiIFtsYW5kc2NhcGVdPVwidHJ1ZVwiPlxyXG4gICAgICA8a2VuZG8tZ3JpZC1wZGYtbWFyZ2luIHRvcD1cIjJjbVwiIGxlZnQ9XCIxY21cIiByaWdodD1cIjFjbVwiIGJvdHRvbT1cIjJjbVwiPjwva2VuZG8tZ3JpZC1wZGYtbWFyZ2luPlxyXG4gICAgICA8bmctdGVtcGxhdGUga2VuZG9HcmlkUERGVGVtcGxhdGUgbGV0LXBhZ2VOdW09XCJwYWdlTnVtXCIgbGV0LXRvdGFsUGFnZXM9XCJ0b3RhbFBhZ2VzXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2UtdGVtcGxhdGVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsb2F0OiByaWdodFwiPlBhZ2Uge3sgcGFnZU51bSB9fSBvZiB7eyB0b3RhbFBhZ2VzIH19PC9kaXY+XHJcbiAgICAgICAgICAgIHt7IHBkZkhlYWRlciB9fVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XHJcbiAgICAgICAgICAgIFBhZ2Uge3sgcGFnZU51bSB9fSBvZiB7eyB0b3RhbFBhZ2VzIH19XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIDwva2VuZG8tZ3JpZC1wZGY+XHJcblxyXG4gICAgPCEtLSBFeHBvcnQgdG8gRXhjZWwgLS0+XHJcbiAgICA8a2VuZG8tZXhjZWxleHBvcnQgW2RhdGFdPVwiYWN0aXZlUm93c1wiIFtmaWxlTmFtZV09XCJleGNlbEZpbGVOYW1lXCIgW2ZpbHRlcmFibGVdPVwidHJ1ZVwiICNleGNlbGV4cG9ydD5cclxuICAgICAgPGtlbmRvLWV4Y2VsZXhwb3J0LWNvbHVtbiAqbmdGb3I9XCJsZXQgY29sIG9mIGNvbHVtbnNcIiBbZmllbGRdPVwiY29sLmNvbEZpZWxkXCIgW3RpdGxlXT1cImNvbC5jb2xUaXRsZVwiPlxyXG4gICAgICA8L2tlbmRvLWV4Y2VsZXhwb3J0LWNvbHVtbj5cclxuICAgIDwva2VuZG8tZXhjZWxleHBvcnQ+XHJcblxyXG4gIDwva2VuZG8tZ3JpZD5cclxuPC9tYXQtY2FyZD5cclxuYCxcclxuICBzdHlsZXM6IFtgLm1hdC1jYXJkLmdyaWR7cGFkZGluZzowfS5ncmlkIC5rLWdyaWQtaGVhZGVye3BhZGRpbmctcmlnaHQ6MTNweH0uZ3JpZCB0aC5rLWdyaWQtaGVhZGVyOmZpcnN0LWNoaWxke3BhZGRpbmctbGVmdDo2cHh9LmdyaWQgLm1hdC1yYWlzZWQtYnV0dG9ue2NvbG9yOiNmZmZ9LmstZ3JpZC1oZWFkZXIgLmstaGVhZGVyPi5rLWxpbmt7Zm9udC1zaXplOjE2cHg7cGFkZGluZzoycHggMTJweH0uay1ncmlkIHRke2JvcmRlcjpub25lO3BhZGRpbmc6NnB4IDEycHh9Lmstd2lkZ2V0e2JvcmRlcjpub25lfS5rLWZpbHRlci1yb3c+dGh7cGFkZGluZzo0cHg7bWF4LXdpZHRoOjE5MHB4O2JvcmRlci13aWR0aDowIDAgMXB4IDFweDtib3JkZXItc3R5bGU6c29saWR9LmstaW5wdXQuay10ZXh0Ym94LC5rLXRleHRib3h7aGVpZ2h0OmNhbGMoMWVtICsgKDRweCAqIDIpICsgKDFweCAqIDIpKSFpbXBvcnRhbnQ7bWluLXdpZHRoOjgwcHh9LmstZmlsdGVyY2VsbCAuay1maWx0ZXJjZWxsLXdyYXBwZXIsLmstZmlsdGVyY2VsbD5zcGFue3BhZGRpbmctcmlnaHQ6Y2FsYygxLjVlbSArIDhweCArIDJweCArIDRweCl9LmstZmlsdGVyY2VsbCAuay1kcm9wZG93bi1vcGVyYXRvcntkaXNwbGF5Om5vbmV9LmstcGlja2VyLXdyYXAuay1zdGF0ZS1kZWZhdWx0e2JvcmRlci1ib3R0b20td2lkdGg6MXB4fS5wYWdlLXRlbXBsYXRle2ZvbnQtZmFtaWx5OlwiRGVqYVZ1IFNhbnNcIixBcmlhbCxzYW5zLXNlcmlmO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dG9wOjA7bGVmdDowfS5wYWdlLXRlbXBsYXRlIC5oZWFkZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjMwcHg7bGVmdDozMHB4O3JpZ2h0OjMwcHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzg4ODtjb2xvcjojODg4fS5wYWdlLXRlbXBsYXRlIC5mb290ZXJ7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjMwcHg7bGVmdDozMHB4O3JpZ2h0OjMwcHg7Ym9yZGVyLXRvcDoxcHggc29saWQgIzg4ODt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojODg4fS50b29sYmFyLWJ1dHRvbntjb2xvcjojZmZmO2JhY2tncm91bmQtaW1hZ2U6bm9uZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9YF0sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3JpZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0IHtcclxuXHJcbiAgQElucHV0KCkgbW9kZWw6IEdyaWQ8YW55PjtcclxuICBASW5wdXQoKSBhZHZhbmNlZEZpbHRlciA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGF1dG9DYWxjdWxhdGVIZWlnaHQgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGJ1dHRvbkNvbG9yID0gJyNmZmYnO1xyXG4gIEBJbnB1dCgpIGJ1dHRvbkNvdW50ID0gNTtcclxuICBASW5wdXQoKSBidXR0b25DbGFzcyA9ICd0b29sYmFyLWJ1dHRvbic7XHJcbiAgQElucHV0KCkgcGFnZXJJbmZvID0gdHJ1ZTtcclxuICBASW5wdXQoKSBwYWdlclR5cGU6ICdudW1lcmljJyB8ICdpbnB1dCcgPSAnbnVtZXJpYyc7XHJcbiAgQElucHV0KCkgcGFnZVNpemVzID0gdHJ1ZTtcclxuICBASW5wdXQoKSBwcmV2aW91c05leHQgPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGRldGFpbFJvd0hlaWdodDogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIGV4cG9ydCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGZpbGVOYW1lID0gJ2V4cG9ydCc7XHJcbiAgQElucHV0KCkgZmlsdGVyOiBDb21wb3NpdGVGaWx0ZXJEZXNjcmlwdG9yID0geyBsb2dpYzogJ2FuZCcsIGZpbHRlcnM6IFtdIH07XHJcbiAgQElucHV0KCkgZmlsdGVyYWJsZSA9IHRydWU7XHJcbiAgQElucHV0KCkgZ3JvdXBhYmxlOiBHcm91cGFibGVTZXR0aW5ncyB8IGJvb2xlYW47XHJcbiAgQElucHV0KCkgaGVpZ2h0OiBudW1iZXI7XHJcbiAgQElucHV0KCkgcGFnZVNpemUgPSAyMDtcclxuICBASW5wdXQoKSBwYWdlYWJsZTogYW55IHwgYm9vbGVhbjtcclxuICBASW5wdXQoKSBwYWdlcjogYW55ID0ge1xyXG4gICAgcGFnZVNpemVzOiBbMTAsIDIwLCA1MCwgMTAwXVxyXG4gIH07XHJcbiAgQElucHV0KCkgcGRmSGVhZGVyID0gJyc7XHJcbiAgQElucHV0KCkgcm93SGVpZ2h0OiBudW1iZXI7XHJcbiAgQElucHV0KCkgcm93SGVpZ2h0TWF4OiBudW1iZXI7XHJcbiAgQElucHV0KCkgc2Nyb2xsYWJsZTogYW55O1xyXG4gIEBJbnB1dCgpIHNlbGVjdGFibGU6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgc2tpcCA9IDA7XHJcbiAgQElucHV0KCkgc29ydGFibGU6IFNvcnRTZXR0aW5ncyA9IHsgbW9kZTogJ211bHRpcGxlJyB9O1xyXG4gIEBJbnB1dCgpIGdyb3VwOiBhbnlbXTtcclxuICBASW5wdXQoKSByb3dDbGFzczogRnVuY3Rpb247XHJcbiAgQElucHV0KCkgc29ydDogU29ydERlc2NyaXB0b3JbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIHRvdGFsID0gMDsgLy8gbmVlZCB0aGlzIGZvciBpbmZpbml0ZSBzY3JvbGwgd2hlbiBub3QgYWxsIHJvd3MgYXJlIGxvYWRlZFxyXG4gIEBPdXRwdXQoKSBjaGFuZ2VzID0gbmV3IEV2ZW50RW1pdHRlcjxEYXRhU3RhdGVDaGFuZ2VFdmVudD4oKTtcclxuICBAVmlld0NoaWxkKCdrZW5kb0dyaWRJbnN0YW5jZScpIGdyaWQ6IEVsZW1lbnRSZWY7XHJcbiAgQENvbnRlbnRDaGlsZHJlbihHcmlkQ29sdW1uQ29tcG9uZW50KSBjb250ZW50Q2hpbGRyZW46IFF1ZXJ5TGlzdDxHcmlkQ29sdW1uQ29tcG9uZW50PjtcclxuICBjb2x1bW5zOiBHcmlkQ29sdW1uQ29tcG9uZW50W10gPSBbXTtcclxuICBwcml2YXRlIF9jb2xvcjogc3RyaW5nO1xyXG4gIHByaXZhdGUgZmlsdGVyaW5nID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSBfcmVuZGVyZXI6IFJlbmRlcmVyMikge1xyXG4gIH1cclxuXHJcbiAgLyoqIFRoZSBjb2xvciBvZiB0aGUgdG9vbGJhci4gQ2FuIGJlIHByaW1hcnksIGFjY2VudCwgb3Igd2Fybi4gKi9cclxuICBASW5wdXQoKVxyXG4gIGdldCBjb2xvcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xyXG4gIH1cclxuXHJcbiAgc2V0IGNvbG9yKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX3VwZGF0ZUNvbG9yKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3VwZGF0ZUNvbG9yKG5ld0NvbG9yOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX3NldEVsZW1lbnRDb2xvcih0aGlzLl9jb2xvciwgZmFsc2UpO1xyXG4gICAgdGhpcy5fc2V0RWxlbWVudENvbG9yKG5ld0NvbG9yLCB0cnVlKTtcclxuICAgIHRoaXMuX2NvbG9yID0gbmV3Q29sb3I7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZXRFbGVtZW50Q29sb3IoY29sb3I6IHN0cmluZywgaXNBZGQ6IGJvb2xlYW4pIHtcclxuICAgIGlmIChjb2xvciAhPSBudWxsICYmIGNvbG9yICE9PSAnJykge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xyXG5cclxuICAgICAgaWYgKGlzQWRkKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3MoZWxlbWVudCwgYG1hdC0ke2NvbG9yfWApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGBtYXQtJHtjb2xvcn1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGFjdGl2ZVJvd3MoKTogYW55W10ge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZVJvd3ModGhpcy5maWx0ZXJSb3dzKHRoaXMuc29ydFJvd3ModGhpcy5yb3dzKSkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbXB1dGVkUm93SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5yb3dIZWlnaHRNYXggfHwgMzI7XHJcbiAgfVxyXG5cclxuICBnZXQgZHluYW1pY0hlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuYXV0b0NhbGN1bGF0ZUhlaWdodCA/ICh0aGlzLmFjdGl2ZVJvd3MubGVuZ3RoID09PSAwIHx8ICF0aGlzLm51bWVyaWNIZWlnaHQpID9cclxuICAgICAgbnVsbCA6IE1hdGgubWF4KDk2ICsgdGhpcy5oZWFkZXJIZWlnaHQgKyB0aGlzLnBhZ2VySGVpZ2h0ICsgdGhpcy50b29sYmFySGVpZ2h0LFxyXG4gICAgICAgIE1hdGgubWluKHRoaXMuY29tcHV0ZWRSb3dIZWlnaHQgKiB0aGlzLmFjdGl2ZVJvd3MubGVuZ3RoICsgdGhpcy5oZWFkZXJIZWlnaHQgKyB0aGlzLnBhZ2VySGVpZ2h0ICsgdGhpcy50b29sYmFySGVpZ2h0LCB0aGlzLm51bWVyaWNIZWlnaHQpKVxyXG4gICAgICA6IHRoaXMubnVtZXJpY0hlaWdodDtcclxuICB9XHJcblxyXG4gIGdldCBleGNlbEZpbGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5maWxlTmFtZX0ueGxzeGA7XHJcbiAgfVxyXG5cclxuICBnZXQgZmlsdGVycygpOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXIuZmlsdGVycztcclxuICB9XHJcblxyXG4gIGdldCBncmlkRGF0YSgpOiBHcmlkRGF0YVJlc3VsdCB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiB0aGlzLmFjdGl2ZVJvd3MsXHJcbiAgICAgIHRvdGFsOiB0aGlzLnRvdGFsID8gdGhpcy50b3RhbCA6IHRoaXMucm93cy5sZW5ndGhcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBnZXQgaGVhZGVySGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJhYmxlID8gNjYgOiAyNztcclxuICB9XHJcblxyXG4gIGdldCBudW1lcmljSGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdHlwZW9mICh0aGlzLmhlaWdodCkgPT09ICdzdHJpbmcnID8gc3RyMmludCh0aGlzLmhlaWdodCkgOiB0aGlzLmhlaWdodDtcclxuICB9XHJcblxyXG4gIGdldCBwYWdlckhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZWFibGUgPyA0NiA6IDA7XHJcbiAgfVxyXG5cclxuICBnZXQgcGFnZXJTZXR0aW5ncygpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZXI7XHJcbiAgfVxyXG5cclxuICBnZXQgcGRmRmlsZU5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHt0aGlzLmZpbGVOYW1lfS5wZGZgO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHJvd3MoKTogYW55W10ge1xyXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuZGF0YSA/IHRoaXMubW9kZWwuZGF0YS50b0FycmF5KCkgOiBbXTtcclxuICB9XHJcblxyXG4gIGdldCBzaG93RmlsdGVycygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmFibGUgJiYgdGhpcy5maWx0ZXJpbmc7XHJcbiAgfVxyXG5cclxuICBnZXQgdGFrZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZVNpemUgfHwgMjA7XHJcbiAgfVxyXG5cclxuICBnZXQgdG9vbGJhckhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZXhwb3J0ID8gNTMgOiAwO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoKSB7XHJcbiAgICB0aGlzLm1vZGVsLnVwZGF0ZSh0aGlzKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy5wYWdlYWJsZSA9IHtcclxuICAgICAgYnV0dG9uQ291bnQ6IHRoaXMuYnV0dG9uQ291bnQsXHJcbiAgICAgIGluZm86IHRoaXMucGFnZXJJbmZvLFxyXG4gICAgICB0eXBlOiB0aGlzLnBhZ2VyVHlwZSxcclxuICAgICAgcGFnZVNpemVzOiB0aGlzLnBhZ2VTaXplcyxcclxuICAgICAgcHJldmlvdXNOZXh0OiB0aGlzLnByZXZpb3VzTmV4dFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcclxuICAgIHRoaXMuY29udGVudENoaWxkcmVuLmZvckVhY2goeCA9PiB7XHJcbiAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkYXRhU3RhdGVDaGFuZ2Uoc3RhdGU6IERhdGFTdGF0ZUNoYW5nZUV2ZW50KTogdm9pZCB7XHJcbiAgICB0aGlzLmZpbHRlckNoYW5nZShzdGF0ZVsnZmlsdGVyJ10pO1xyXG4gICAgdGhpcy5wYWdlQ2hhbmdlKHsgc2tpcDogc3RhdGVbJ3NraXAnXSwgdGFrZTogc3RhdGVbJ3Rha2UnXSB9KTtcclxuICAgIHRoaXMuc29ydENoYW5nZShzdGF0ZVsnc29ydCddKTtcclxuICAgIHRoaXMuY2hhbmdlcy5lbWl0KHN0YXRlKTtcclxuICB9XHJcblxyXG4gIHNhdmUoY29tcG9uZW50KTogdm9pZCB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gY29tcG9uZW50Lndvcmtib29rT3B0aW9ucygpO1xyXG4gICAgY29uc3Qgcm93cyA9IG9wdGlvbnMuc2hlZXRzWzBdLnJvd3M7XHJcblxyXG4gICAgbGV0IGFsdElkeCA9IDA7XHJcbiAgICByb3dzLmZvckVhY2goKHJvdykgPT4ge1xyXG4gICAgICBpZiAocm93LnR5cGUgPT09ICdkYXRhJykge1xyXG4gICAgICAgIGlmIChhbHRJZHggJSAyICE9PSAwKSB7XHJcbiAgICAgICAgICByb3cuY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4gICAgICAgICAgICBjZWxsLmJhY2tncm91bmQgPSAnI2FhYmJjYyc7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWx0SWR4Kys7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbXBvbmVudC5zYXZlKG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGZpbHRlckNoYW5nZShlOiBDb21wb3NpdGVGaWx0ZXJEZXNjcmlwdG9yKSB7XHJcbiAgICB0aGlzLmZpbHRlciA9IGU7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgcGFnZUNoYW5nZShlOiBQYWdlQ2hhbmdlRXZlbnQpOiB2b2lkIHtcclxuICAgIHRoaXMuc2tpcCA9IGUuc2tpcDtcclxuICAgIHRoaXMucGFnZVNpemUgPSBzdHIyaW50KGUudGFrZS50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzb3J0Q2hhbmdlKHNvcnQ6IFNvcnREZXNjcmlwdG9yW10pOiB2b2lkIHtcclxuICAgIHRoaXMuc29ydCA9IHNvcnQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZpbHRlclJvd3Mocm93czogYW55W10pOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gR3JpZC5GaWx0ZXJSb3dzKHJvd3MsIHRoaXMuZmlsdGVycyk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgcGFnZVJvd3Mocm93czogYW55W10pOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYWdlciA/IEdyaWQuUGFnZVJvd3Mocm93cywgdGhpcy5za2lwLCB0aGlzLnRha2UpIDogcm93cztcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzb3J0Um93cyhyb3dzOiBhbnlbXSk6IGFueVtdIHtcclxuICAgIHJldHVybiBHcmlkLlNvcnRSb3dzKHJvd3MsIHRoaXMuc29ydCk7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=