/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { ChangeDetectionStrategy, Component, forwardRef, Input, ViewChild, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { DatepickerComponent } from '../datepicker.component';
import { DateRange } from '../../../shared/date';
import { build } from '../../../shared/utils';
export var /** @type {?} */ DATERANGE_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(function () { return DaterangeComponent; }),
    multi: true
};
var DaterangeComponent = /** @class */ (function () {
    function DaterangeComponent(changeDetectorRef) {
        this.changeDetectorRef = changeDetectorRef;
        this.inline = false;
        this.startLabel = 'Start Date';
        this.endLabel = 'End Date';
        this.startDateChanged = new EventEmitter();
        this.endDateChanged = new EventEmitter();
        this._value = new DateRange();
        this.focused = new DateRange();
    }
    Object.defineProperty(DaterangeComponent.prototype, "value", {
        get: /**
         * @return {?}
         */
        function () {
            return this._value;
        },
        set: /**
         * @param {?} val
         * @return {?}
         */
        function (val) {
            this._value = val;
            if (this && this.changeDetectorRef && !this.changeDetectorRef['destroyed']) {
                this.changeDetectorRef.detectChanges();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "startDateId", {
        get: /**
         * @return {?}
         */
        function () {
            return this.startDatepicker.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "startDateOpened", {
        get: /**
         * @return {?}
         */
        function () {
            return this.startDatepicker.opened;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "endDateId", {
        get: /**
         * @return {?}
         */
        function () {
            return this.endDatepicker.id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "endDateOpened", {
        get: /**
         * @return {?}
         */
        function () {
            return this.endDatepicker.opened;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "startDateValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this.value.startDate;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.changeStartDate(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DaterangeComponent.prototype, "endDateValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this.value.endDate;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.changeEndDate(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} date
     * @return {?}
     */
    DaterangeComponent.prototype.changeStartDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        this.onChange(build(DateRange, {
            endDate: this.value.endDate,
            startDate: date
        }));
        this.startDateChanged.emit(date);
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.closeStartDate = /**
     * @return {?}
     */
    function () {
        this.startDatepicker.close();
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.openStateDate = /**
     * @return {?}
     */
    function () {
        this.startDatepicker.open();
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DaterangeComponent.prototype.changeEndDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        this.onChange(build(DateRange, {
            endDate: date,
            startDate: this.value.startDate
        }));
        this.endDateChanged.emit(date);
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.closeEndDate = /**
     * @return {?}
     */
    function () {
        this.endDatepicker.close();
    };
    /**
     * @return {?}
     */
    DaterangeComponent.prototype.openEndDate = /**
     * @return {?}
     */
    function () {
        this.endDatepicker.open();
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    DaterangeComponent.prototype.registerOnChange = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onModelChange = fn;
    };
    /**
     * @param {?} fn
     * @return {?}
     */
    DaterangeComponent.prototype.registerOnTouched = /**
     * @param {?} fn
     * @return {?}
     */
    function (fn) {
        this.onTouch = fn;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.writeValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.onChange = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.value = value;
        if (this.onModelChange) {
            this.onModelChange(value);
        }
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.onBlur = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
    };
    /**
     * @param {?} value
     * @return {?}
     */
    DaterangeComponent.prototype.onFocus = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.focused = value;
        if (this.onTouch) {
            this.onTouch();
        }
    };
    DaterangeComponent.decorators = [
        { type: Component, args: [{
                    selector: 'iu-daterange',
                    template: "<div class=\"daterange\">\n  <div class=\"start-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\n    <label class=\"lbl-date iu-primary\">{{ startLabel }}:</label>\n    <iu-datepicker #startDate (selectedChanged)=\"changeStartDate($event)\" [value]=\"startDateValue\"></iu-datepicker>\n  </div>\n  <div class=\"end-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\n    <label class=\"lbl-date iu-primary\">{{ endLabel }}:</label>\n    <iu-datepicker #endDate (selectedChanged)=\"changeEndDate($event)\" [value]=\"endDateValue\"></iu-datepicker>\n  </div>\n</div>\n",
                    styles: [".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{width:76px;display:inline-block;font-size:14px;padding-top:22px}"],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    providers: [DATERANGE_ACCESSOR]
                },] },
    ];
    /** @nocollapse */
    DaterangeComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef }
    ]; };
    DaterangeComponent.propDecorators = {
        inline: [{ type: Input }],
        min: [{ type: Input }],
        max: [{ type: Input }],
        startAt: [{ type: Input }],
        startLabel: [{ type: Input }],
        endLabel: [{ type: Input }],
        startView: [{ type: Input }],
        touchUi: [{ type: Input }],
        startDateChanged: [{ type: Output }],
        endDateChanged: [{ type: Output }],
        startDatepicker: [{ type: ViewChild, args: ['startDate',] }],
        endDatepicker: [{ type: ViewChild, args: ['endDate',] }],
        value: [{ type: Input }]
    };
    return DaterangeComponent;
}());
export { DaterangeComponent };
function DaterangeComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    DaterangeComponent.prototype.inline;
    /** @type {?} */
    DaterangeComponent.prototype.min;
    /** @type {?} */
    DaterangeComponent.prototype.max;
    /** @type {?} */
    DaterangeComponent.prototype.startAt;
    /** @type {?} */
    DaterangeComponent.prototype.startLabel;
    /** @type {?} */
    DaterangeComponent.prototype.endLabel;
    /** @type {?} */
    DaterangeComponent.prototype.startView;
    /** @type {?} */
    DaterangeComponent.prototype.touchUi;
    /** @type {?} */
    DaterangeComponent.prototype.startDateChanged;
    /** @type {?} */
    DaterangeComponent.prototype.endDateChanged;
    /** @type {?} */
    DaterangeComponent.prototype.startDatepicker;
    /** @type {?} */
    DaterangeComponent.prototype.endDatepicker;
    /** @type {?} */
    DaterangeComponent.prototype.onModelChange;
    /** @type {?} */
    DaterangeComponent.prototype.onTouch;
    /** @type {?} */
    DaterangeComponent.prototype._value;
    /** @type {?} */
    DaterangeComponent.prototype.focused;
    /** @type {?} */
    DaterangeComponent.prototype.changeDetectorRef;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZXJhbmdlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjYWl1L2xpYnJhcnkvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9kYXRlcGlja2VyL2RhdGVyYW5nZS9kYXRlcmFuZ2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUksT0FBTyxFQUF3QixpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXpFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzlELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFOUMsTUFBTSxDQUFDLHFCQUFNLGtCQUFrQixHQUFRO0lBQ3JDLE9BQU8sRUFBRSxpQkFBaUI7SUFDMUIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxjQUFNLE9BQUEsa0JBQWtCLEVBQWxCLENBQWtCLENBQUM7SUFDakQsS0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDOztJQXNDQSw0QkFBb0IsaUJBQW9DO1FBQXBDLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7c0JBakJ0QyxLQUFLOzBCQUlELFlBQVk7d0JBQ2QsVUFBVTtnQ0FHRCxJQUFJLFlBQVksRUFBUTs4QkFDMUIsSUFBSSxZQUFZLEVBQVE7c0JBSy9CLElBQUksU0FBUyxFQUFFO3VCQUNkLElBQUksU0FBUyxFQUFFO0tBRXlCO0lBRTdELHNCQUFJLHFDQUFLOzs7O1FBQVQ7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNwQjs7Ozs7UUFFRCxVQUNVLEdBQWM7WUFDdEIsSUFBSSxDQUFD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QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzNCO0tBQ0Y7Ozs7O0lBRUQsbUNBQU07Ozs7SUFBTixVQUFPLEtBQWdCO0tBQ3RCOzs7OztJQUVELG9DQUFPOzs7O0lBQVAsVUFBUSxLQUFnQjtRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNyQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDaEI7S0FDRjs7Z0JBN0lGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsY0FBYztvQkFDeEIsUUFBUSxFQUFFLHFsQkFVWDtvQkFDQyxNQUFNLEVBQUUsQ0FBQywyVEFBMlQsQ0FBQztvQkFDclUsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07b0JBQy9DLFNBQVMsRUFBRSxDQUFDLGtCQUFrQixDQUFDO2lCQUNoQzs7OztnQkE3QmdHLGlCQUFpQjs7O3lCQWdDL0csS0FBSztzQkFDTCxLQUFLO3NCQUNMLEtBQUs7MEJBQ0wsS0FBSzs2QkFDTCxLQUFLOzJCQUNMLEtBQUs7NEJBQ0wsS0FBSzswQkFDTCxLQUFLO21DQUNMLE1BQU07aUNBQ04sTUFBTTtrQ0FDTixTQUFTLFNBQUMsV0FBVztnQ0FDckIsU0FBUyxTQUFDLFNBQVM7d0JBWW5CLEtBQUs7OzZCQXZEUjs7U0E4QmEsa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgZm9yd2FyZFJlZiwgSW5wdXQsIFZpZXdDaGlsZCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuXHJcbmltcG9ydCB7IERhdGVwaWNrZXJDb21wb25lbnQgfSBmcm9tICcuLi9kYXRlcGlja2VyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IERhdGVSYW5nZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9kYXRlJztcclxuaW1wb3J0IHsgYnVpbGQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IERBVEVSQU5HRV9BQ0NFU1NPUjogYW55ID0ge1xyXG4gIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxyXG4gIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IERhdGVyYW5nZUNvbXBvbmVudCksXHJcbiAgbXVsdGk6IHRydWVcclxufTtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnaXUtZGF0ZXJhbmdlJyxcclxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJkYXRlcmFuZ2VcIj5cclxuICA8ZGl2IGNsYXNzPVwic3RhcnQtZGF0ZVwiIFtjbGFzcy5kYXRlXT1cIiFpbmxpbmVcIiBbY2xhc3MuaW5saW5lLWRhdGVdPVwiaW5saW5lXCI+XHJcbiAgICA8bGFiZWwgY2xhc3M9XCJsYmwtZGF0ZSBpdS1wcmltYXJ5XCI+e3sgc3RhcnRMYWJlbCB9fTo8L2xhYmVsPlxyXG4gICAgPGl1LWRhdGVwaWNrZXIgI3N0YXJ0RGF0ZSAoc2VsZWN0ZWRDaGFuZ2VkKT1cImNoYW5nZVN0YXJ0RGF0ZSgkZXZlbnQpXCIgW3ZhbHVlXT1cInN0YXJ0RGF0ZVZhbHVlXCI+PC9pdS1kYXRlcGlja2VyPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJlbmQtZGF0ZVwiIFtjbGFzcy5kYXRlXT1cIiFpbmxpbmVcIiBbY2xhc3MuaW5saW5lLWRhdGVdPVwiaW5saW5lXCI+XHJcbiAgICA8bGFiZWwgY2xhc3M9XCJsYmwtZGF0ZSBpdS1wcmltYXJ5XCI+e3sgZW5kTGFiZWwgfX06PC9sYWJlbD5cclxuICAgIDxpdS1kYXRlcGlja2VyICNlbmREYXRlIChzZWxlY3RlZENoYW5nZWQpPVwiY2hhbmdlRW5kRGF0ZSgkZXZlbnQpXCIgW3ZhbHVlXT1cImVuZERhdGVWYWx1ZVwiPjwvaXUtZGF0ZXBpY2tlcj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbmAsXHJcbiAgc3R5bGVzOiBbYC5kYXRlcmFuZ2V7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MThweDtwYWRkaW5nOjAgMTBweDtib3JkZXItcmFkaXVzOjNweH0uZGF0ZXJhbmdlIC5kYXRle2Rpc3BsYXk6ZmxleDtwYWRkaW5nOjZweH0uZGF0ZXJhbmdlIC5pbmxpbmUtZGF0ZXtkaXNwbGF5OmlubGluZS1mbGV4O3BhZGRpbmc6MH0uZGF0ZXJhbmdlIC5pbmxpbmUtZGF0ZS5lbmQtZGF0ZXttYXJnaW4tbGVmdDozMnB4fS5kYXRlcmFuZ2UgLmxibC1kYXRle3dpZHRoOjc2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Zm9udC1zaXplOjE0cHg7cGFkZGluZy10b3A6MjJweH1gXSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBwcm92aWRlcnM6IFtEQVRFUkFOR0VfQUNDRVNTT1JdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEYXRlcmFuZ2VDb21wb25lbnQgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciB7XHJcblxyXG4gIEBJbnB1dCgpIGlubGluZSA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIG1pbjogRGF0ZTtcclxuICBASW5wdXQoKSBtYXg6IERhdGU7XHJcbiAgQElucHV0KCkgc3RhcnRBdDogRGF0ZTtcclxuICBASW5wdXQoKSBzdGFydExhYmVsID0gJ1N0YXJ0IERhdGUnO1xyXG4gIEBJbnB1dCgpIGVuZExhYmVsID0gJ0VuZCBEYXRlJztcclxuICBASW5wdXQoKSBzdGFydFZpZXc7XHJcbiAgQElucHV0KCkgdG91Y2hVaTtcclxuICBAT3V0cHV0KCkgc3RhcnREYXRlQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8RGF0ZT4oKTtcclxuICBAT3V0cHV0KCkgZW5kRGF0ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPERhdGU+KCk7XHJcbiAgQFZpZXdDaGlsZCgnc3RhcnREYXRlJykgc3RhcnREYXRlcGlja2VyOiBEYXRlcGlja2VyQ29tcG9uZW50O1xyXG4gIEBWaWV3Q2hpbGQoJ2VuZERhdGUnKSBlbmREYXRlcGlja2VyOiBEYXRlcGlja2VyQ29tcG9uZW50O1xyXG4gIHByaXZhdGUgb25Nb2RlbENoYW5nZTogRnVuY3Rpb247XHJcbiAgcHJpdmF0ZSBvblRvdWNoOiBGdW5jdGlvbjtcclxuICBfdmFsdWU6IERhdGVSYW5nZSA9IG5ldyBEYXRlUmFuZ2UoKTtcclxuICBmb2N1c2VkOiBEYXRlUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmKSB7IH1cclxuXHJcbiAgZ2V0IHZhbHVlKCk6IERhdGVSYW5nZSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCB2YWx1ZSh2YWw6IERhdGVSYW5nZSkge1xyXG4gICAgdGhpcy5fdmFsdWUgPSB2YWw7XHJcbiAgICBpZiAodGhpcyAmJiB0aGlzLmNoYW5nZURldGVjdG9yUmVmICYmICF0aGlzLmNoYW5nZURldGVjdG9yUmVmWydkZXN0cm95ZWQnXSkge1xyXG4gICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBzdGFydERhdGVJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXJ0RGF0ZXBpY2tlci5pZDtcclxuICB9XHJcblxyXG4gIGdldCBzdGFydERhdGVPcGVuZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGFydERhdGVwaWNrZXIub3BlbmVkO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGVuZERhdGVJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVuZERhdGVwaWNrZXIuaWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgZW5kRGF0ZU9wZW5lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVuZERhdGVwaWNrZXIub3BlbmVkO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHN0YXJ0RGF0ZVZhbHVlKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWUuc3RhcnREYXRlO1xyXG4gIH1cclxuXHJcbiAgc2V0IHN0YXJ0RGF0ZVZhbHVlKHZhbHVlOiBEYXRlKSB7XHJcbiAgICB0aGlzLmNoYW5nZVN0YXJ0RGF0ZSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXQgZW5kRGF0ZVZhbHVlKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWUuZW5kRGF0ZTtcclxuICB9XHJcblxyXG4gIHNldCBlbmREYXRlVmFsdWUodmFsdWU6IERhdGUpIHtcclxuICAgIHRoaXMuY2hhbmdlRW5kRGF0ZSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VTdGFydERhdGUoZGF0ZTogRGF0ZSkge1xyXG4gICAgdGhpcy5vbkNoYW5nZShidWlsZChEYXRlUmFuZ2UsIHtcclxuICAgICAgZW5kRGF0ZTogdGhpcy52YWx1ZS5lbmREYXRlLFxyXG4gICAgICBzdGFydERhdGU6IGRhdGVcclxuICAgIH0pKTtcclxuICAgIHRoaXMuc3RhcnREYXRlQ2hhbmdlZC5lbWl0KGRhdGUpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VTdGFydERhdGUoKSB7XHJcbiAgICB0aGlzLnN0YXJ0RGF0ZXBpY2tlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgb3BlblN0YXRlRGF0ZSgpIHtcclxuICAgIHRoaXMuc3RhcnREYXRlcGlja2VyLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUVuZERhdGUoZGF0ZTogRGF0ZSkge1xyXG4gICAgdGhpcy5vbkNoYW5nZShidWlsZChEYXRlUmFuZ2UsIHtcclxuICAgICAgZW5kRGF0ZTogZGF0ZSxcclxuICAgICAgc3RhcnREYXRlOiB0aGlzLnZhbHVlLnN0YXJ0RGF0ZVxyXG4gICAgfSkpO1xyXG4gICAgdGhpcy5lbmREYXRlQ2hhbmdlZC5lbWl0KGRhdGUpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VFbmREYXRlKCkge1xyXG4gICAgdGhpcy5lbmREYXRlcGlja2VyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuRW5kRGF0ZSgpIHtcclxuICAgIHRoaXMuZW5kRGF0ZXBpY2tlci5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5vbk1vZGVsQ2hhbmdlID0gZm47XHJcbiAgfVxyXG5cclxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogRnVuY3Rpb24pIHtcclxuICAgIHRoaXMub25Ub3VjaCA9IGZuO1xyXG4gIH1cclxuXHJcbiAgd3JpdGVWYWx1ZSh2YWx1ZTogRGF0ZVJhbmdlKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZSh2YWx1ZTogRGF0ZVJhbmdlKSB7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICBpZiAodGhpcy5vbk1vZGVsQ2hhbmdlKSB7XHJcbiAgICAgIHRoaXMub25Nb2RlbENoYW5nZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkJsdXIodmFsdWU6IERhdGVSYW5nZSkge1xyXG4gIH1cclxuXHJcbiAgb25Gb2N1cyh2YWx1ZTogRGF0ZVJhbmdlKSB7XHJcbiAgICB0aGlzLmZvY3VzZWQgPSB2YWx1ZTtcclxuICAgIGlmICh0aGlzLm9uVG91Y2gpIHtcclxuICAgICAgdGhpcy5vblRvdWNoKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=