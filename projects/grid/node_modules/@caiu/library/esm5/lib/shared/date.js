/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { build, toInt } from './utils';
var DateRange = /** @class */ (function () {
    function DateRange() {
        this.startDate = new Date();
        this.endDate = new Date();
    }
    return DateRange;
}());
export { DateRange };
function DateRange_tsickle_Closure_declarations() {
    /** @type {?} */
    DateRange.prototype.startDate;
    /** @type {?} */
    DateRange.prototype.endDate;
}
var DateHelper = /** @class */ (function () {
    function DateHelper() {
    }
    /**
     * @param {?} startDate
     * @param {?} startHours
     * @param {?} startMinutes
     * @param {?} startMeridian
     * @return {?}
     */
    DateHelper.BuildStartTime = /**
     * @param {?} startDate
     * @param {?} startHours
     * @param {?} startMinutes
     * @param {?} startMeridian
     * @return {?}
     */
    function (startDate, startHours, startMinutes, startMeridian) {
        var /** @type {?} */ startTime = new Date(startDate);
        var /** @type {?} */ hours = startMeridian === 'AM' ? startHours : startHours + 12;
        startTime.setHours(hours);
        startTime.setMinutes(startMinutes);
        return startTime;
    };
    /**
     * @param {?} startTime
     * @param {?} dHours
     * @param {?} dMinutes
     * @return {?}
     */
    DateHelper.BuildEndTime = /**
     * @param {?} startTime
     * @param {?} dHours
     * @param {?} dMinutes
     * @return {?}
     */
    function (startTime, dHours, dMinutes) {
        var /** @type {?} */ endTime = new Date(startTime);
        endTime.setHours(endTime.getHours() + dHours);
        endTime.setMinutes(endTime.getMinutes() + dMinutes);
        return endTime;
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.FormatDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        return month && day && year ? [month, day, year].join('/') : null;
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.FormatDateDashes = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [year, month, day].join('-');
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.FormatDateSlashes = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ d = new Date(date);
        var /** @type {?} */ month = '' + (d.getMonth() + 1);
        var /** @type {?} */ day = '' + d.getDate();
        var /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [month, day, year].join('/');
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.TimeAgo = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        if (!date) {
            return '';
        }
        var /** @type {?} */ seconds = Math.floor(((new Date()).getTime() - (new Date(date)).getTime()) / 1000);
        var /** @type {?} */ interval = Math.floor(seconds / 31536000);
        if (interval > 1) {
            return interval + ' years';
        }
        interval = Math.floor(seconds / 2592000);
        if (interval > 1) {
            return interval + ' months';
        }
        interval = Math.floor(seconds / 86400);
        if (interval > 1) {
            return interval + ' days';
        }
        interval = Math.floor(seconds / 3600);
        if (interval > 1) {
            return interval + ' hours';
        }
        interval = Math.floor(seconds / 60);
        if (interval > 1) {
            return interval + ' minutes';
        }
        return Math.floor(seconds) + ' seconds';
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthName = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        return DateHelper.MonthNames[date.getMonth()];
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthNumber = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        return date.getMonth() + 1;
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.ToMonthNumberFromMonthYear = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ month = monthYear.substr(monthYear.length - 2);
        return toInt(month) - 1;
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.ToMonthNumberFromMonthYearName = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ parts = monthYear.split(/\s*,\s*/);
        var /** @type {?} */ month = DateHelper.MonthNumbers[parts[0]];
        return month;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthYear = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        var /** @type {?} */ monthNumber = DateHelper.ToMonthNumber(date);
        var /** @type {?} */ month = monthNumber < 10 ? "0" + monthNumber : monthNumber;
        return date.getFullYear() + "-" + month;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    DateHelper.ToMonthYearName = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        var /** @type {?} */ date = new Date(d);
        var /** @type {?} */ month = DateHelper.ToMonthName(date);
        var /** @type {?} */ year = date.getFullYear();
        return month && year ? month + " " + year : '';
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.ToYearNumberFromMonthYear = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ year = monthYear.substring(0, 4);
        return toInt(year);
    };
    /**
     * @param {?} monthYear
     * @return {?}
     */
    DateHelper.FromMonthYear = /**
     * @param {?} monthYear
     * @return {?}
     */
    function (monthYear) {
        var /** @type {?} */ year = DateHelper.ToYearNumberFromMonthYear(monthYear);
        var /** @type {?} */ month = DateHelper.ToMonthNumberFromMonthYear(monthYear);
        return year && month ? new Date(year, month) : new Date();
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.IsDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        return Object.prototype.toString.call(date) === '[object Date]';
    };
    /**
     * @param {?} date
     * @return {?}
     */
    DateHelper.IsValidDate = /**
     * @param {?} date
     * @return {?}
     */
    function (date) {
        var /** @type {?} */ dateWrapper = new Date(date);
        return !isNaN(dateWrapper.getDate());
    };
    Object.defineProperty(DateHelper, "Today", {
        get: /**
         * @return {?}
         */
        function () {
            return new Date();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "Month", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Today.getMonth();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "MonthNumbers", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.MonthNames.reduce(function (acc, x, i) {
                return Object.assign({}, acc, (_a = {}, _a[x] = i, _a));
                var _a;
            });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "Year", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Today.getFullYear();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "NextSchoolYear", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "NextSchoolYearStartDate", {
        get: /**
         * @return {?}
         */
        function () {
            return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousSchoolYear", {
        get: /**
         * @return {?}
         */
        function () {
            return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousSchoolYearEndDate", {
        get: /**
         * @return {?}
         */
        function () {
            return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "FutureDate", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ date = DateHelper.Today;
            return DateHelper.AddDays(date, 100000);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PastDate", {
        get: /**
         * @return {?}
         */
        function () {
            var /** @type {?} */ date = DateHelper.Today;
            return DateHelper.SubtractDays(date, 100000);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    DateHelper.AddDays = /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    function (d, days) {
        var /** @type {?} */ date = new Date(d);
        date.setDate(date.getDate() + days);
        return date;
    };
    /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    DateHelper.SubtractDays = /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    function (d, days) {
        var /** @type {?} */ date = new Date(d);
        date.setDate(date.getDate() - days);
        return date;
    };
    /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @return {?}
     */
    DateHelper.BuildDate = /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @return {?}
     */
    function (year, month, day) {
        var /** @type {?} */ date = new Date();
        date.setFullYear(year);
        date.setMonth(month);
        date.setDate(day);
        return date;
    };
    /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    DateHelper.DateChanged = /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    function (d1, d2) {
        var /** @type {?} */ date1 = new Date(d1);
        var /** @type {?} */ date2 = new Date(d2);
        return date1.getDate() !== date2.getDate() || date1.getMonth() !== date2.getMonth() || date1.getFullYear() !== date2.getFullYear();
    };
    /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    DateHelper.IsSameDay = /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    function (d1, d2) {
        return !DateHelper.DateChanged(d1, d2);
    };
    Object.defineProperty(DateHelper, "YearStartDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year, 6, 1);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousYearStartDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} year
     * @return {?}
     */
    DateHelper.SchoolYearStart = /**
     * @param {?} year
     * @return {?}
     */
    function (year) {
        return DateHelper.BuildDate(year, 6, 1);
    };
    Object.defineProperty(DateHelper, "YearEndDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year, 5, 30);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateHelper, "PreviousYearEndDate", {
        get: /**
         * @return {?}
         */
        function () {
            if (DateHelper.Month < 7) {
                return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);
            }
            else {
                return DateHelper.BuildDate(DateHelper.Year, 5, 30);
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?=} year
     * @return {?}
     */
    DateHelper.SchoolYearEnd = /**
     * @param {?=} year
     * @return {?}
     */
    function (year) {
        return DateHelper.BuildDate(year - 1, 5, 30);
    };
    /**
     * @param {?} dateRangeId
     * @return {?}
     */
    DateHelper.BuildDateRange = /**
     * @param {?} dateRangeId
     * @return {?}
     */
    function (dateRangeId) {
        var /** @type {?} */ startDate;
        var /** @type {?} */ endDate;
        switch (dateRangeId) {
            case 0:
                break;
            case 1:
                break;
            case 2:
                // Today
                startDate = DateHelper.Today;
                endDate = startDate;
                break;
            case 3:
                // Next 15
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 15);
                break;
            case 4:
                // Next 30
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 30);
                break;
            case 5:
                // Next 60
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 60);
                break;
            case 6:
                // Previous 15
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 15);
                break;
            case 7:
                // Previous 30
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 30);
                break;
            case 8:
                // Previous 60
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 60);
                break;
            case 9:
                // School Year - Runs from July 1st Thru June 30th
                startDate = DateHelper.YearStartDate;
                endDate = DateHelper.YearEndDate;
                break;
            case 10:
                // Number of meetings = 10
                startDate = DateHelper.Today;
                endDate = DateHelper.FutureDate;
                break;
            case 11:
                // Previous School Year
                startDate = DateHelper.PreviousYearStartDate;
                endDate = DateHelper.PreviousYearEndDate;
                break;
        }
        return build(DateRange, { startDate: startDate, endDate: endDate });
    };
    DateHelper.MonthNames = [
        'January',
        'February',
        'March',
        'April',
        'May',
        'June',
        'July',
        'August',
        'September',
        'October',
        'November',
        'December'
    ];
    return DateHelper;
}());
export { DateHelper };
function DateHelper_tsickle_Closure_declarations() {
    /** @type {?} */
    DateHelper.MonthNames;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjYWl1L2xpYnJhcnkvIiwic291cmNlcyI6WyJsaWIvc2hhcmVkL2RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBRXZDLElBQUE7O3lCQUNzQixJQUFJLElBQUksRUFBRTt1QkFDWixJQUFJLElBQUksRUFBRTs7b0JBSjlCO0lBS0MsQ0FBQTtBQUhELHFCQUdDOzs7Ozs7Ozs7Ozs7Ozs7OztJQW1CVSx5QkFBYzs7Ozs7OztJQUFyQixVQUFzQixTQUFlLEVBQUUsVUFBa0IsRUFBRSxZQUFvQixFQUFFLGFBQTBCO1FBQ3ZHLHFCQUFNLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN0QyxxQkFBTSxLQUFLLEdBQUcsYUFBYSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3BFLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNuQyxNQUFNLENBQUMsU0FBUyxDQUFDO0tBQ3BCOzs7Ozs7O0lBRU0sdUJBQVk7Ozs7OztJQUFuQixVQUFvQixTQUFlLEVBQUUsTUFBYyxFQUFFLFFBQWdCO1FBQ2pFLHFCQUFNLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUM5QyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsR0FBRyxRQUFRLENBQUMsQ0FBQztRQUNwRCxNQUFNLENBQUMsT0FBTyxDQUFDO0tBQ2xCOzs7OztJQUVNLHFCQUFVOzs7O0lBQWpC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QUFTO1FBQ1QsVUFBVTtRQUNWLE9BQU87UUFDUCxPQUFPO1FBQ1AsS0FBSztRQUNMLE1BQU07UUFDTixNQUFNO1FBQ04sUUFBUTtRQUNSLFdBQVc7UUFDWCxTQUFTO1FBQ1QsVUFBVTtRQUNWLFVBQVU7S0FDYjtxQkF0Qkw7O1NBT2EsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1aWxkLCB0b0ludCB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGVSYW5nZSB7XHJcbiAgICBzdGFydERhdGU6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgZW5kRGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRlSGVscGVyIHtcclxuXHJcbiAgICBzdGF0aWMgTW9udGhOYW1lcyA9IFtcclxuICAgICAgICAnSmFudWFyeScsXHJcbiAgICAgICAgJ0ZlYnJ1YXJ5JyxcclxuICAgICAgICAnTWFyY2gnLFxyXG4gICAgICAgICdBcHJpbCcsXHJcbiAgICAgICAgJ01heScsXHJcbiAgICAgICAgJ0p1bmUnLFxyXG4gICAgICAgICdKdWx5JyxcclxuICAgICAgICAnQXVndXN0JyxcclxuICAgICAgICAnU2VwdGVtYmVyJyxcclxuICAgICAgICAnT2N0b2JlcicsXHJcbiAgICAgICAgJ05vdmVtYmVyJyxcclxuICAgICAgICAnRGVjZW1iZXInXHJcbiAgICBdO1xyXG5cclxuICAgIHN0YXRpYyBCdWlsZFN0YXJ0VGltZShzdGFydERhdGU6IERhdGUsIHN0YXJ0SG91cnM6IG51bWJlciwgc3RhcnRNaW51dGVzOiBudW1iZXIsIHN0YXJ0TWVyaWRpYW46ICdBTScgfCAnUE0nKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoc3RhcnREYXRlKTtcclxuICAgICAgICBjb25zdCBob3VycyA9IHN0YXJ0TWVyaWRpYW4gPT09ICdBTScgPyBzdGFydEhvdXJzIDogc3RhcnRIb3VycyArIDEyO1xyXG4gICAgICAgIHN0YXJ0VGltZS5zZXRIb3Vycyhob3Vycyk7XHJcbiAgICAgICAgc3RhcnRUaW1lLnNldE1pbnV0ZXMoc3RhcnRNaW51dGVzKTtcclxuICAgICAgICByZXR1cm4gc3RhcnRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZEVuZFRpbWUoc3RhcnRUaW1lOiBEYXRlLCBkSG91cnM6IG51bWJlciwgZE1pbnV0ZXM6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShzdGFydFRpbWUpO1xyXG4gICAgICAgIGVuZFRpbWUuc2V0SG91cnMoZW5kVGltZS5nZXRIb3VycygpICsgZEhvdXJzKTtcclxuICAgICAgICBlbmRUaW1lLnNldE1pbnV0ZXMoZW5kVGltZS5nZXRNaW51dGVzKCkgKyBkTWludXRlcyk7XHJcbiAgICAgICAgcmV0dXJuIGVuZFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgY29uc3QgZGF5ID0gJycgKyBkLmdldERhdGUoKTtcclxuICAgICAgICBjb25zdCB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xyXG5cclxuICAgICAgICByZXR1cm4gbW9udGggJiYgZGF5ICYmIHllYXIgPyBbbW9udGgsIGRheSwgeWVhcl0uam9pbignLycpIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRm9ybWF0RGF0ZURhc2hlcyhkYXRlOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgbGV0IG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgbGV0IGRheSA9ICcnICsgZC5nZXREYXRlKCk7XHJcbiAgICAgICAgY29uc3QgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgICAgICAgaWYgKG1vbnRoLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgbW9udGggPSAnMCcgKyBtb250aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRheS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIGRheSA9ICcwJyArIGRheTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBbeWVhciwgbW9udGgsIGRheV0uam9pbignLScpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGb3JtYXREYXRlU2xhc2hlcyhkYXRlOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgbGV0IG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgICAgbGV0IGRheSA9ICcnICsgZC5nZXREYXRlKCk7XHJcbiAgICAgICAgY29uc3QgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgICAgICAgaWYgKG1vbnRoLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgbW9udGggPSAnMCcgKyBtb250aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRheS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIGRheSA9ICcwJyArIGRheTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBbbW9udGgsIGRheSwgeWVhcl0uam9pbignLycpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUaW1lQWdvKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghZGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gKG5ldyBEYXRlKGRhdGUpKS5nZXRUaW1lKCkpIC8gMTAwMCk7XHJcbiAgICBcclxuICAgICAgICBsZXQgaW50ZXJ2YWwgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzMTUzNjAwMCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoaW50ZXJ2YWwgPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbCArICcgeWVhcnMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcnZhbCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDI1OTIwMDApO1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVydmFsICsgJyBtb250aHMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcnZhbCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDg2NDAwKTtcclxuICAgICAgICBpZiAoaW50ZXJ2YWwgPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbCArICcgZGF5cyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmFsID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gMzYwMCk7XHJcbiAgICAgICAgaWYgKGludGVydmFsID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWwgKyAnIGhvdXJzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJ2YWwgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XHJcbiAgICAgICAgaWYgKGludGVydmFsID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWwgKyAnIG1pbnV0ZXMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihzZWNvbmRzKSArICcgc2Vjb25kcyc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvTW9udGhOYW1lKGQ6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Nb250aE5hbWVzW2RhdGUuZ2V0TW9udGgoKV07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvTW9udGhOdW1iZXIoZDogRGF0ZSk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb01vbnRoTnVtYmVyRnJvbU1vbnRoWWVhcihtb250aFllYXI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSBtb250aFllYXIuc3Vic3RyKG1vbnRoWWVhci5sZW5ndGggLSAyKTtcclxuICAgICAgICByZXR1cm4gdG9JbnQobW9udGgpIC0gMTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9Nb250aE51bWJlckZyb21Nb250aFllYXJOYW1lKG1vbnRoWWVhcjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IG1vbnRoWWVhci5zcGxpdCgvXFxzKixcXHMqLyk7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSBEYXRlSGVscGVyLk1vbnRoTnVtYmVyc1twYXJ0c1swXV07XHJcbiAgICAgICAgcmV0dXJuIG1vbnRoO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb01vbnRoWWVhcihkOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgY29uc3QgbW9udGhOdW1iZXIgPSBEYXRlSGVscGVyLlRvTW9udGhOdW1iZXIoZGF0ZSk7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSBtb250aE51bWJlciA8IDEwID8gYDAke21vbnRoTnVtYmVyfWAgOiBtb250aE51bWJlcjtcclxuICAgICAgICByZXR1cm4gYCR7ZGF0ZS5nZXRGdWxsWWVhcigpfS0ke21vbnRofWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvTW9udGhZZWFyTmFtZShkOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgY29uc3QgbW9udGggPSBEYXRlSGVscGVyLlRvTW9udGhOYW1lKGRhdGUpO1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgcmV0dXJuIG1vbnRoICYmIHllYXIgPyBgJHttb250aH0gJHt5ZWFyfWAgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9ZZWFyTnVtYmVyRnJvbU1vbnRoWWVhcihtb250aFllYXI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgeWVhciA9IG1vbnRoWWVhci5zdWJzdHJpbmcoMCwgNCk7XHJcbiAgICAgICAgcmV0dXJuIHRvSW50KHllYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGcm9tTW9udGhZZWFyKG1vbnRoWWVhcjogc3RyaW5nKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgeWVhciA9IERhdGVIZWxwZXIuVG9ZZWFyTnVtYmVyRnJvbU1vbnRoWWVhcihtb250aFllYXIpO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gRGF0ZUhlbHBlci5Ub01vbnRoTnVtYmVyRnJvbU1vbnRoWWVhcihtb250aFllYXIpO1xyXG4gICAgICAgIHJldHVybiB5ZWFyICYmIG1vbnRoID8gbmV3IERhdGUoeWVhciwgbW9udGgpIDogbmV3IERhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNEYXRlKGRhdGU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNWYWxpZERhdGUoZGF0ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZGF0ZVdyYXBwZXIgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICByZXR1cm4gIWlzTmFOKGRhdGVXcmFwcGVyLmdldERhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBUb2RheSgpOiBEYXRlIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IE1vbnRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuVG9kYXkuZ2V0TW9udGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IE1vbnRoTnVtYmVycygpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLk1vbnRoTmFtZXMucmVkdWNlKChhY2MsIHgsIGkpID0+IE9iamVjdC5hc3NpZ24oe30sIGFjYywgeyBbeF06IGkgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgWWVhcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLlRvZGF5LmdldEZ1bGxZZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBOZXh0U2Nob29sWWVhcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLk1vbnRoIDwgNyA/IERhdGVIZWxwZXIuWWVhciA6IERhdGVIZWxwZXIuWWVhciArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBOZXh0U2Nob29sWWVhclN0YXJ0RGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZUhlbHBlci5TY2hvb2xZZWFyU3RhcnQoRGF0ZUhlbHBlci5OZXh0U2Nob29sWWVhcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgUHJldmlvdXNTY2hvb2xZZWFyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuTW9udGggPCA3ID8gRGF0ZUhlbHBlci5ZZWFyIDogRGF0ZUhlbHBlci5ZZWFyICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFByZXZpb3VzU2Nob29sWWVhckVuZERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKERhdGVIZWxwZXIuU2Nob29sWWVhckVuZChEYXRlSGVscGVyLlByZXZpb3VzU2Nob29sWWVhcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgRnV0dXJlRGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5BZGREYXlzKGRhdGUsIDEwMDAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBQYXN0RGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5TdWJ0cmFjdERheXMoZGF0ZSwgMTAwMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQWRkRGF5cyhkOiBEYXRlLCBkYXlzOiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cyk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFN1YnRyYWN0RGF5cyhkOiBEYXRlLCBkYXlzOiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkRGF0ZSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRheTogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTtcclxuICAgICAgICBkYXRlLnNldE1vbnRoKG1vbnRoKTtcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF5KTtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRGF0ZUNoYW5nZWQoZDE6IERhdGUsIGQyOiBEYXRlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZGF0ZTEgPSBuZXcgRGF0ZShkMSk7XHJcbiAgICAgICAgY29uc3QgZGF0ZTIgPSBuZXcgRGF0ZShkMik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGUxLmdldERhdGUoKSAhPT0gZGF0ZTIuZ2V0RGF0ZSgpIHx8IGRhdGUxLmdldE1vbnRoKCkgIT09IGRhdGUyLmdldE1vbnRoKCkgfHwgZGF0ZTEuZ2V0RnVsbFllYXIoKSAhPT0gZGF0ZTIuZ2V0RnVsbFllYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNTYW1lRGF5KGQxOiBEYXRlLCBkMjogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhRGF0ZUhlbHBlci5EYXRlQ2hhbmdlZChkMSwgZDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgWWVhclN0YXJ0RGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICBpZiAoRGF0ZUhlbHBlci5Nb250aCA8IDcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciAtIDEsIDYsIDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIsIDYsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFByZXZpb3VzWWVhclN0YXJ0RGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICBpZiAoRGF0ZUhlbHBlci5Nb250aCA8IDcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciAtIDIsIDYsIDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIgLSAxLCA2LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFNjaG9vbFllYXJTdGFydCh5ZWFyOiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoeWVhciwgNiwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBZZWFyRW5kRGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICBpZiAoRGF0ZUhlbHBlci5Nb250aCA8IDcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciwgNSwgMzApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIgKyAxLCA1LCAzMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgUHJldmlvdXNZZWFyRW5kRGF0ZSgpOiBEYXRlIHtcclxuICAgICAgICBpZiAoRGF0ZUhlbHBlci5Nb250aCA8IDcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciAtIDEsIDUsIDMwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyLCA1LCAzMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBTY2hvb2xZZWFyRW5kKHllYXI/OiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoeWVhciAtIDEsIDUsIDMwKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGREYXRlUmFuZ2UoZGF0ZVJhbmdlSWQ6IG51bWJlcik6IERhdGVSYW5nZSB7XHJcbiAgICAgICAgbGV0IHN0YXJ0RGF0ZTogRGF0ZTtcclxuICAgICAgICBsZXQgZW5kRGF0ZTogRGF0ZTtcclxuICAgICAgICBzd2l0Y2ggKGRhdGVSYW5nZUlkKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOiAvLyBUb2RheVxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBzdGFydERhdGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOiAvLyBOZXh0IDE1XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuQWRkRGF5cyhzdGFydERhdGUsIDE1KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6IC8vIE5leHQgMzBcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5BZGREYXlzKHN0YXJ0RGF0ZSwgMzApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTogLy8gTmV4dCA2MFxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLkFkZERheXMoc3RhcnREYXRlLCA2MCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OiAvLyBQcmV2aW91cyAxNVxyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlN1YnRyYWN0RGF5cyhlbmREYXRlLCAxNSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA3OiAvLyBQcmV2aW91cyAzMFxyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlN1YnRyYWN0RGF5cyhlbmREYXRlLCAzMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA4OiAvLyBQcmV2aW91cyA2MFxyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlN1YnRyYWN0RGF5cyhlbmREYXRlLCA2MCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5OiAvLyBTY2hvb2wgWWVhciAtIFJ1bnMgZnJvbSBKdWx5IDFzdCBUaHJ1IEp1bmUgMzB0aFxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5ZZWFyU3RhcnREYXRlO1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuWWVhckVuZERhdGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMDogLy8gTnVtYmVyIG9mIG1lZXRpbmdzID0gMTBcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5GdXR1cmVEYXRlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTE6IC8vIFByZXZpb3VzIFNjaG9vbCBZZWFyXHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlByZXZpb3VzWWVhclN0YXJ0RGF0ZTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLlByZXZpb3VzWWVhckVuZERhdGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ1aWxkKERhdGVSYW5nZSwgeyBzdGFydERhdGUsIGVuZERhdGUgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19