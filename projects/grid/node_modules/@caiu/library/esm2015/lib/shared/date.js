/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { build, toInt } from './utils';
export class DateRange {
    constructor() {
        this.startDate = new Date();
        this.endDate = new Date();
    }
}
function DateRange_tsickle_Closure_declarations() {
    /** @type {?} */
    DateRange.prototype.startDate;
    /** @type {?} */
    DateRange.prototype.endDate;
}
export class DateHelper {
    /**
     * @param {?} startDate
     * @param {?} startHours
     * @param {?} startMinutes
     * @param {?} startMeridian
     * @return {?}
     */
    static BuildStartTime(startDate, startHours, startMinutes, startMeridian) {
        const /** @type {?} */ startTime = new Date(startDate);
        const /** @type {?} */ hours = startMeridian === 'AM' ? startHours : startHours + 12;
        startTime.setHours(hours);
        startTime.setMinutes(startMinutes);
        return startTime;
    }
    /**
     * @param {?} startTime
     * @param {?} dHours
     * @param {?} dMinutes
     * @return {?}
     */
    static BuildEndTime(startTime, dHours, dMinutes) {
        const /** @type {?} */ endTime = new Date(startTime);
        endTime.setHours(endTime.getHours() + dHours);
        endTime.setMinutes(endTime.getMinutes() + dMinutes);
        return endTime;
    }
    /**
     * @param {?} date
     * @return {?}
     */
    static FormatDate(date) {
        const /** @type {?} */ d = new Date(date);
        const /** @type {?} */ month = '' + (d.getMonth() + 1);
        const /** @type {?} */ day = '' + d.getDate();
        const /** @type {?} */ year = d.getFullYear();
        return month && day && year ? [month, day, year].join('/') : null;
    }
    /**
     * @param {?} date
     * @return {?}
     */
    static FormatDateDashes(date) {
        const /** @type {?} */ d = new Date(date);
        let /** @type {?} */ month = '' + (d.getMonth() + 1);
        let /** @type {?} */ day = '' + d.getDate();
        const /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [year, month, day].join('-');
    }
    /**
     * @param {?} date
     * @return {?}
     */
    static FormatDateSlashes(date) {
        const /** @type {?} */ d = new Date(date);
        let /** @type {?} */ month = '' + (d.getMonth() + 1);
        let /** @type {?} */ day = '' + d.getDate();
        const /** @type {?} */ year = d.getFullYear();
        if (month.length < 2) {
            month = '0' + month;
        }
        if (day.length < 2) {
            day = '0' + day;
        }
        return [month, day, year].join('/');
    }
    /**
     * @param {?} date
     * @return {?}
     */
    static TimeAgo(date) {
        if (!date) {
            return '';
        }
        const /** @type {?} */ seconds = Math.floor(((new Date()).getTime() - (new Date(date)).getTime()) / 1000);
        let /** @type {?} */ interval = Math.floor(seconds / 31536000);
        if (interval > 1) {
            return interval + ' years';
        }
        interval = Math.floor(seconds / 2592000);
        if (interval > 1) {
            return interval + ' months';
        }
        interval = Math.floor(seconds / 86400);
        if (interval > 1) {
            return interval + ' days';
        }
        interval = Math.floor(seconds / 3600);
        if (interval > 1) {
            return interval + ' hours';
        }
        interval = Math.floor(seconds / 60);
        if (interval > 1) {
            return interval + ' minutes';
        }
        return Math.floor(seconds) + ' seconds';
    }
    /**
     * @param {?} d
     * @return {?}
     */
    static ToMonthName(d) {
        const /** @type {?} */ date = new Date(d);
        return DateHelper.MonthNames[date.getMonth()];
    }
    /**
     * @param {?} d
     * @return {?}
     */
    static ToMonthNumber(d) {
        const /** @type {?} */ date = new Date(d);
        return date.getMonth() + 1;
    }
    /**
     * @param {?} monthYear
     * @return {?}
     */
    static ToMonthNumberFromMonthYear(monthYear) {
        const /** @type {?} */ month = monthYear.substr(monthYear.length - 2);
        return toInt(month) - 1;
    }
    /**
     * @param {?} monthYear
     * @return {?}
     */
    static ToMonthNumberFromMonthYearName(monthYear) {
        const /** @type {?} */ parts = monthYear.split(/\s*,\s*/);
        const /** @type {?} */ month = DateHelper.MonthNumbers[parts[0]];
        return month;
    }
    /**
     * @param {?} d
     * @return {?}
     */
    static ToMonthYear(d) {
        const /** @type {?} */ date = new Date(d);
        const /** @type {?} */ monthNumber = DateHelper.ToMonthNumber(date);
        const /** @type {?} */ month = monthNumber < 10 ? `0${monthNumber}` : monthNumber;
        return `${date.getFullYear()}-${month}`;
    }
    /**
     * @param {?} d
     * @return {?}
     */
    static ToMonthYearName(d) {
        const /** @type {?} */ date = new Date(d);
        const /** @type {?} */ month = DateHelper.ToMonthName(date);
        const /** @type {?} */ year = date.getFullYear();
        return month && year ? `${month} ${year}` : '';
    }
    /**
     * @param {?} monthYear
     * @return {?}
     */
    static ToYearNumberFromMonthYear(monthYear) {
        const /** @type {?} */ year = monthYear.substring(0, 4);
        return toInt(year);
    }
    /**
     * @param {?} monthYear
     * @return {?}
     */
    static FromMonthYear(monthYear) {
        const /** @type {?} */ year = DateHelper.ToYearNumberFromMonthYear(monthYear);
        const /** @type {?} */ month = DateHelper.ToMonthNumberFromMonthYear(monthYear);
        return year && month ? new Date(year, month) : new Date();
    }
    /**
     * @param {?} date
     * @return {?}
     */
    static IsDate(date) {
        return Object.prototype.toString.call(date) === '[object Date]';
    }
    /**
     * @param {?} date
     * @return {?}
     */
    static IsValidDate(date) {
        const /** @type {?} */ dateWrapper = new Date(date);
        return !isNaN(dateWrapper.getDate());
    }
    /**
     * @return {?}
     */
    static get Today() {
        return new Date();
    }
    /**
     * @return {?}
     */
    static get Month() {
        return DateHelper.Today.getMonth();
    }
    /**
     * @return {?}
     */
    static get MonthNumbers() {
        return DateHelper.MonthNames.reduce((acc, x, i) => Object.assign({}, acc, { [x]: i }));
    }
    /**
     * @return {?}
     */
    static get Year() {
        return DateHelper.Today.getFullYear();
    }
    /**
     * @return {?}
     */
    static get NextSchoolYear() {
        return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;
    }
    /**
     * @return {?}
     */
    static get NextSchoolYearStartDate() {
        return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));
    }
    /**
     * @return {?}
     */
    static get PreviousSchoolYear() {
        return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;
    }
    /**
     * @return {?}
     */
    static get PreviousSchoolYearEndDate() {
        return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));
    }
    /**
     * @return {?}
     */
    static get FutureDate() {
        const /** @type {?} */ date = DateHelper.Today;
        return DateHelper.AddDays(date, 100000);
    }
    /**
     * @return {?}
     */
    static get PastDate() {
        const /** @type {?} */ date = DateHelper.Today;
        return DateHelper.SubtractDays(date, 100000);
    }
    /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    static AddDays(d, days) {
        const /** @type {?} */ date = new Date(d);
        date.setDate(date.getDate() + days);
        return date;
    }
    /**
     * @param {?} d
     * @param {?} days
     * @return {?}
     */
    static SubtractDays(d, days) {
        const /** @type {?} */ date = new Date(d);
        date.setDate(date.getDate() - days);
        return date;
    }
    /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @return {?}
     */
    static BuildDate(year, month, day) {
        const /** @type {?} */ date = new Date();
        date.setFullYear(year);
        date.setMonth(month);
        date.setDate(day);
        return date;
    }
    /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    static DateChanged(d1, d2) {
        const /** @type {?} */ date1 = new Date(d1);
        const /** @type {?} */ date2 = new Date(d2);
        return date1.getDate() !== date2.getDate() || date1.getMonth() !== date2.getMonth() || date1.getFullYear() !== date2.getFullYear();
    }
    /**
     * @param {?} d1
     * @param {?} d2
     * @return {?}
     */
    static IsSameDay(d1, d2) {
        return !DateHelper.DateChanged(d1, d2);
    }
    /**
     * @return {?}
     */
    static get YearStartDate() {
        if (DateHelper.Month < 7) {
            return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);
        }
        else {
            return DateHelper.BuildDate(DateHelper.Year, 6, 1);
        }
    }
    /**
     * @return {?}
     */
    static get PreviousYearStartDate() {
        if (DateHelper.Month < 7) {
            return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);
        }
        else {
            return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);
        }
    }
    /**
     * @param {?} year
     * @return {?}
     */
    static SchoolYearStart(year) {
        return DateHelper.BuildDate(year, 6, 1);
    }
    /**
     * @return {?}
     */
    static get YearEndDate() {
        if (DateHelper.Month < 7) {
            return DateHelper.BuildDate(DateHelper.Year, 5, 30);
        }
        else {
            return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);
        }
    }
    /**
     * @return {?}
     */
    static get PreviousYearEndDate() {
        if (DateHelper.Month < 7) {
            return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);
        }
        else {
            return DateHelper.BuildDate(DateHelper.Year, 5, 30);
        }
    }
    /**
     * @param {?=} year
     * @return {?}
     */
    static SchoolYearEnd(year) {
        return DateHelper.BuildDate(year - 1, 5, 30);
    }
    /**
     * @param {?} dateRangeId
     * @return {?}
     */
    static BuildDateRange(dateRangeId) {
        let /** @type {?} */ startDate;
        let /** @type {?} */ endDate;
        switch (dateRangeId) {
            case 0:
                break;
            case 1:
                break;
            case 2:
                // Today
                startDate = DateHelper.Today;
                endDate = startDate;
                break;
            case 3:
                // Next 15
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 15);
                break;
            case 4:
                // Next 30
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 30);
                break;
            case 5:
                // Next 60
                startDate = DateHelper.Today;
                endDate = DateHelper.AddDays(startDate, 60);
                break;
            case 6:
                // Previous 15
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 15);
                break;
            case 7:
                // Previous 30
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 30);
                break;
            case 8:
                // Previous 60
                endDate = DateHelper.Today;
                startDate = DateHelper.SubtractDays(endDate, 60);
                break;
            case 9:
                // School Year - Runs from July 1st Thru June 30th
                startDate = DateHelper.YearStartDate;
                endDate = DateHelper.YearEndDate;
                break;
            case 10:
                // Number of meetings = 10
                startDate = DateHelper.Today;
                endDate = DateHelper.FutureDate;
                break;
            case 11:
                // Previous School Year
                startDate = DateHelper.PreviousYearStartDate;
                endDate = DateHelper.PreviousYearEndDate;
                break;
        }
        return build(DateRange, { startDate, endDate });
    }
}
DateHelper.MonthNames = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December'
];
function DateHelper_tsickle_Closure_declarations() {
    /** @type {?} */
    DateHelper.MonthNames;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjYWl1L2xpYnJhcnkvIiwic291cmNlcyI6WyJsaWIvc2hhcmVkL2RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBRXZDLE1BQU07O3lCQUNnQixJQUFJLElBQUksRUFBRTt1QkFDWixJQUFJLElBQUksRUFBRTs7Q0FDN0I7Ozs7Ozs7QUFFRCxNQUFNOzs7Ozs7OztJQWlCRixNQUFNLENBQUMsY0FBYyxDQUFDLFNBQWUsRUFBRSxVQUFrQixFQUFFLFlBQW9CLEVBQUUsYUFBMEI7UUFDdkcsdUJBQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RDLHVCQUFNLEtBQUssR0FBRyxhQUFhLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDcEUsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQixTQUFTLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxTQUFTLENBQUM7S0FDcEI7Ozs7Ozs7SUFFRCxNQUFNLENBQUMsWUFBWSxDQUFDLFNBQWUsRUFBRSxNQUFjLEVBQUUsUUFBZ0I7UUFDakUsdUJBQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELE1BQU0sQ0FBQyxPQUFPLENBQUM7S0FDbEI7Ozs7O0lBRUQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFVO1FBQ3hCLHVCQUFN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LEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLE1BQU0sQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUMxRDtRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzFEO0tBQ0o7Ozs7O0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFZO1FBQy9CLE1BQU0sQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDM0M7Ozs7SUFFRCxNQUFNLEtBQUssV0FBVztRQUNsQixFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDdkQ7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUMzRDtLQUNKOzs7O0lBRUQsTUFBTSxLQUFLLG1CQUFtQjtRQUMxQixFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzNEO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMs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dWlsZCwgdG9JbnQgfSBmcm9tICcuL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRlUmFuZ2Uge1xyXG4gICAgc3RhcnREYXRlOiBEYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGVuZERhdGU6IERhdGUgPSBuZXcgRGF0ZSgpO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0ZUhlbHBlciB7XHJcblxyXG4gICAgc3RhdGljIE1vbnRoTmFtZXMgPSBbXHJcbiAgICAgICAgJ0phbnVhcnknLFxyXG4gICAgICAgICdGZWJydWFyeScsXHJcbiAgICAgICAgJ01hcmNoJyxcclxuICAgICAgICAnQXByaWwnLFxyXG4gICAgICAgICdNYXknLFxyXG4gICAgICAgICdKdW5lJyxcclxuICAgICAgICAnSnVseScsXHJcbiAgICAgICAgJ0F1Z3VzdCcsXHJcbiAgICAgICAgJ1NlcHRlbWJlcicsXHJcbiAgICAgICAgJ09jdG9iZXInLFxyXG4gICAgICAgICdOb3ZlbWJlcicsXHJcbiAgICAgICAgJ0RlY2VtYmVyJ1xyXG4gICAgXTtcclxuXHJcbiAgICBzdGF0aWMgQnVpbGRTdGFydFRpbWUoc3RhcnREYXRlOiBEYXRlLCBzdGFydEhvdXJzOiBudW1iZXIsIHN0YXJ0TWludXRlczogbnVtYmVyLCBzdGFydE1lcmlkaWFuOiAnQU0nIHwgJ1BNJyk6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XHJcbiAgICAgICAgY29uc3QgaG91cnMgPSBzdGFydE1lcmlkaWFuID09PSAnQU0nID8gc3RhcnRIb3VycyA6IHN0YXJ0SG91cnMgKyAxMjtcclxuICAgICAgICBzdGFydFRpbWUuc2V0SG91cnMoaG91cnMpO1xyXG4gICAgICAgIHN0YXJ0VGltZS5zZXRNaW51dGVzKHN0YXJ0TWludXRlcyk7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0VGltZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgQnVpbGRFbmRUaW1lKHN0YXJ0VGltZTogRGF0ZSwgZEhvdXJzOiBudW1iZXIsIGRNaW51dGVzOiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoc3RhcnRUaW1lKTtcclxuICAgICAgICBlbmRUaW1lLnNldEhvdXJzKGVuZFRpbWUuZ2V0SG91cnMoKSArIGRIb3Vycyk7XHJcbiAgICAgICAgZW5kVGltZS5zZXRNaW51dGVzKGVuZFRpbWUuZ2V0TWludXRlcygpICsgZE1pbnV0ZXMpO1xyXG4gICAgICAgIHJldHVybiBlbmRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBGb3JtYXREYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICBjb25zdCBtb250aCA9ICcnICsgKGQuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgIGNvbnN0IGRheSA9ICcnICsgZC5nZXREYXRlKCk7XHJcbiAgICAgICAgY29uc3QgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1vbnRoICYmIGRheSAmJiB5ZWFyID8gW21vbnRoLCBkYXksIHllYXJdLmpvaW4oJy8nKSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEZvcm1hdERhdGVEYXNoZXMoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIGxldCBtb250aCA9ICcnICsgKGQuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgIGxldCBkYXkgPSAnJyArIGQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIG1vbnRoID0gJzAnICsgbW9udGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXkubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICBkYXkgPSAnMCcgKyBkYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLmpvaW4oJy0nKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRm9ybWF0RGF0ZVNsYXNoZXMoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIGxldCBtb250aCA9ICcnICsgKGQuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgIGxldCBkYXkgPSAnJyArIGQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIG1vbnRoID0gJzAnICsgbW9udGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXkubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICBkYXkgPSAnMCcgKyBkYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW21vbnRoLCBkYXksIHllYXJdLmpvaW4oJy8nKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVGltZUFnbyhkYXRlOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWRhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIChuZXcgRGF0ZShkYXRlKSkuZ2V0VGltZSgpKSAvIDEwMDApO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IGludGVydmFsID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gMzE1MzYwMDApO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGludGVydmFsID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWwgKyAnIHllYXJzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJ2YWwgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAyNTkyMDAwKTtcclxuICAgICAgICBpZiAoaW50ZXJ2YWwgPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbCArICcgbW9udGhzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJ2YWwgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA4NjQwMCk7XHJcbiAgICAgICAgaWYgKGludGVydmFsID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJ2YWwgKyAnIGRheXMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcnZhbCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVydmFsICsgJyBob3Vycyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmFsID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xyXG4gICAgICAgIGlmIChpbnRlcnZhbCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVydmFsICsgJyBtaW51dGVzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3Ioc2Vjb25kcykgKyAnIHNlY29uZHMnO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb01vbnRoTmFtZShkOiBEYXRlKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuTW9udGhOYW1lc1tkYXRlLmdldE1vbnRoKCldO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb01vbnRoTnVtYmVyKGQ6IERhdGUpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9Nb250aE51bWJlckZyb21Nb250aFllYXIobW9udGhZZWFyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gbW9udGhZZWFyLnN1YnN0cihtb250aFllYXIubGVuZ3RoIC0gMik7XHJcbiAgICAgICAgcmV0dXJuIHRvSW50KG1vbnRoKSAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvTW9udGhOdW1iZXJGcm9tTW9udGhZZWFyTmFtZShtb250aFllYXI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgY29uc3QgcGFydHMgPSBtb250aFllYXIuc3BsaXQoL1xccyosXFxzKi8pO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gRGF0ZUhlbHBlci5Nb250aE51bWJlcnNbcGFydHNbMF1dO1xyXG4gICAgICAgIHJldHVybiBtb250aDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgVG9Nb250aFllYXIoZDogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoTnVtYmVyID0gRGF0ZUhlbHBlci5Ub01vbnRoTnVtYmVyKGRhdGUpO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gbW9udGhOdW1iZXIgPCAxMCA/IGAwJHttb250aE51bWJlcn1gIDogbW9udGhOdW1iZXI7XHJcbiAgICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHttb250aH1gO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBUb01vbnRoWWVhck5hbWUoZDogRGF0ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoID0gRGF0ZUhlbHBlci5Ub01vbnRoTmFtZShkYXRlKTtcclxuICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgIHJldHVybiBtb250aCAmJiB5ZWFyID8gYCR7bW9udGh9ICR7eWVhcn1gIDogJyc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIFRvWWVhck51bWJlckZyb21Nb250aFllYXIobW9udGhZZWFyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBtb250aFllYXIuc3Vic3RyaW5nKDAsIDQpO1xyXG4gICAgICAgIHJldHVybiB0b0ludCh5ZWFyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgRnJvbU1vbnRoWWVhcihtb250aFllYXI6IHN0cmluZyk6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IHllYXIgPSBEYXRlSGVscGVyLlRvWWVhck51bWJlckZyb21Nb250aFllYXIobW9udGhZZWFyKTtcclxuICAgICAgICBjb25zdCBtb250aCA9IERhdGVIZWxwZXIuVG9Nb250aE51bWJlckZyb21Nb250aFllYXIobW9udGhZZWFyKTtcclxuICAgICAgICByZXR1cm4geWVhciAmJiBtb250aCA/IG5ldyBEYXRlKHllYXIsIG1vbnRoKSA6IG5ldyBEYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIElzRGF0ZShkYXRlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGUpID09PSAnW29iamVjdCBEYXRlXSc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIElzVmFsaWREYXRlKGRhdGU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGVXcmFwcGVyID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgcmV0dXJuICFpc05hTihkYXRlV3JhcHBlci5nZXREYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgVG9kYXkoKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBNb250aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLlRvZGF5LmdldE1vbnRoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBNb250aE51bWJlcnMoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Nb250aE5hbWVzLnJlZHVjZSgoYWNjLCB4LCBpKSA9PiBPYmplY3QuYXNzaWduKHt9LCBhY2MsIHsgW3hdOiBpIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFllYXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Ub2RheS5nZXRGdWxsWWVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgTmV4dFNjaG9vbFllYXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5Nb250aCA8IDcgPyBEYXRlSGVscGVyLlllYXIgOiBEYXRlSGVscGVyLlllYXIgKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgTmV4dFNjaG9vbFllYXJTdGFydERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKERhdGVIZWxwZXIuU2Nob29sWWVhclN0YXJ0KERhdGVIZWxwZXIuTmV4dFNjaG9vbFllYXIpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFByZXZpb3VzU2Nob29sWWVhcigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBEYXRlSGVscGVyLk1vbnRoIDwgNyA/IERhdGVIZWxwZXIuWWVhciA6IERhdGVIZWxwZXIuWWVhciArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBQcmV2aW91c1NjaG9vbFllYXJFbmREYXRlKCk6IERhdGUge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlSGVscGVyLlNjaG9vbFllYXJFbmQoRGF0ZUhlbHBlci5QcmV2aW91c1NjaG9vbFllYXIpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IEZ1dHVyZURhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQWRkRGF5cyhkYXRlLCAxMDAwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgUGFzdERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuU3VidHJhY3REYXlzKGRhdGUsIDEwMDAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEFkZERheXMoZDogRGF0ZSwgZGF5czogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpO1xyXG4gICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBTdWJ0cmFjdERheXMoZDogRGF0ZSwgZGF5czogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGRheXMpO1xyXG4gICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBCdWlsZERhdGUoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBkYXk6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeWVhcik7XHJcbiAgICAgICAgZGF0ZS5zZXRNb250aChtb250aCk7XHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRheSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIERhdGVDaGFuZ2VkKGQxOiBEYXRlLCBkMjogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGUxID0gbmV3IERhdGUoZDEpO1xyXG4gICAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUoZDIpO1xyXG4gICAgICAgIHJldHVybiBkYXRlMS5nZXREYXRlKCkgIT09IGRhdGUyLmdldERhdGUoKSB8fCBkYXRlMS5nZXRNb250aCgpICE9PSBkYXRlMi5nZXRNb250aCgpIHx8IGRhdGUxLmdldEZ1bGxZZWFyKCkgIT09IGRhdGUyLmdldEZ1bGxZZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIElzU2FtZURheShkMTogRGF0ZSwgZDI6IERhdGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gIURhdGVIZWxwZXIuRGF0ZUNoYW5nZWQoZDEsIGQyKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFllYXJTdGFydERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgaWYgKERhdGVIZWxwZXIuTW9udGggPCA3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIgLSAxLCA2LCAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyLCA2LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBQcmV2aW91c1llYXJTdGFydERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgaWYgKERhdGVIZWxwZXIuTW9udGggPCA3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIgLSAyLCA2LCAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyIC0gMSwgNiwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBTY2hvb2xZZWFyU3RhcnQoeWVhcjogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKHllYXIsIDYsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgWWVhckVuZERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgaWYgKERhdGVIZWxwZXIuTW9udGggPCA3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIsIDUsIDMwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZUhlbHBlci5CdWlsZERhdGUoRGF0ZUhlbHBlci5ZZWFyICsgMSwgNSwgMzApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IFByZXZpb3VzWWVhckVuZERhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgaWYgKERhdGVIZWxwZXIuTW9udGggPCA3KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlSGVscGVyLkJ1aWxkRGF0ZShEYXRlSGVscGVyLlllYXIgLSAxLCA1LCAzMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKERhdGVIZWxwZXIuWWVhciwgNSwgMzApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU2Nob29sWWVhckVuZCh5ZWFyPzogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVIZWxwZXIuQnVpbGREYXRlKHllYXIgLSAxLCA1LCAzMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIEJ1aWxkRGF0ZVJhbmdlKGRhdGVSYW5nZUlkOiBudW1iZXIpOiBEYXRlUmFuZ2Uge1xyXG4gICAgICAgIGxldCBzdGFydERhdGU6IERhdGU7XHJcbiAgICAgICAgbGV0IGVuZERhdGU6IERhdGU7XHJcbiAgICAgICAgc3dpdGNoIChkYXRlUmFuZ2VJZCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjogLy8gVG9kYXlcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gc3RhcnREYXRlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzogLy8gTmV4dCAxNVxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5Ub2RheTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLkFkZERheXMoc3RhcnREYXRlLCAxNSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OiAvLyBOZXh0IDMwXHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuQWRkRGF5cyhzdGFydERhdGUsIDMwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDU6IC8vIE5leHQgNjBcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuVG9kYXk7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5BZGREYXlzKHN0YXJ0RGF0ZSwgNjApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjogLy8gUHJldmlvdXMgMTVcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5TdWJ0cmFjdERheXMoZW5kRGF0ZSwgMTUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNzogLy8gUHJldmlvdXMgMzBcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5TdWJ0cmFjdERheXMoZW5kRGF0ZSwgMzApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgODogLy8gUHJldmlvdXMgNjBcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5TdWJ0cmFjdERheXMoZW5kRGF0ZSwgNjApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTogLy8gU2Nob29sIFllYXIgLSBSdW5zIGZyb20gSnVseSAxc3QgVGhydSBKdW5lIDMwdGhcclxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IERhdGVIZWxwZXIuWWVhclN0YXJ0RGF0ZTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBEYXRlSGVscGVyLlllYXJFbmREYXRlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTA6IC8vIE51bWJlciBvZiBtZWV0aW5ncyA9IDEwXHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBEYXRlSGVscGVyLlRvZGF5O1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IERhdGVIZWxwZXIuRnV0dXJlRGF0ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDExOiAvLyBQcmV2aW91cyBTY2hvb2wgWWVhclxyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gRGF0ZUhlbHBlci5QcmV2aW91c1llYXJTdGFydERhdGU7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gRGF0ZUhlbHBlci5QcmV2aW91c1llYXJFbmREYXRlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWlsZChEYXRlUmFuZ2UsIHsgc3RhcnREYXRlLCBlbmREYXRlIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==